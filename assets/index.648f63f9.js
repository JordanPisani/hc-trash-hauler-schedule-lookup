var zE=Object.defineProperty;var VE=(e,t,r)=>t in e?zE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var i_=(e,t,r)=>(VE(e,typeof t!="symbol"?t+"":t,r),r);const UE=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}};UE();function Eb(e,t){const r=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)r[s[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const qE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",BE=Eb(qE);function v8(e){return!!e||e===""}function Ob(e){if(Pe(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],i=tr(s)?JE(s):Ob(s);if(i)for(const n in i)t[n]=i[n]}return t}else{if(tr(e))return e;if(Gt(e))return e}}const GE=/;(?![^(]*\))/g,HE=/:(.+)/;function JE(e){const t={};return e.split(GE).forEach(r=>{if(r){const s=r.split(HE);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function vd(e){let t="";if(tr(e))t=e;else if(Pe(e))for(let r=0;r<e.length;r++){const s=vd(e[r]);s&&(t+=s+" ")}else if(Gt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function WE(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Ch(e[s],t[s]);return r}function Ch(e,t){if(e===t)return!0;let r=n_(e),s=n_(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=Pe(e),s=Pe(t),r||s)return r&&s?WE(e,t):!1;if(r=Gt(e),s=Gt(t),r||s){if(!r||!s)return!1;const i=Object.keys(e).length,n=Object.keys(t).length;if(i!==n)return!1;for(const a in e){const u=e.hasOwnProperty(a),d=t.hasOwnProperty(a);if(u&&!d||!u&&d||!Ch(e[a],t[a]))return!1}}return String(e)===String(t)}const zs=e=>tr(e)?e:e==null?"":Pe(e)||Gt(e)&&(e.toString===S8||!Ue(e.toString))?JSON.stringify(e,b8,2):String(e),b8=(e,t)=>t&&t.__v_isRef?b8(e,t.value):$l(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,i])=>(r[`${s} =>`]=i,r),{})}:w8(t)?{[`Set(${t.size})`]:[...t.values()]}:Gt(t)&&!Pe(t)&&!$8(t)?String(t):t,mt={},Sl=[],Us=()=>{},KE=()=>!1,QE=/^on[^a-z]/,Ef=e=>QE.test(e),kb=e=>e.startsWith("onUpdate:"),Mr=Object.assign,Tb=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},ZE=Object.prototype.hasOwnProperty,Ye=(e,t)=>ZE.call(e,t),Pe=Array.isArray,$l=e=>Of(e)==="[object Map]",w8=e=>Of(e)==="[object Set]",n_=e=>e instanceof Date,Ue=e=>typeof e=="function",tr=e=>typeof e=="string",jb=e=>typeof e=="symbol",Gt=e=>e!==null&&typeof e=="object",_8=e=>Gt(e)&&Ue(e.then)&&Ue(e.catch),S8=Object.prototype.toString,Of=e=>S8.call(e),YE=e=>Of(e).slice(8,-1),$8=e=>Of(e)==="[object Object]",Cb=e=>tr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pp=Eb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kf=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},XE=/-(\w)/g,Fl=kf(e=>e.replace(XE,(t,r)=>r?r.toUpperCase():"")),eO=/\B([A-Z])/g,Jl=kf(e=>e.replace(eO,"-$1").toLowerCase()),x8=kf(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ly=kf(e=>e?`on${x8(e)}`:""),Vc=(e,t)=>!Object.is(e,t),Fp=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ah=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Am=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let o_;const tO=()=>o_||(o_=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ti;class rO{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Ti&&(this.parent=Ti,this.index=(Ti.scopes||(Ti.scopes=[])).push(this)-1)}run(t){if(this.active)try{return Ti=this,t()}finally{Ti=this.parent}}on(){Ti=this}off(){Ti=this.parent}stop(t){if(this.active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function sO(e,t=Ti){t&&t.active&&t.effects.push(e)}const Ab=e=>{const t=new Set(e);return t.w=0,t.n=0,t},M8=e=>(e.w&so)>0,I8=e=>(e.n&so)>0,iO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=so},nO=e=>{const{deps:t}=e;if(t.length){let r=0;for(let s=0;s<t.length;s++){const i=t[s];M8(i)&&!I8(i)?i.delete(e):t[r++]=i,i.w&=~so,i.n&=~so}t.length=r}},Rm=new WeakMap;let ju=0,so=1;const Pm=30;let gi;const la=Symbol(""),Fm=Symbol("");class Rb{constructor(t,r=null,s){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,sO(this,s)}run(){if(!this.active)return this.fn();let t=gi,r=Yn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=gi,gi=this,Yn=!0,so=1<<++ju,ju<=Pm?iO(this):a_(this),this.fn()}finally{ju<=Pm&&nO(this),so=1<<--ju,gi=this.parent,Yn=r,this.parent=void 0}}stop(){this.active&&(a_(this),this.onStop&&this.onStop(),this.active=!1)}}function a_(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Yn=!0;const E8=[];function Wl(){E8.push(Yn),Yn=!1}function Kl(){const e=E8.pop();Yn=e===void 0?!0:e}function Qr(e,t,r){if(Yn&&gi){let s=Rm.get(e);s||Rm.set(e,s=new Map);let i=s.get(r);i||s.set(r,i=Ab()),O8(i)}}function O8(e,t){let r=!1;ju<=Pm?I8(e)||(e.n|=so,r=!M8(e)):r=!e.has(gi),r&&(e.add(gi),gi.deps.push(e))}function tn(e,t,r,s,i,n){const a=Rm.get(e);if(!a)return;let u=[];if(t==="clear")u=[...a.values()];else if(r==="length"&&Pe(e))a.forEach((d,p)=>{(p==="length"||p>=s)&&u.push(d)});else switch(r!==void 0&&u.push(a.get(r)),t){case"add":Pe(e)?Cb(r)&&u.push(a.get("length")):(u.push(a.get(la)),$l(e)&&u.push(a.get(Fm)));break;case"delete":Pe(e)||(u.push(a.get(la)),$l(e)&&u.push(a.get(Fm)));break;case"set":$l(e)&&u.push(a.get(la));break}if(u.length===1)u[0]&&Lm(u[0]);else{const d=[];for(const p of u)p&&d.push(...p);Lm(Ab(d))}}function Lm(e,t){for(const r of Pe(e)?e:[...e])(r!==gi||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const oO=Eb("__proto__,__v_isRef,__isVue"),k8=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(jb)),aO=Pb(),lO=Pb(!1,!0),uO=Pb(!0),l_=cO();function cO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const s=ot(this);for(let n=0,a=this.length;n<a;n++)Qr(s,"get",n+"");const i=s[t](...r);return i===-1||i===!1?s[t](...r.map(ot)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Wl();const s=ot(this)[t].apply(this,r);return Kl(),s}}),e}function Pb(e=!1,t=!1){return function(s,i,n){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&n===(e?t?IO:R8:t?A8:C8).get(s))return s;const a=Pe(s);if(!e&&a&&Ye(l_,i))return Reflect.get(l_,i,n);const u=Reflect.get(s,i,n);return(jb(i)?k8.has(i):oO(i))||(e||Qr(s,"get",i),t)?u:er(u)?!a||!Cb(i)?u.value:u:Gt(u)?e?P8(u):Js(u):u}}const dO=T8(),pO=T8(!0);function T8(e=!1){return function(r,s,i,n){let a=r[s];if(Uc(a)&&er(a)&&!er(i))return!1;if(!e&&!Uc(i)&&(F8(i)||(i=ot(i),a=ot(a)),!Pe(r)&&er(a)&&!er(i)))return a.value=i,!0;const u=Pe(r)&&Cb(s)?Number(s)<r.length:Ye(r,s),d=Reflect.set(r,s,i,n);return r===ot(n)&&(u?Vc(i,a)&&tn(r,"set",s,i):tn(r,"add",s,i)),d}}function hO(e,t){const r=Ye(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&r&&tn(e,"delete",t,void 0),s}function fO(e,t){const r=Reflect.has(e,t);return(!jb(t)||!k8.has(t))&&Qr(e,"has",t),r}function yO(e){return Qr(e,"iterate",Pe(e)?"length":la),Reflect.ownKeys(e)}const j8={get:aO,set:dO,deleteProperty:hO,has:fO,ownKeys:yO},mO={get:uO,set(e,t){return!0},deleteProperty(e,t){return!0}},gO=Mr({},j8,{get:lO,set:pO}),Fb=e=>e,Tf=e=>Reflect.getPrototypeOf(e);function Zd(e,t,r=!1,s=!1){e=e.__v_raw;const i=ot(e),n=ot(t);t!==n&&!r&&Qr(i,"get",t),!r&&Qr(i,"get",n);const{has:a}=Tf(i),u=s?Fb:r?Db:qc;if(a.call(i,t))return u(e.get(t));if(a.call(i,n))return u(e.get(n));e!==i&&e.get(t)}function Yd(e,t=!1){const r=this.__v_raw,s=ot(r),i=ot(e);return e!==i&&!t&&Qr(s,"has",e),!t&&Qr(s,"has",i),e===i?r.has(e):r.has(e)||r.has(i)}function Xd(e,t=!1){return e=e.__v_raw,!t&&Qr(ot(e),"iterate",la),Reflect.get(e,"size",e)}function u_(e){e=ot(e);const t=ot(this);return Tf(t).has.call(t,e)||(t.add(e),tn(t,"add",e,e)),this}function c_(e,t){t=ot(t);const r=ot(this),{has:s,get:i}=Tf(r);let n=s.call(r,e);n||(e=ot(e),n=s.call(r,e));const a=i.call(r,e);return r.set(e,t),n?Vc(t,a)&&tn(r,"set",e,t):tn(r,"add",e,t),this}function d_(e){const t=ot(this),{has:r,get:s}=Tf(t);let i=r.call(t,e);i||(e=ot(e),i=r.call(t,e)),s&&s.call(t,e);const n=t.delete(e);return i&&tn(t,"delete",e,void 0),n}function p_(){const e=ot(this),t=e.size!==0,r=e.clear();return t&&tn(e,"clear",void 0,void 0),r}function ep(e,t){return function(s,i){const n=this,a=n.__v_raw,u=ot(a),d=t?Fb:e?Db:qc;return!e&&Qr(u,"iterate",la),a.forEach((p,f)=>s.call(i,d(p),d(f),n))}}function tp(e,t,r){return function(...s){const i=this.__v_raw,n=ot(i),a=$l(n),u=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,p=i[e](...s),f=r?Fb:t?Db:qc;return!t&&Qr(n,"iterate",d?Fm:la),{next(){const{value:y,done:v}=p.next();return v?{value:y,done:v}:{value:u?[f(y[0]),f(y[1])]:f(y),done:v}},[Symbol.iterator](){return this}}}}function fn(e){return function(...t){return e==="delete"?!1:this}}function vO(){const e={get(n){return Zd(this,n)},get size(){return Xd(this)},has:Yd,add:u_,set:c_,delete:d_,clear:p_,forEach:ep(!1,!1)},t={get(n){return Zd(this,n,!1,!0)},get size(){return Xd(this)},has:Yd,add:u_,set:c_,delete:d_,clear:p_,forEach:ep(!1,!0)},r={get(n){return Zd(this,n,!0)},get size(){return Xd(this,!0)},has(n){return Yd.call(this,n,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:ep(!0,!1)},s={get(n){return Zd(this,n,!0,!0)},get size(){return Xd(this,!0)},has(n){return Yd.call(this,n,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:ep(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=tp(n,!1,!1),r[n]=tp(n,!0,!1),t[n]=tp(n,!1,!0),s[n]=tp(n,!0,!0)}),[e,r,t,s]}const[bO,wO,_O,SO]=vO();function Lb(e,t){const r=t?e?SO:_O:e?wO:bO;return(s,i,n)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Ye(r,i)&&i in s?r:s,i,n)}const $O={get:Lb(!1,!1)},xO={get:Lb(!1,!0)},MO={get:Lb(!0,!1)},C8=new WeakMap,A8=new WeakMap,R8=new WeakMap,IO=new WeakMap;function EO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OO(e){return e.__v_skip||!Object.isExtensible(e)?0:EO(YE(e))}function Js(e){return Uc(e)?e:Nb(e,!1,j8,$O,C8)}function kO(e){return Nb(e,!1,gO,xO,A8)}function P8(e){return Nb(e,!0,mO,MO,R8)}function Nb(e,t,r,s,i){if(!Gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=i.get(e);if(n)return n;const a=OO(e);if(a===0)return e;const u=new Proxy(e,a===2?s:r);return i.set(e,u),u}function xl(e){return Uc(e)?xl(e.__v_raw):!!(e&&e.__v_isReactive)}function Uc(e){return!!(e&&e.__v_isReadonly)}function F8(e){return!!(e&&e.__v_isShallow)}function L8(e){return xl(e)||Uc(e)}function ot(e){const t=e&&e.__v_raw;return t?ot(t):e}function N8(e){return Ah(e,"__v_skip",!0),e}const qc=e=>Gt(e)?Js(e):e,Db=e=>Gt(e)?P8(e):e;function D8(e){Yn&&gi&&(e=ot(e),O8(e.dep||(e.dep=Ab())))}function z8(e,t){e=ot(e),e.dep&&Lm(e.dep)}function er(e){return!!(e&&e.__v_isRef===!0)}function V8(e){return TO(e,!1)}function TO(e,t){return er(e)?e:new jO(e,t)}class jO{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ot(t),this._value=r?t:qc(t)}get value(){return D8(this),this._value}set value(t){t=this.__v_isShallow?t:ot(t),Vc(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:qc(t),z8(this))}}function je(e){return er(e)?e.value:e}const CO={get:(e,t,r)=>je(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const i=e[t];return er(i)&&!er(r)?(i.value=r,!0):Reflect.set(e,t,r,s)}};function U8(e){return xl(e)?e:new Proxy(e,CO)}class AO{constructor(t,r,s,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Rb(t,()=>{this._dirty||(this._dirty=!0,z8(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=ot(this);return D8(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function RO(e,t,r=!1){let s,i;const n=Ue(e);return n?(s=e,i=Us):(s=e.get,i=e.set),new AO(s,i,n||!i,r)}Promise.resolve();function Xn(e,t,r,s){let i;try{i=s?e(...s):e()}catch(n){jf(n,t,r)}return i}function qs(e,t,r,s){if(Ue(e)){const n=Xn(e,t,r,s);return n&&_8(n)&&n.catch(a=>{jf(a,t,r)}),n}const i=[];for(let n=0;n<e.length;n++)i.push(qs(e[n],t,r,s));return i}function jf(e,t,r,s=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const a=t.proxy,u=r;for(;n;){const p=n.ec;if(p){for(let f=0;f<p.length;f++)if(p[f](e,a,u)===!1)return}n=n.parent}const d=t.appContext.config.errorHandler;if(d){Xn(d,null,10,[e,a,u]);return}}PO(e,r,i,s)}function PO(e,t,r,s=!0){console.error(e)}let Rh=!1,Nm=!1;const Wr=[];let Ki=0;const wc=[];let Cu=null,qa=0;const _c=[];let wn=null,Ba=0;const q8=Promise.resolve();let zb=null,Dm=null;function FO(e){const t=zb||q8;return e?t.then(this?e.bind(this):e):t}function LO(e){let t=Ki+1,r=Wr.length;for(;t<r;){const s=t+r>>>1;Bc(Wr[s])<e?t=s+1:r=s}return t}function B8(e){(!Wr.length||!Wr.includes(e,Rh&&e.allowRecurse?Ki+1:Ki))&&e!==Dm&&(e.id==null?Wr.push(e):Wr.splice(LO(e.id),0,e),G8())}function G8(){!Rh&&!Nm&&(Nm=!0,zb=q8.then(W8))}function NO(e){const t=Wr.indexOf(e);t>Ki&&Wr.splice(t,1)}function H8(e,t,r,s){Pe(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?s+1:s))&&r.push(e),G8()}function DO(e){H8(e,Cu,wc,qa)}function zO(e){H8(e,wn,_c,Ba)}function Vb(e,t=null){if(wc.length){for(Dm=t,Cu=[...new Set(wc)],wc.length=0,qa=0;qa<Cu.length;qa++)Cu[qa]();Cu=null,qa=0,Dm=null,Vb(e,t)}}function J8(e){if(_c.length){const t=[...new Set(_c)];if(_c.length=0,wn){wn.push(...t);return}for(wn=t,wn.sort((r,s)=>Bc(r)-Bc(s)),Ba=0;Ba<wn.length;Ba++)wn[Ba]();wn=null,Ba=0}}const Bc=e=>e.id==null?1/0:e.id;function W8(e){Nm=!1,Rh=!0,Vb(e),Wr.sort((r,s)=>Bc(r)-Bc(s));const t=Us;try{for(Ki=0;Ki<Wr.length;Ki++){const r=Wr[Ki];r&&r.active!==!1&&Xn(r,null,14)}}finally{Ki=0,Wr.length=0,J8(),Rh=!1,zb=null,(Wr.length||wc.length||_c.length)&&W8(e)}}function VO(e,t,...r){const s=e.vnode.props||mt;let i=r;const n=t.startsWith("update:"),a=n&&t.slice(7);if(a&&a in s){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:y,trim:v}=s[f]||mt;v?i=r.map(b=>b.trim()):y&&(i=r.map(Am))}let u,d=s[u=Ly(t)]||s[u=Ly(Fl(t))];!d&&n&&(d=s[u=Ly(Jl(t))]),d&&qs(d,e,6,i);const p=s[u+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,qs(p,e,6,i)}}function K8(e,t,r=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const n=e.emits;let a={},u=!1;if(!Ue(e)){const d=p=>{const f=K8(p,t,!0);f&&(u=!0,Mr(a,f))};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!n&&!u?(s.set(e,null),null):(Pe(n)?n.forEach(d=>a[d]=null):Mr(a,n),s.set(e,a),a)}function Ub(e,t){return!e||!Ef(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ye(e,t[0].toLowerCase()+t.slice(1))||Ye(e,Jl(t))||Ye(e,t))}let vi=null,Q8=null;function Ph(e){const t=vi;return vi=e,Q8=e&&e.type.__scopeId||null,t}function UO(e,t=vi,r){if(!t||e._n)return e;const s=(...i)=>{s._d&&__(-1);const n=Ph(t),a=e(...i);return Ph(n),s._d&&__(1),a};return s._n=!0,s._c=!0,s._d=!0,s}function Ny(e){const{type:t,vnode:r,proxy:s,withProxy:i,props:n,propsOptions:[a],slots:u,attrs:d,emit:p,render:f,renderCache:y,data:v,setupState:b,ctx:$,inheritAttrs:k}=e;let E,P;const Q=Ph(e);try{if(r.shapeFlag&4){const h=i||s;E=yi(f.call(h,h,y,n,b,v,$)),P=d}else{const h=t;E=yi(h.length>1?h(n,{attrs:d,slots:u,emit:p}):h(n,null)),P=t.props?d:qO(d)}}catch(h){$c.length=0,jf(h,e,1),E=ys(fa)}let Z=E;if(P&&k!==!1){const h=Object.keys(P),{shapeFlag:g}=Z;h.length&&g&7&&(a&&h.some(kb)&&(P=BO(P,a)),Z=Gc(Z,P))}return r.dirs&&(Z.dirs=Z.dirs?Z.dirs.concat(r.dirs):r.dirs),r.transition&&(Z.transition=r.transition),E=Z,Ph(Q),E}const qO=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ef(r))&&((t||(t={}))[r]=e[r]);return t},BO=(e,t)=>{const r={};for(const s in e)(!kb(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function GO(e,t,r){const{props:s,children:i,component:n}=e,{props:a,children:u,patchFlag:d}=t,p=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?h_(s,a,p):!!a;if(d&8){const f=t.dynamicProps;for(let y=0;y<f.length;y++){const v=f[y];if(a[v]!==s[v]&&!Ub(p,v))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:s===a?!1:s?a?h_(s,a,p):!0:!!a;return!1}function h_(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const n=s[i];if(t[n]!==e[n]&&!Ub(r,n))return!0}return!1}function HO({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const JO=e=>e.__isSuspense;function WO(e,t){t&&t.pendingBranch?Pe(e)?t.effects.push(...e):t.effects.push(e):zO(e)}function KO(e,t){if(fr){let r=fr.provides;const s=fr.parent&&fr.parent.provides;s===r&&(r=fr.provides=Object.create(s)),r[e]=t}}function Dy(e,t,r=!1){const s=fr||vi;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Ue(t)?t.call(s.proxy):t}}const f_={};function Sc(e,t,r){return Z8(e,t,r)}function Z8(e,t,{immediate:r,deep:s,flush:i,onTrack:n,onTrigger:a}=mt){const u=fr;let d,p=!1,f=!1;if(er(e)?(d=()=>e.value,p=F8(e)):xl(e)?(d=()=>e,s=!0):Pe(e)?(f=!0,p=e.some(xl),d=()=>e.map(P=>{if(er(P))return P.value;if(xl(P))return ra(P);if(Ue(P))return Xn(P,u,2)})):Ue(e)?t?d=()=>Xn(e,u,2):d=()=>{if(!(u&&u.isUnmounted))return y&&y(),qs(e,u,3,[v])}:d=Us,t&&s){const P=d;d=()=>ra(P())}let y,v=P=>{y=E.onStop=()=>{Xn(P,u,4)}};if(Hc)return v=Us,t?r&&qs(t,u,3,[d(),f?[]:void 0,v]):d(),Us;let b=f?[]:f_;const $=()=>{if(!!E.active)if(t){const P=E.run();(s||p||(f?P.some((Q,Z)=>Vc(Q,b[Z])):Vc(P,b)))&&(y&&y(),qs(t,u,3,[P,b===f_?void 0:b,v]),b=P)}else E.run()};$.allowRecurse=!!t;let k;i==="sync"?k=$:i==="post"?k=()=>Cr($,u&&u.suspense):k=()=>{!u||u.isMounted?DO($):$()};const E=new Rb(d,k);return t?r?$():b=E.run():i==="post"?Cr(E.run.bind(E),u&&u.suspense):E.run(),()=>{E.stop(),u&&u.scope&&Tb(u.scope.effects,E)}}function QO(e,t,r){const s=this.proxy,i=tr(e)?e.includes(".")?Y8(s,e):()=>s[e]:e.bind(s,s);let n;Ue(t)?n=t:(n=t.handler,r=t);const a=fr;Ll(this);const u=Z8(i,n.bind(s),r);return a?Ll(a):ca(),u}function Y8(e,t){const r=t.split(".");return()=>{let s=e;for(let i=0;i<r.length&&s;i++)s=s[r[i]];return s}}function ra(e,t){if(!Gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),er(e))ra(e.value,t);else if(Pe(e))for(let r=0;r<e.length;r++)ra(e[r],t);else if(w8(e)||$l(e))e.forEach(r=>{ra(r,t)});else if($8(e))for(const r in e)ra(e[r],t);return e}function Cf(e){return Ue(e)?{setup:e,name:e.name}:e}const zm=e=>!!e.type.__asyncLoader,X8=e=>e.type.__isKeepAlive;function ZO(e,t){e$(e,"a",t)}function YO(e,t){e$(e,"da",t)}function e$(e,t,r=fr){const s=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Af(t,s,r),r){let i=r.parent;for(;i&&i.parent;)X8(i.parent.vnode)&&XO(s,t,r,i),i=i.parent}}function XO(e,t,r,s){const i=Af(t,e,s,!0);t$(()=>{Tb(s[t],i)},r)}function Af(e,t,r=fr,s=!1){if(r){const i=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;Wl(),Ll(r);const u=qs(t,r,e,a);return ca(),Kl(),u});return s?i.unshift(n):i.push(n),n}}const ln=e=>(t,r=fr)=>(!Hc||e==="sp")&&Af(e,t,r),ek=ln("bm"),tk=ln("m"),rk=ln("bu"),sk=ln("u"),ik=ln("bum"),t$=ln("um"),nk=ln("sp"),ok=ln("rtg"),ak=ln("rtc");function lk(e,t=fr){Af("ec",e,t)}let Vm=!0;function uk(e){const t=s$(e),r=e.proxy,s=e.ctx;Vm=!1,t.beforeCreate&&y_(t.beforeCreate,e,"bc");const{data:i,computed:n,methods:a,watch:u,provide:d,inject:p,created:f,beforeMount:y,mounted:v,beforeUpdate:b,updated:$,activated:k,deactivated:E,beforeDestroy:P,beforeUnmount:Q,destroyed:Z,unmounted:h,render:g,renderTracked:m,renderTriggered:_,errorCaptured:x,serverPrefetch:T,expose:S,inheritAttrs:C,components:J,directives:B,filters:V}=t;if(p&&ck(p,s,null,e.appContext.config.unwrapInjectedRef),a)for(const U in a){const te=a[U];Ue(te)&&(s[U]=te.bind(r))}if(i){const U=i.call(r,r);Gt(U)&&(e.data=Js(U))}if(Vm=!0,n)for(const U in n){const te=n[U],de=Ue(te)?te.bind(r,r):Ue(te.get)?te.get.bind(r,r):Us,Ie=!Ue(te)&&Ue(te.set)?te.set.bind(r):Us,ge=un({get:de,set:Ie});Object.defineProperty(s,U,{enumerable:!0,configurable:!0,get:()=>ge.value,set:at=>ge.value=at})}if(u)for(const U in u)r$(u[U],s,r,U);if(d){const U=Ue(d)?d.call(r):d;Reflect.ownKeys(U).forEach(te=>{KO(te,U[te])})}f&&y_(f,e,"c");function M(U,te){Pe(te)?te.forEach(de=>U(de.bind(r))):te&&U(te.bind(r))}if(M(ek,y),M(tk,v),M(rk,b),M(sk,$),M(ZO,k),M(YO,E),M(lk,x),M(ak,m),M(ok,_),M(ik,Q),M(t$,h),M(nk,T),Pe(S))if(S.length){const U=e.exposed||(e.exposed={});S.forEach(te=>{Object.defineProperty(U,te,{get:()=>r[te],set:de=>r[te]=de})})}else e.exposed||(e.exposed={});g&&e.render===Us&&(e.render=g),C!=null&&(e.inheritAttrs=C),J&&(e.components=J),B&&(e.directives=B)}function ck(e,t,r=Us,s=!1){Pe(e)&&(e=Um(e));for(const i in e){const n=e[i];let a;Gt(n)?"default"in n?a=Dy(n.from||i,n.default,!0):a=Dy(n.from||i):a=Dy(n),er(a)&&s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):t[i]=a}}function y_(e,t,r){qs(Pe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function r$(e,t,r,s){const i=s.includes(".")?Y8(r,s):()=>r[s];if(tr(e)){const n=t[e];Ue(n)&&Sc(i,n)}else if(Ue(e))Sc(i,e.bind(r));else if(Gt(e))if(Pe(e))e.forEach(n=>r$(n,t,r,s));else{const n=Ue(e.handler)?e.handler.bind(r):t[e.handler];Ue(n)&&Sc(i,n,e)}}function s$(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:i,optionsCache:n,config:{optionMergeStrategies:a}}=e.appContext,u=n.get(t);let d;return u?d=u:!i.length&&!r&&!s?d=t:(d={},i.length&&i.forEach(p=>Fh(d,p,a,!0)),Fh(d,t,a)),n.set(t,d),d}function Fh(e,t,r,s=!1){const{mixins:i,extends:n}=t;n&&Fh(e,n,r,!0),i&&i.forEach(a=>Fh(e,a,r,!0));for(const a in t)if(!(s&&a==="expose")){const u=dk[a]||r&&r[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const dk={data:m_,props:_o,emits:_o,methods:_o,computed:_o,beforeCreate:br,created:br,beforeMount:br,mounted:br,beforeUpdate:br,updated:br,beforeDestroy:br,beforeUnmount:br,destroyed:br,unmounted:br,activated:br,deactivated:br,errorCaptured:br,serverPrefetch:br,components:_o,directives:_o,watch:hk,provide:m_,inject:pk};function m_(e,t){return t?e?function(){return Mr(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function pk(e,t){return _o(Um(e),Um(t))}function Um(e){if(Pe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function br(e,t){return e?[...new Set([].concat(e,t))]:t}function _o(e,t){return e?Mr(Mr(Object.create(null),e),t):t}function hk(e,t){if(!e)return t;if(!t)return e;const r=Mr(Object.create(null),e);for(const s in t)r[s]=br(e[s],t[s]);return r}function fk(e,t,r,s=!1){const i={},n={};Ah(n,Rf,1),e.propsDefaults=Object.create(null),i$(e,t,i,n);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=s?i:kO(i):e.type.props?e.props=i:e.props=n,e.attrs=n}function yk(e,t,r,s){const{props:i,attrs:n,vnode:{patchFlag:a}}=e,u=ot(i),[d]=e.propsOptions;let p=!1;if((s||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let y=0;y<f.length;y++){let v=f[y];const b=t[v];if(d)if(Ye(n,v))b!==n[v]&&(n[v]=b,p=!0);else{const $=Fl(v);i[$]=qm(d,u,$,b,e,!1)}else b!==n[v]&&(n[v]=b,p=!0)}}}else{i$(e,t,i,n)&&(p=!0);let f;for(const y in u)(!t||!Ye(t,y)&&((f=Jl(y))===y||!Ye(t,f)))&&(d?r&&(r[y]!==void 0||r[f]!==void 0)&&(i[y]=qm(d,u,y,void 0,e,!0)):delete i[y]);if(n!==u)for(const y in n)(!t||!Ye(t,y)&&!0)&&(delete n[y],p=!0)}p&&tn(e,"set","$attrs")}function i$(e,t,r,s){const[i,n]=e.propsOptions;let a=!1,u;if(t)for(let d in t){if(Pp(d))continue;const p=t[d];let f;i&&Ye(i,f=Fl(d))?!n||!n.includes(f)?r[f]=p:(u||(u={}))[f]=p:Ub(e.emitsOptions,d)||(!(d in s)||p!==s[d])&&(s[d]=p,a=!0)}if(n){const d=ot(r),p=u||mt;for(let f=0;f<n.length;f++){const y=n[f];r[y]=qm(i,d,y,p[y],e,!Ye(p,y))}}return a}function qm(e,t,r,s,i,n){const a=e[r];if(a!=null){const u=Ye(a,"default");if(u&&s===void 0){const d=a.default;if(a.type!==Function&&Ue(d)){const{propsDefaults:p}=i;r in p?s=p[r]:(Ll(i),s=p[r]=d.call(null,t),ca())}else s=d}a[0]&&(n&&!u?s=!1:a[1]&&(s===""||s===Jl(r))&&(s=!0))}return s}function n$(e,t,r=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const n=e.props,a={},u=[];let d=!1;if(!Ue(e)){const f=y=>{d=!0;const[v,b]=n$(y,t,!0);Mr(a,v),b&&u.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!d)return s.set(e,Sl),Sl;if(Pe(n))for(let f=0;f<n.length;f++){const y=Fl(n[f]);g_(y)&&(a[y]=mt)}else if(n)for(const f in n){const y=Fl(f);if(g_(y)){const v=n[f],b=a[y]=Pe(v)||Ue(v)?{type:v}:v;if(b){const $=w_(Boolean,b.type),k=w_(String,b.type);b[0]=$>-1,b[1]=k<0||$<k,($>-1||Ye(b,"default"))&&u.push(y)}}}const p=[a,u];return s.set(e,p),p}function g_(e){return e[0]!=="$"}function v_(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function b_(e,t){return v_(e)===v_(t)}function w_(e,t){return Pe(t)?t.findIndex(r=>b_(r,e)):Ue(t)&&b_(t,e)?0:-1}const o$=e=>e[0]==="_"||e==="$stable",qb=e=>Pe(e)?e.map(yi):[yi(e)],mk=(e,t,r)=>{const s=UO((...i)=>qb(t(...i)),r);return s._c=!1,s},a$=(e,t,r)=>{const s=e._ctx;for(const i in e){if(o$(i))continue;const n=e[i];if(Ue(n))t[i]=mk(i,n,s);else if(n!=null){const a=qb(n);t[i]=()=>a}}},l$=(e,t)=>{const r=qb(t);e.slots.default=()=>r},gk=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ot(t),Ah(t,"_",r)):a$(t,e.slots={})}else e.slots={},t&&l$(e,t);Ah(e.slots,Rf,1)},vk=(e,t,r)=>{const{vnode:s,slots:i}=e;let n=!0,a=mt;if(s.shapeFlag&32){const u=t._;u?r&&u===1?n=!1:(Mr(i,t),!r&&u===1&&delete i._):(n=!t.$stable,a$(t,i)),a=t}else t&&(l$(e,t),a={default:1});if(n)for(const u in i)!o$(u)&&!(u in a)&&delete i[u]};function zy(e,t){const r=vi;if(r===null)return e;const s=r.proxy,i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,u,d,p=mt]=t[n];Ue(a)&&(a={mounted:a,updated:a}),a.deep&&ra(u),i.push({dir:a,instance:s,value:u,oldValue:void 0,arg:d,modifiers:p})}return e}function go(e,t,r,s){const i=e.dirs,n=t&&t.dirs;for(let a=0;a<i.length;a++){const u=i[a];n&&(u.oldValue=n[a].value);let d=u.dir[s];d&&(Wl(),qs(d,r,8,[e.el,u,e,t]),Kl())}}function u$(){return{app:null,config:{isNativeTag:KE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bk=0;function wk(e,t){return function(s,i=null){i!=null&&!Gt(i)&&(i=null);const n=u$(),a=new Set;let u=!1;const d=n.app={_uid:bk++,_component:s,_props:i,_container:null,_context:n,_instance:null,version:Vk,get config(){return n.config},set config(p){},use(p,...f){return a.has(p)||(p&&Ue(p.install)?(a.add(p),p.install(d,...f)):Ue(p)&&(a.add(p),p(d,...f))),d},mixin(p){return n.mixins.includes(p)||n.mixins.push(p),d},component(p,f){return f?(n.components[p]=f,d):n.components[p]},directive(p,f){return f?(n.directives[p]=f,d):n.directives[p]},mount(p,f,y){if(!u){const v=ys(s,i);return v.appContext=n,f&&t?t(v,p):e(v,p,y),u=!0,d._container=p,p.__vue_app__=d,Hb(v.component)||v.component.proxy}},unmount(){u&&(e(null,d._container),delete d._container.__vue_app__)},provide(p,f){return n.provides[p]=f,d}};return d}}function Bm(e,t,r,s,i=!1){if(Pe(e)){e.forEach((v,b)=>Bm(v,t&&(Pe(t)?t[b]:t),r,s,i));return}if(zm(s)&&!i)return;const n=s.shapeFlag&4?Hb(s.component)||s.component.proxy:s.el,a=i?null:n,{i:u,r:d}=e,p=t&&t.r,f=u.refs===mt?u.refs={}:u.refs,y=u.setupState;if(p!=null&&p!==d&&(tr(p)?(f[p]=null,Ye(y,p)&&(y[p]=null)):er(p)&&(p.value=null)),Ue(d))Xn(d,u,12,[a,f]);else{const v=tr(d),b=er(d);if(v||b){const $=()=>{if(e.f){const k=v?f[d]:d.value;i?Pe(k)&&Tb(k,n):Pe(k)?k.includes(n)||k.push(n):v?f[d]=[n]:(d.value=[n],e.k&&(f[e.k]=d.value))}else v?(f[d]=a,Ye(y,d)&&(y[d]=a)):er(d)&&(d.value=a,e.k&&(f[e.k]=a))};a?($.id=-1,Cr($,r)):$()}}}const Cr=WO;function _k(e){return Sk(e)}function Sk(e,t){const r=tO();r.__VUE__=!0;const{insert:s,remove:i,patchProp:n,createElement:a,createText:u,createComment:d,setText:p,setElementText:f,parentNode:y,nextSibling:v,setScopeId:b=Us,cloneNode:$,insertStaticContent:k}=e,E=(j,A,F,Y=null,ee=null,le=null,pe=!1,oe=null,ue=!!A.dynamicChildren)=>{if(j===A)return;j&&!gu(j,A)&&(Y=Mt(j),et(j,ee,le,!0),j=null),A.patchFlag===-2&&(ue=!1,A.dynamicChildren=null);const{type:se,ref:Se,shapeFlag:ve}=A;switch(se){case Bb:P(j,A,F,Y);break;case fa:Q(j,A,F,Y);break;case Vy:j==null&&Z(A,F,Y,pe);break;case Rr:B(j,A,F,Y,ee,le,pe,oe,ue);break;default:ve&1?m(j,A,F,Y,ee,le,pe,oe,ue):ve&6?V(j,A,F,Y,ee,le,pe,oe,ue):(ve&64||ve&128)&&se.process(j,A,F,Y,ee,le,pe,oe,ue,Ht)}Se!=null&&ee&&Bm(Se,j&&j.ref,le,A||j,!A)},P=(j,A,F,Y)=>{if(j==null)s(A.el=u(A.children),F,Y);else{const ee=A.el=j.el;A.children!==j.children&&p(ee,A.children)}},Q=(j,A,F,Y)=>{j==null?s(A.el=d(A.children||""),F,Y):A.el=j.el},Z=(j,A,F,Y)=>{[j.el,j.anchor]=k(j.children,A,F,Y,j.el,j.anchor)},h=({el:j,anchor:A},F,Y)=>{let ee;for(;j&&j!==A;)ee=v(j),s(j,F,Y),j=ee;s(A,F,Y)},g=({el:j,anchor:A})=>{let F;for(;j&&j!==A;)F=v(j),i(j),j=F;i(A)},m=(j,A,F,Y,ee,le,pe,oe,ue)=>{pe=pe||A.type==="svg",j==null?_(A,F,Y,ee,le,pe,oe,ue):S(j,A,ee,le,pe,oe,ue)},_=(j,A,F,Y,ee,le,pe,oe)=>{let ue,se;const{type:Se,props:ve,shapeFlag:he,transition:Ee,patchFlag:Ce,dirs:lt}=j;if(j.el&&$!==void 0&&Ce===-1)ue=j.el=$(j.el);else{if(ue=j.el=a(j.type,le,ve&&ve.is,ve),he&8?f(ue,j.children):he&16&&T(j.children,ue,null,Y,ee,le&&Se!=="foreignObject",pe,oe),lt&&go(j,null,Y,"created"),ve){for(const rt in ve)rt!=="value"&&!Pp(rt)&&n(ue,rt,null,ve[rt],le,j.children,Y,ee,tt);"value"in ve&&n(ue,"value",null,ve.value),(se=ve.onVnodeBeforeMount)&&Ys(se,Y,j)}x(ue,j,j.scopeId,pe,Y)}lt&&go(j,null,Y,"beforeMount");const Ke=(!ee||ee&&!ee.pendingBranch)&&Ee&&!Ee.persisted;Ke&&Ee.beforeEnter(ue),s(ue,A,F),((se=ve&&ve.onVnodeMounted)||Ke||lt)&&Cr(()=>{se&&Ys(se,Y,j),Ke&&Ee.enter(ue),lt&&go(j,null,Y,"mounted")},ee)},x=(j,A,F,Y,ee)=>{if(F&&b(j,F),Y)for(let le=0;le<Y.length;le++)b(j,Y[le]);if(ee){let le=ee.subTree;if(A===le){const pe=ee.vnode;x(j,pe,pe.scopeId,pe.slotScopeIds,ee.parent)}}},T=(j,A,F,Y,ee,le,pe,oe,ue=0)=>{for(let se=ue;se<j.length;se++){const Se=j[se]=oe?Un(j[se]):yi(j[se]);E(null,Se,A,F,Y,ee,le,pe,oe)}},S=(j,A,F,Y,ee,le,pe)=>{const oe=A.el=j.el;let{patchFlag:ue,dynamicChildren:se,dirs:Se}=A;ue|=j.patchFlag&16;const ve=j.props||mt,he=A.props||mt;let Ee;F&&vo(F,!1),(Ee=he.onVnodeBeforeUpdate)&&Ys(Ee,F,A,j),Se&&go(A,j,F,"beforeUpdate"),F&&vo(F,!0);const Ce=ee&&A.type!=="foreignObject";if(se?C(j.dynamicChildren,se,oe,F,Y,Ce,le):pe||de(j,A,oe,null,F,Y,Ce,le,!1),ue>0){if(ue&16)J(oe,A,ve,he,F,Y,ee);else if(ue&2&&ve.class!==he.class&&n(oe,"class",null,he.class,ee),ue&4&&n(oe,"style",ve.style,he.style,ee),ue&8){const lt=A.dynamicProps;for(let Ke=0;Ke<lt.length;Ke++){const rt=lt[Ke],gr=ve[rt],Qs=he[rt];(Qs!==gr||rt==="value")&&n(oe,rt,gr,Qs,ee,j.children,F,Y,tt)}}ue&1&&j.children!==A.children&&f(oe,A.children)}else!pe&&se==null&&J(oe,A,ve,he,F,Y,ee);((Ee=he.onVnodeUpdated)||Se)&&Cr(()=>{Ee&&Ys(Ee,F,A,j),Se&&go(A,j,F,"updated")},Y)},C=(j,A,F,Y,ee,le,pe)=>{for(let oe=0;oe<A.length;oe++){const ue=j[oe],se=A[oe],Se=ue.el&&(ue.type===Rr||!gu(ue,se)||ue.shapeFlag&70)?y(ue.el):F;E(ue,se,Se,null,Y,ee,le,pe,!0)}},J=(j,A,F,Y,ee,le,pe)=>{if(F!==Y){for(const oe in Y){if(Pp(oe))continue;const ue=Y[oe],se=F[oe];ue!==se&&oe!=="value"&&n(j,oe,se,ue,pe,A.children,ee,le,tt)}if(F!==mt)for(const oe in F)!Pp(oe)&&!(oe in Y)&&n(j,oe,F[oe],null,pe,A.children,ee,le,tt);"value"in Y&&n(j,"value",F.value,Y.value)}},B=(j,A,F,Y,ee,le,pe,oe,ue)=>{const se=A.el=j?j.el:u(""),Se=A.anchor=j?j.anchor:u("");let{patchFlag:ve,dynamicChildren:he,slotScopeIds:Ee}=A;Ee&&(oe=oe?oe.concat(Ee):Ee),j==null?(s(se,F,Y),s(Se,F,Y),T(A.children,F,Se,ee,le,pe,oe,ue)):ve>0&&ve&64&&he&&j.dynamicChildren?(C(j.dynamicChildren,he,F,ee,le,pe,oe),(A.key!=null||ee&&A===ee.subTree)&&c$(j,A,!0)):de(j,A,F,Se,ee,le,pe,oe,ue)},V=(j,A,F,Y,ee,le,pe,oe,ue)=>{A.slotScopeIds=oe,j==null?A.shapeFlag&512?ee.ctx.activate(A,F,Y,pe,ue):W(A,F,Y,ee,le,pe,ue):M(j,A,ue)},W=(j,A,F,Y,ee,le,pe)=>{const oe=j.component=Pk(j,Y,ee);if(X8(j)&&(oe.ctx.renderer=Ht),Fk(oe),oe.asyncDep){if(ee&&ee.registerDep(oe,U),!j.el){const ue=oe.subTree=ys(fa);Q(null,ue,A,F)}return}U(oe,j,A,F,ee,le,pe)},M=(j,A,F)=>{const Y=A.component=j.component;if(GO(j,A,F))if(Y.asyncDep&&!Y.asyncResolved){te(Y,A,F);return}else Y.next=A,NO(Y.update),Y.update();else A.component=j.component,A.el=j.el,Y.vnode=A},U=(j,A,F,Y,ee,le,pe)=>{const oe=()=>{if(j.isMounted){let{next:Se,bu:ve,u:he,parent:Ee,vnode:Ce}=j,lt=Se,Ke;vo(j,!1),Se?(Se.el=Ce.el,te(j,Se,pe)):Se=Ce,ve&&Fp(ve),(Ke=Se.props&&Se.props.onVnodeBeforeUpdate)&&Ys(Ke,Ee,Se,Ce),vo(j,!0);const rt=Ny(j),gr=j.subTree;j.subTree=rt,E(gr,rt,y(gr.el),Mt(gr),j,ee,le),Se.el=rt.el,lt===null&&HO(j,rt.el),he&&Cr(he,ee),(Ke=Se.props&&Se.props.onVnodeUpdated)&&Cr(()=>Ys(Ke,Ee,Se,Ce),ee)}else{let Se;const{el:ve,props:he}=A,{bm:Ee,m:Ce,parent:lt}=j,Ke=zm(A);if(vo(j,!1),Ee&&Fp(Ee),!Ke&&(Se=he&&he.onVnodeBeforeMount)&&Ys(Se,lt,A),vo(j,!0),ve&&es){const rt=()=>{j.subTree=Ny(j),es(ve,j.subTree,j,ee,null)};Ke?A.type.__asyncLoader().then(()=>!j.isUnmounted&&rt()):rt()}else{const rt=j.subTree=Ny(j);E(null,rt,F,Y,j,ee,le),A.el=rt.el}if(Ce&&Cr(Ce,ee),!Ke&&(Se=he&&he.onVnodeMounted)){const rt=A;Cr(()=>Ys(Se,lt,rt),ee)}A.shapeFlag&256&&j.a&&Cr(j.a,ee),j.isMounted=!0,A=F=Y=null}},ue=j.effect=new Rb(oe,()=>B8(j.update),j.scope),se=j.update=ue.run.bind(ue);se.id=j.uid,vo(j,!0),se()},te=(j,A,F)=>{A.component=j;const Y=j.vnode.props;j.vnode=A,j.next=null,yk(j,A.props,Y,F),vk(j,A.children,F),Wl(),Vb(void 0,j.update),Kl()},de=(j,A,F,Y,ee,le,pe,oe,ue=!1)=>{const se=j&&j.children,Se=j?j.shapeFlag:0,ve=A.children,{patchFlag:he,shapeFlag:Ee}=A;if(he>0){if(he&128){ge(se,ve,F,Y,ee,le,pe,oe,ue);return}else if(he&256){Ie(se,ve,F,Y,ee,le,pe,oe,ue);return}}Ee&8?(Se&16&&tt(se,ee,le),ve!==se&&f(F,ve)):Se&16?Ee&16?ge(se,ve,F,Y,ee,le,pe,oe,ue):tt(se,ee,le,!0):(Se&8&&f(F,""),Ee&16&&T(ve,F,Y,ee,le,pe,oe,ue))},Ie=(j,A,F,Y,ee,le,pe,oe,ue)=>{j=j||Sl,A=A||Sl;const se=j.length,Se=A.length,ve=Math.min(se,Se);let he;for(he=0;he<ve;he++){const Ee=A[he]=ue?Un(A[he]):yi(A[he]);E(j[he],Ee,F,null,ee,le,pe,oe,ue)}se>Se?tt(j,ee,le,!0,!1,ve):T(A,F,Y,ee,le,pe,oe,ue,ve)},ge=(j,A,F,Y,ee,le,pe,oe,ue)=>{let se=0;const Se=A.length;let ve=j.length-1,he=Se-1;for(;se<=ve&&se<=he;){const Ee=j[se],Ce=A[se]=ue?Un(A[se]):yi(A[se]);if(gu(Ee,Ce))E(Ee,Ce,F,null,ee,le,pe,oe,ue);else break;se++}for(;se<=ve&&se<=he;){const Ee=j[ve],Ce=A[he]=ue?Un(A[he]):yi(A[he]);if(gu(Ee,Ce))E(Ee,Ce,F,null,ee,le,pe,oe,ue);else break;ve--,he--}if(se>ve){if(se<=he){const Ee=he+1,Ce=Ee<Se?A[Ee].el:Y;for(;se<=he;)E(null,A[se]=ue?Un(A[se]):yi(A[se]),F,Ce,ee,le,pe,oe,ue),se++}}else if(se>he)for(;se<=ve;)et(j[se],ee,le,!0),se++;else{const Ee=se,Ce=se,lt=new Map;for(se=Ce;se<=he;se++){const sr=A[se]=ue?Un(A[se]):yi(A[se]);sr.key!=null&&lt.set(sr.key,se)}let Ke,rt=0;const gr=he-Ce+1;let Qs=!1,La=0;const Mi=new Array(gr);for(se=0;se<gr;se++)Mi[se]=0;for(se=Ee;se<=ve;se++){const sr=j[se];if(rt>=gr){et(sr,ee,le,!0);continue}let vr;if(sr.key!=null)vr=lt.get(sr.key);else for(Ke=Ce;Ke<=he;Ke++)if(Mi[Ke-Ce]===0&&gu(sr,A[Ke])){vr=Ke;break}vr===void 0?et(sr,ee,le,!0):(Mi[vr-Ce]=se+1,vr>=La?La=vr:Qs=!0,E(sr,A[vr],F,null,ee,le,pe,oe,ue),rt++)}const Na=Qs?$k(Mi):Sl;for(Ke=Na.length-1,se=gr-1;se>=0;se--){const sr=Ce+se,vr=A[sr],Da=sr+1<Se?A[sr+1].el:Y;Mi[se]===0?E(null,vr,F,Da,ee,le,pe,oe,ue):Qs&&(Ke<0||se!==Na[Ke]?at(vr,F,Da,2):Ke--)}}},at=(j,A,F,Y,ee=null)=>{const{el:le,type:pe,transition:oe,children:ue,shapeFlag:se}=j;if(se&6){at(j.component.subTree,A,F,Y);return}if(se&128){j.suspense.move(A,F,Y);return}if(se&64){pe.move(j,A,F,Ht);return}if(pe===Rr){s(le,A,F);for(let ve=0;ve<ue.length;ve++)at(ue[ve],A,F,Y);s(j.anchor,A,F);return}if(pe===Vy){h(j,A,F);return}if(Y!==2&&se&1&&oe)if(Y===0)oe.beforeEnter(le),s(le,A,F),Cr(()=>oe.enter(le),ee);else{const{leave:ve,delayLeave:he,afterLeave:Ee}=oe,Ce=()=>s(le,A,F),lt=()=>{ve(le,()=>{Ce(),Ee&&Ee()})};he?he(le,Ce,lt):lt()}else s(le,A,F)},et=(j,A,F,Y=!1,ee=!1)=>{const{type:le,props:pe,ref:oe,children:ue,dynamicChildren:se,shapeFlag:Se,patchFlag:ve,dirs:he}=j;if(oe!=null&&Bm(oe,null,F,j,!0),Se&256){A.ctx.deactivate(j);return}const Ee=Se&1&&he,Ce=!zm(j);let lt;if(Ce&&(lt=pe&&pe.onVnodeBeforeUnmount)&&Ys(lt,A,j),Se&6)xt(j.component,F,Y);else{if(Se&128){j.suspense.unmount(F,Y);return}Ee&&go(j,null,A,"beforeUnmount"),Se&64?j.type.remove(j,A,F,ee,Ht,Y):se&&(le!==Rr||ve>0&&ve&64)?tt(se,A,F,!1,!0):(le===Rr&&ve&384||!ee&&Se&16)&&tt(ue,A,F),Y&&Vt(j)}(Ce&&(lt=pe&&pe.onVnodeUnmounted)||Ee)&&Cr(()=>{lt&&Ys(lt,A,j),Ee&&go(j,null,A,"unmounted")},F)},Vt=j=>{const{type:A,el:F,anchor:Y,transition:ee}=j;if(A===Rr){_t(F,Y);return}if(A===Vy){g(j);return}const le=()=>{i(F),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(j.shapeFlag&1&&ee&&!ee.persisted){const{leave:pe,delayLeave:oe}=ee,ue=()=>pe(F,le);oe?oe(j.el,le,ue):ue()}else le()},_t=(j,A)=>{let F;for(;j!==A;)F=v(j),i(j),j=F;i(A)},xt=(j,A,F)=>{const{bum:Y,scope:ee,update:le,subTree:pe,um:oe}=j;Y&&Fp(Y),ee.stop(),le&&(le.active=!1,et(pe,j,A,F)),oe&&Cr(oe,A),Cr(()=>{j.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},tt=(j,A,F,Y=!1,ee=!1,le=0)=>{for(let pe=le;pe<j.length;pe++)et(j[pe],A,F,Y,ee)},Mt=j=>j.shapeFlag&6?Mt(j.component.subTree):j.shapeFlag&128?j.suspense.next():v(j.anchor||j.el),vs=(j,A,F)=>{j==null?A._vnode&&et(A._vnode,null,null,!0):E(A._vnode||null,j,A,null,null,null,F),J8(),A._vnode=j},Ht={p:E,um:et,m:at,r:Vt,mt:W,mc:T,pc:de,pbc:C,n:Mt,o:e};let Ks,es;return t&&([Ks,es]=t(Ht)),{render:vs,hydrate:Ks,createApp:wk(vs,Ks)}}function vo({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function c$(e,t,r=!1){const s=e.children,i=t.children;if(Pe(s)&&Pe(i))for(let n=0;n<s.length;n++){const a=s[n];let u=i[n];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[n]=Un(i[n]),u.el=a.el),r||c$(a,u))}}function $k(e){const t=e.slice(),r=[0];let s,i,n,a,u;const d=e.length;for(s=0;s<d;s++){const p=e[s];if(p!==0){if(i=r[r.length-1],e[i]<p){t[s]=i,r.push(s);continue}for(n=0,a=r.length-1;n<a;)u=n+a>>1,e[r[u]]<p?n=u+1:a=u;p<e[r[n]]&&(n>0&&(t[s]=r[n-1]),r[n]=s)}}for(n=r.length,a=r[n-1];n-- >0;)r[n]=a,a=t[a];return r}const xk=e=>e.__isTeleport,Mk=Symbol(),Rr=Symbol(void 0),Bb=Symbol(void 0),fa=Symbol(void 0),Vy=Symbol(void 0),$c=[];let ua=null;function ut(e=!1){$c.push(ua=e?null:[])}function Ik(){$c.pop(),ua=$c[$c.length-1]||null}let Lh=1;function __(e){Lh+=e}function d$(e){return e.dynamicChildren=Lh>0?ua||Sl:null,Ik(),Lh>0&&ua&&ua.push(e),e}function pt(e,t,r,s,i,n){return d$(Ve(e,t,r,s,i,n,!0))}function Ek(e,t,r,s,i){return d$(ys(e,t,r,s,i,!0))}function Ok(e){return e?e.__v_isVNode===!0:!1}function gu(e,t){return e.type===t.type&&e.key===t.key}const Rf="__vInternal",p$=({key:e})=>e!=null?e:null,Lp=({ref:e,ref_key:t,ref_for:r})=>e!=null?tr(e)||er(e)||Ue(e)?{i:vi,r:e,k:t,f:!!r}:e:null;function Ve(e,t=null,r=null,s=0,i=null,n=e===Rr?0:1,a=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&p$(t),ref:t&&Lp(t),scopeId:Q8,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null};return u?(Gb(d,r),n&128&&e.normalize(d)):r&&(d.shapeFlag|=tr(r)?8:16),Lh>0&&!a&&ua&&(d.patchFlag>0||n&6)&&d.patchFlag!==32&&ua.push(d),d}const ys=kk;function kk(e,t=null,r=null,s=0,i=null,n=!1){if((!e||e===Mk)&&(e=fa),Ok(e)){const u=Gc(e,t,!0);return r&&Gb(u,r),u}if(zk(e)&&(e=e.__vccOpts),t){t=Tk(t);let{class:u,style:d}=t;u&&!tr(u)&&(t.class=vd(u)),Gt(d)&&(L8(d)&&!Pe(d)&&(d=Mr({},d)),t.style=Ob(d))}const a=tr(e)?1:JO(e)?128:xk(e)?64:Gt(e)?4:Ue(e)?2:0;return Ve(e,t,r,s,i,a,n,!0)}function Tk(e){return e?L8(e)||Rf in e?Mr({},e):e:null}function Gc(e,t,r=!1){const{props:s,ref:i,patchFlag:n,children:a}=e,u=t?jk(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&p$(u),ref:t&&t.ref?r&&i?Pe(i)?i.concat(Lp(t)):[i,Lp(t)]:Lp(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Rr?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gc(e.ssContent),ssFallback:e.ssFallback&&Gc(e.ssFallback),el:e.el,anchor:e.anchor}}function Gm(e=" ",t=0){return ys(Bb,null,e,t)}function Ns(e="",t=!1){return t?(ut(),Ek(fa,null,e)):ys(fa,null,e)}function yi(e){return e==null||typeof e=="boolean"?ys(fa):Pe(e)?ys(Rr,null,e.slice()):typeof e=="object"?Un(e):ys(Bb,null,String(e))}function Un(e){return e.el===null||e.memo?e:Gc(e)}function Gb(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Pe(t))r=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Gb(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(Rf in t)?t._ctx=vi:i===3&&vi&&(vi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:vi},r=32):(t=String(t),s&64?(r=16,t=[Gm(t)]):r=8);e.children=t,e.shapeFlag|=r}function jk(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=vd([t.class,s.class]));else if(i==="style")t.style=Ob([t.style,s.style]);else if(Ef(i)){const n=t[i],a=s[i];a&&n!==a&&!(Pe(n)&&n.includes(a))&&(t[i]=n?[].concat(n,a):a)}else i!==""&&(t[i]=s[i])}return t}function Ys(e,t,r,s=null){qs(e,t,7,[r,s])}function Nh(e,t,r,s){let i;const n=r&&r[s];if(Pe(e)||tr(e)){i=new Array(e.length);for(let a=0,u=e.length;a<u;a++)i[a]=t(e[a],a,void 0,n&&n[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,n&&n[a])}else if(Gt(e))if(e[Symbol.iterator])i=Array.from(e,(a,u)=>t(a,u,void 0,n&&n[u]));else{const a=Object.keys(e);i=new Array(a.length);for(let u=0,d=a.length;u<d;u++){const p=a[u];i[u]=t(e[p],p,u,n&&n[u])}}else i=[];return r&&(r[s]=i),i}const Hm=e=>e?h$(e)?Hb(e)||e.proxy:Hm(e.parent):null,Dh=Mr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hm(e.parent),$root:e=>Hm(e.root),$emit:e=>e.emit,$options:e=>s$(e),$forceUpdate:e=>()=>B8(e.update),$nextTick:e=>FO.bind(e.proxy),$watch:e=>QO.bind(e)}),Ck={get({_:e},t){const{ctx:r,setupState:s,data:i,props:n,accessCache:a,type:u,appContext:d}=e;let p;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return i[t];case 4:return r[t];case 3:return n[t]}else{if(s!==mt&&Ye(s,t))return a[t]=1,s[t];if(i!==mt&&Ye(i,t))return a[t]=2,i[t];if((p=e.propsOptions[0])&&Ye(p,t))return a[t]=3,n[t];if(r!==mt&&Ye(r,t))return a[t]=4,r[t];Vm&&(a[t]=0)}}const f=Dh[t];let y,v;if(f)return t==="$attrs"&&Qr(e,"get",t),f(e);if((y=u.__cssModules)&&(y=y[t]))return y;if(r!==mt&&Ye(r,t))return a[t]=4,r[t];if(v=d.config.globalProperties,Ye(v,t))return v[t]},set({_:e},t,r){const{data:s,setupState:i,ctx:n}=e;return i!==mt&&Ye(i,t)?(i[t]=r,!0):s!==mt&&Ye(s,t)?(s[t]=r,!0):Ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:i,propsOptions:n}},a){let u;return!!r[a]||e!==mt&&Ye(e,a)||t!==mt&&Ye(t,a)||(u=n[0])&&Ye(u,a)||Ye(s,a)||Ye(Dh,a)||Ye(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?this.set(e,t,r.get(),null):r.value!=null&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},Ak=u$();let Rk=0;function Pk(e,t,r){const s=e.type,i=(t?t.appContext:e.appContext)||Ak,n={uid:Rk++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new rO(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n$(s,i),emitsOptions:K8(s,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:s.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=VO.bind(null,n),e.ce&&e.ce(n),n}let fr=null;const Ll=e=>{fr=e,e.scope.on()},ca=()=>{fr&&fr.scope.off(),fr=null};function h$(e){return e.vnode.shapeFlag&4}let Hc=!1;function Fk(e,t=!1){Hc=t;const{props:r,children:s}=e.vnode,i=h$(e);fk(e,r,i,t),gk(e,s);const n=i?Lk(e,t):void 0;return Hc=!1,n}function Lk(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=N8(new Proxy(e.ctx,Ck));const{setup:s}=r;if(s){const i=e.setupContext=s.length>1?Dk(e):null;Ll(e),Wl();const n=Xn(s,e,0,[e.props,i]);if(Kl(),ca(),_8(n)){if(n.then(ca,ca),t)return n.then(a=>{S_(e,a,t)}).catch(a=>{jf(a,e,0)});e.asyncDep=n}else S_(e,n,t)}else f$(e,t)}function S_(e,t,r){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Gt(t)&&(e.setupState=U8(t)),f$(e,r)}let $_;function f$(e,t,r){const s=e.type;if(!e.render){if(!t&&$_&&!s.render){const i=s.template;if(i){const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:u,compilerOptions:d}=s,p=Mr(Mr({isCustomElement:n,delimiters:u},a),d);s.render=$_(i,p)}}e.render=s.render||Us}Ll(e),Wl(),uk(e),Kl(),ca()}function Nk(e){return new Proxy(e.attrs,{get(t,r){return Qr(e,"get","$attrs"),t[r]}})}function Dk(e){const t=s=>{e.exposed=s||{}};let r;return{get attrs(){return r||(r=Nk(e))},slots:e.slots,emit:e.emit,expose:t}}function Hb(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(U8(N8(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Dh)return Dh[r](e)}}))}function zk(e){return Ue(e)&&"__vccOpts"in e}const un=(e,t)=>RO(e,t,Hc),Vk="3.2.31",Uk="http://www.w3.org/2000/svg",Ko=typeof document!="undefined"?document:null,x_=Ko&&Ko.createElement("template"),qk={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const i=t?Ko.createElementNS(Uk,e):Ko.createElement(e,r?{is:r}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Ko.createTextNode(e),createComment:e=>Ko.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ko.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,s,i,n){const a=r?r.previousSibling:t.lastChild;if(i&&(i===n||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===n||!(i=i.nextSibling)););else{x_.innerHTML=s?`<svg>${e}</svg>`:e;const u=x_.content;if(s){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}t.insertBefore(u,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Bk(e,t,r){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Gk(e,t,r){const s=e.style,i=tr(r);if(r&&!i){for(const n in r)Jm(s,n,r[n]);if(t&&!tr(t))for(const n in t)r[n]==null&&Jm(s,n,"")}else{const n=s.display;i?t!==r&&(s.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=n)}}const M_=/\s*!important$/;function Jm(e,t,r){if(Pe(r))r.forEach(s=>Jm(e,t,s));else if(t.startsWith("--"))e.setProperty(t,r);else{const s=Hk(e,t);M_.test(r)?e.setProperty(Jl(s),r.replace(M_,""),"important"):e[s]=r}}const I_=["Webkit","Moz","ms"],Uy={};function Hk(e,t){const r=Uy[t];if(r)return r;let s=Fl(t);if(s!=="filter"&&s in e)return Uy[t]=s;s=x8(s);for(let i=0;i<I_.length;i++){const n=I_[i]+s;if(n in e)return Uy[t]=n}return t}const E_="http://www.w3.org/1999/xlink";function Jk(e,t,r,s,i){if(s&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(E_,t.slice(6,t.length)):e.setAttributeNS(E_,t,r);else{const n=BE(t);r==null||n&&!v8(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}function Wk(e,t,r,s,i,n,a){if(t==="innerHTML"||t==="textContent"){s&&a(s,i,n),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const u=r==null?"":r;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),r==null&&e.removeAttribute(t);return}if(r===""||r==null){const u=typeof e[t];if(u==="boolean"){e[t]=v8(r);return}else if(r==null&&u==="string"){e[t]="",e.removeAttribute(t);return}else if(u==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=r}catch{}}let zh=Date.now,y$=!1;if(typeof window!="undefined"){zh()>document.createEvent("Event").timeStamp&&(zh=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);y$=!!(e&&Number(e[1])<=53)}let Wm=0;const Kk=Promise.resolve(),Qk=()=>{Wm=0},Zk=()=>Wm||(Kk.then(Qk),Wm=zh());function Qo(e,t,r,s){e.addEventListener(t,r,s)}function Yk(e,t,r,s){e.removeEventListener(t,r,s)}function Xk(e,t,r,s,i=null){const n=e._vei||(e._vei={}),a=n[t];if(s&&a)a.value=s;else{const[u,d]=eT(t);if(s){const p=n[t]=tT(s,i);Qo(e,u,p,d)}else a&&(Yk(e,u,a,d),n[t]=void 0)}}const O_=/(?:Once|Passive|Capture)$/;function eT(e){let t;if(O_.test(e)){t={};let r;for(;r=e.match(O_);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[Jl(e.slice(2)),t]}function tT(e,t){const r=s=>{const i=s.timeStamp||zh();(y$||i>=r.attached-1)&&qs(rT(s,r.value),t,5,[s])};return r.value=e,r.attached=Zk(),r}function rT(e,t){if(Pe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const k_=/^on[a-z]/,sT=(e,t,r,s,i=!1,n,a,u,d)=>{t==="class"?Bk(e,s,i):t==="style"?Gk(e,r,s):Ef(t)?kb(t)||Xk(e,t,r,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):iT(e,t,s,i))?Wk(e,t,s,n,a,u,d):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Jk(e,t,s,i))};function iT(e,t,r,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&k_.test(t)&&Ue(r)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||k_.test(t)&&tr(r)?!1:t in e}const Vh=e=>{const t=e.props["onUpdate:modelValue"];return Pe(t)?r=>Fp(t,r):t};function nT(e){e.target.composing=!0}function T_(e){const t=e.target;t.composing&&(t.composing=!1,oT(t,"input"))}function oT(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}const aT={created(e,{modifiers:{lazy:t,trim:r,number:s}},i){e._assign=Vh(i);const n=s||i.props&&i.props.type==="number";Qo(e,t?"change":"input",a=>{if(a.target.composing)return;let u=e.value;r?u=u.trim():n&&(u=Am(u)),e._assign(u)}),r&&Qo(e,"change",()=>{e.value=e.value.trim()}),t||(Qo(e,"compositionstart",nT),Qo(e,"compositionend",T_),Qo(e,"change",T_))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:s,number:i}},n){if(e._assign=Vh(n),e.composing||document.activeElement===e&&(r||s&&e.value.trim()===t||(i||e.type==="number")&&Am(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},lT={created(e,{value:t},r){e.checked=Ch(t,r.props.value),e._assign=Vh(r),Qo(e,"change",()=>{e._assign(uT(e))})},beforeUpdate(e,{value:t,oldValue:r},s){e._assign=Vh(s),t!==r&&(e.checked=Ch(t,s.props.value))}};function uT(e){return"_value"in e?e._value:e.value}const cT=["ctrl","shift","alt","meta"],dT={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cT.some(r=>e[`${r}Key`]&&!t.includes(r))},pT=(e,t)=>(r,...s)=>{for(let i=0;i<t.length;i++){const n=dT[t[i]];if(n&&n(r,t))return}return e(r,...s)},hT={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):vu(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),vu(e,!0),s.enter(e)):s.leave(e,()=>{vu(e,!1)}):vu(e,t))},beforeUnmount(e,{value:t}){vu(e,t)}};function vu(e,t){e.style.display=t?e._vod:"none"}const fT=Mr({patchProp:sT},qk);let j_;function yT(){return j_||(j_=_k(fT))}const mT=(...e)=>{const t=yT().createApp(...e),{mount:r}=t;return t.mount=s=>{const i=gT(s);if(!i)return;const n=t._component;!Ue(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function gT(e){return tr(e)?document.querySelector(e):e}var vT=Object.defineProperty,bT=Object.defineProperties,wT=Object.getOwnPropertyDescriptors,Uh=Object.getOwnPropertySymbols,m$=Object.prototype.hasOwnProperty,g$=Object.prototype.propertyIsEnumerable,C_=(e,t,r)=>t in e?vT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))m$.call(t,r)&&C_(e,r,t[r]);if(Uh)for(var r of Uh(t))g$.call(t,r)&&C_(e,r,t[r]);return e},Oe=(e,t)=>bT(e,wT(t)),_T=(e,t)=>{var r={};for(var s in e)m$.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Uh)for(var s of Uh(e))t.indexOf(s)<0&&g$.call(e,s)&&(r[s]=e[s]);return r};function o(e,t,r,s){var i,n=arguments.length,a=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,s);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}function ST(e){return e&&e.release&&typeof e.release=="function"}function $T(e){return e&&e.acquire&&typeof e.acquire=="function"}class rn{constructor(t,r,s,i=1,n=0){if(this.ctor=t,this.acquireFunction=r,this.releaseFunction=s,this.allocationSize=i,this._pool=new Array(n),this._initialSize=n,this.ctor)for(let a=0;a<n;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(rn.test.disabled)r=new this.ctor;else{if(this._pool.length===0){const s=this.allocationSize;for(let i=0;i<s;i++)this._pool[i]=new this.ctor}r=this._pool.pop()}return this.acquireFunction?this.acquireFunction(r,...t):$T(r)&&r.acquire(...t),r}release(t){t&&!rn.test.disabled&&(this.releaseFunction?this.releaseFunction(t):ST(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const s=this._pool[r];this._dispose(s)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}rn.test={disabled:!1};function xT(e){e.length=0}class Ds{constructor(t=50,r=50){this._pool=new rn(Array,void 0,xT,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return qy.acquire()}static release(t){return qy.release(t)}static prune(){qy.prune()}}const qy=new Ds(100);var A_,R_;let Zi;var P_,F_;(A_=globalThis.dojoConfig)!=null&&A_.has||(R_=globalThis.esriConfig)!=null&&R_.has?Zi=z(z({},(P_=globalThis.dojoConfig)==null?void 0:P_.has),(F_=globalThis.esriConfig)==null?void 0:F_.has):Zi={};function K(e){return typeof Zi[e]=="function"?Zi[e]=Zi[e](globalThis):Zi[e]}K.add=(e,t,r,s)=>((s||Zi[e]===void 0)&&(Zi[e]=t),r&&K(e)),K.cache=Zi,K.add("esri-deprecation-warnings",!0),(()=>{var e;K.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location===location&&window.document===document;if(K.add("host-browser",t),K.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),K.add("dom",t),K("host-browser")){const r=navigator,s=r.userAgent,i=r.appVersion,n=parseFloat(i);if(K.add("wp",parseFloat(s.split("Windows Phone")[1])||void 0),K.add("msapp",parseFloat(s.split("MSAppHost/")[1])||void 0),K.add("khtml",i.includes("Konqueror")?n:void 0),K.add("edge",parseFloat(s.split("Edge/")[1])||void 0),K.add("opr",parseFloat(s.split("OPR/")[1])||void 0),K.add("webkit",!K("wp")&&!K("edge")&&parseFloat(s.split("WebKit/")[1])||void 0),K.add("chrome",!K("edge")&&!K("opr")&&parseFloat(s.split("Chrome/")[1])||void 0),K.add("android",!K("wp")&&parseFloat(s.split("Android ")[1])||void 0),K.add("safari",!i.includes("Safari")||K("wp")||K("chrome")||K("android")||K("edge")||K("opr")?void 0:parseFloat(i.split("Version/")[1])),K.add("mac",i.includes("Macintosh")),!K("wp")&&s.match(/(iPhone|iPod|iPad)/)){const a=RegExp.$1.replace(/P/,"p"),u=s.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=parseFloat(u.replace(/_/,".").replace(/_/g,""));K.add(a,d),K.add("ios",d)}K.add("trident",parseFloat(i.split("Trident/")[1])||void 0),K("webkit")||(!s.includes("Gecko")||K("wp")||K("khtml")||K("trident")||K("edge")||K.add("mozilla",n),K("mozilla")&&K.add("ff",parseFloat(s.split("Firefox/")[1]||s.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&K.add("esri-mobile",t),r&&K.add("esri-iPhone",r),K.add("esri-geolocation",!!navigator.geolocation)}K.add("esri-canvas-svg-support",!K("trident")),K.add("esri-wasm","WebAssembly"in globalThis),K.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),K.add("esri-atomics","Atomics"in globalThis),K.add("esri-workers","Worker"in globalThis),K.add("web-feat:cache","caches"in globalThis),K.add("esri-workers-arraybuffer-transfer",!K("safari")||Number(K("safari"))>=12),K.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),K.add("featurelayer-simplify-payload-size-factors",[1,1,4]),K.add("featurelayer-snapshot-enabled",!0),K.add("featurelayer-snapshot-point-min-threshold",8e4),K.add("featurelayer-snapshot-point-max-threshold",4e5),K.add("featurelayer-snapshot-point-coverage",.1),K.add("featurelayer-advanced-symbols",!1),K.add("featurelayer-pbf",!0),K.add("featurelayer-pbf-statistics",!1),K.add("feature-layers-workers",!0),K.add("feature-polyline-generalization-factor",1),K.add("mapview-transitions-duration",200),K.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),K.add("mapserver-pbf-enabled",!1),K("host-webworker")||K("host-browser")&&(K.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),K.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{K.add("esri-image-decode",!0,!0,!0)}).catch(()=>{K.add("esri-image-decode",!1,!0,!0)})}return!1}),K.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const L_=new Set;function MT(e,t,r=!1){r&&L_.has(t)||(r&&L_.add(t),e.warn(`\u{1F6D1} DEPRECATED - ${t}`))}function Ga(e,t,r={}){if(K("esri-deprecation-warnings")){const{moduleName:s}=r;Pf(e,`Function: ${(s?s+"::":"")+t+"()"}`,r)}}function Jc(e,t,r={}){if(K("esri-deprecation-warnings")){const{moduleName:s}=r;Pf(e,`Property: ${(s?s+"::":"")+t}`,r)}}function Pf(e,t,r={}){if(K("esri-deprecation-warnings")){const{replacement:s,version:i,see:n,warnOnce:a}=r;let u=t;s&&(u+=`
	\u{1F6E0}\uFE0F Replacement: ${s}`),i&&(u+=`
	\u2699\uFE0F Version: ${i}`),n&&(u+=`
	\u{1F517} See ${n} for more details.`),MT(e,u,a)}}const IT=null;function q(e){return e!=null}function we(e){return e==null}function ET(e){return e===void 0}function qh(e,t){return q(e)?t(e):IT}function OT(e){return e}function v$(e,t){if(we(e))throw new Error(t);return e}function Jb(e,t){return q(e)?e:typeof t=="function"?t():t}function kT(e,t){return q(e)?e:t}function Bh(e){return q(e)&&e.destroy(),null}function TT(e){return q(e)&&e.dispose(),null}function bd(e){return q(e)&&e.remove(),null}function jT(e){return q(e)&&e.release(),null}function CT(e){return null}function AT(e,t){const r=new Array;for(const s of e)r.push(yl(s,null,t));return r}function RT(e,t){for(const r of e)qh(r,t)}function yl(e,t,r){return q(e)?r(e):t}function PT(e){return e.filter(t=>q(t))}function b$(e,...t){let r=e;for(let s=0;s<t.length&&r;++s)r=r[t[s]];return r}function FT(e){return e}class ps{constructor(t=1){this._seed=t}set seed(t){this._seed=t==null?Math.random()*ps._m:t}getInt(){return this._seed=(ps._a*this._seed+ps._c)%ps._m,this._seed}getFloat(){return this.getInt()/(ps._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const s=r-t;return t+this.getInt()/ps._m*s}}ps._m=2147483647,ps._a=48271,ps._c=0;function Wb(e,t,r){if(we(e)&&we(t))return!0;if(we(e)||we(t)||e.length!==t.length)return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function LT(e){return e&&typeof e.length=="number"}const NT=!!Array.prototype.fill;function DT(e,t){if(NT)return new Array(e).fill(t);const r=new Array(e);for(let s=0;s<e;s++)r[s]=t;return r}function zT(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let s=e;s<t;s++)r[s-e]=s;return r}class Kb{constructor(){this.last=0}}const w$=new Kb;function Qb(e,t,r,s){s=s||w$;const i=Math.max(0,s.last-10);for(let a=i;a<r;++a)if(e[a]===t)return s.last=a,a;const n=Math.min(i,r);for(let a=0;a<n;++a)if(e[a]===t)return s.last=a,a;return-1}function _$(e,t,r,s){const i=r==null?e.length:r,n=Qb(e,t,i,s);if(n!==-1)return e[n]=e[i-1],r==null&&e.pop(),t}const ws=new Set;function VT(e,t,r=e.length,s=t.length,i,n){if(s===0||r===0)return r;ws.clear();for(let u=0;u<s;++u)ws.add(t[u]);i=i||w$;const a=Math.max(0,i.last-10);for(let u=a;u<r;++u)if(ws.has(e[u])&&(n&&n.push(e[u]),ws.delete(e[u]),e[u]=e[r-1],--r,--u,ws.size===0||r===0))return ws.clear(),r;for(let u=0;u<a;++u)if(ws.has(e[u])&&(n&&n.push(e[u]),ws.delete(e[u]),e[u]=e[r-1],--r,--u,ws.size===0||r===0))return ws.clear(),r;return ws.clear(),r}new ps;function S$(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function UT(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function $$(e,t,r){if(e.slice)return e.slice(t,r);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),r===void 0?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const s=Math.max(0,r-t),i=new e.constructor(s);for(let n=0;n<s;n++)i[n]=e[t+n];return i}function qT(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function BT(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function x$(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function GT(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function HT(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function M$(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function JT(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function I$(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function WT(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function KT(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function Zb(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&Zb(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function D(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=T$(e);if(q(t))return t;if(E$(e))return e.clone();if(O$(e))return e.map(D);if(k$(e))return e.clone();const r={};for(const s of Object.getOwnPropertyNames(e))r[s]=D(e[s]);return r}function Km(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=T$(e);if(q(t))return t;if(O$(e)){let r=!0;const s=e.map(i=>{const n=Km(i);return i!=null&&n==null&&(r=!1),n});return r?s:null}if(E$(e))return e.clone();if(!k$(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const s of Object.getOwnPropertyNames(e)){const i=e[s],n=Km(i);if(i!=null&&n==null)return null;r[s]=n}return r}return null}function E$(e){return typeof e.clone=="function"}function O$(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function k$(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function T$(e){if(BT(e)||x$(e)||GT(e)||HT(e)||M$(e)||JT(e)||I$(e)||WT(e)||KT(e))return $$(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((r,s)=>{t.set(s,D(r))}),t}if(e instanceof Set){const t=new Set;return e.forEach(r=>{t.add(D(r))}),t}return null}function Ff(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function j$(e,t,r=!1){return A$(e,t,r)}function wd(e,t){if(t!=null)return t[e]||C$(e.split("."),!1,t)}function Lr(e,t,r){const s=e.split("."),i=s.pop(),n=C$(s,!0,r);n&&i&&(n[i]=t)}function C$(e,t,r){let s=r;for(const i of e){if(s==null)return;if(!(i in s)){if(!t)return;s[i]={}}s=s[i]}return s}function A$(e,t,r){return t?Object.keys(t).reduce(function(s,i){let n=s[i],a=t[i];return n===a?s:n===void 0?(s[i]=D(a),s):(Array.isArray(a)||Array.isArray(s)?(n=n?Array.isArray(n)?s[i]=n.concat():s[i]=[n]:s[i]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach(u=>{n.indexOf(u)===-1&&n.push(u)}):s[i]=a.concat())):a&&typeof a=="object"?s[i]=A$(n,a,r):s.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(s[i]=a),s)},e||{}):e}var N_;const Xe={apiKey:void 0,applicationUrl:(N_=globalThis.location)==null?void 0:N_.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(j$(Xe,globalThis.esriConfig,!0),delete Xe.has),!Xe.assetsPath){const e="4.23.7";Xe.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}Xe.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(Xe,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),Xe.request.corsEnabledServers=[],Xe.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const QT=/\{([^\}]+)\}/g;function D_(e){return e==null?"":e}function _d(e,t){return e.replace(QT,typeof t=="object"?(r,s)=>D_(wd(s,t)):(r,s)=>D_(t(s)))}function R$(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.indexOf(r)!==-1?r:`\\${r}`)}function Lf(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function ZT(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const z_={info:0,warn:1,error:2,none:3};class fe{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,fe._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=fe.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=fe._loggers;return fe._loggers=t,r},set throttlingDisabled(t){fe._throttlingDisabled=t}}}static getLogger(t){let r=fe._loggers[t];return r||(r=new fe({module:t})),r}_log(t,r,...s){if(!!this._matchLevel(t)){if(r!=="always"&&!fe._throttlingDisabled){const i=this._argsToKey(s),n=this._loggedMessages[t].get(i);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=fe._tickCounter)return;this._loggedMessages[t].set(i,fe._tickCounter),fe._scheduleTickCounterIncrement()}for(const i of Xe.log.interceptors)if(i(t,this.module,...s))return;this._inheritedWriter()(t,this.module,...s)}}_parentWithMember(t,r){let s=this;for(;q(s);){const i=s[t];if(q(i))return i;s=s.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...s){console[t](`[${r}]`,...s)}_matchLevel(t){const r=Xe.log.level?Xe.log.level:"warn";return z_[this._parentWithMember("level",r)]<=z_[t]}_argsToKey(...t){const r=(s,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]";return Lf(JSON.stringify(t,r))}static _scheduleTickCounterIncrement(){fe._tickCounterScheduled||(fe._tickCounterScheduled=!0,Promise.resolve().then(()=>{fe._tickCounter++,fe._tickCounterScheduled=!1}))}}fe._loggers={},fe._tickCounter=0,fe._tickCounterScheduled=!1,fe._throttlingDisabled=!1;function Nf(e){return Sd(()=>e.forEach(t=>q(t)&&t.remove()))}function Sd(e){return{remove:()=>{e&&(e(),e=void 0)}}}function mr(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function YT(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function Np(e,t,r){return r?Gh(e,t,{policy:r,path:""}):Gh(e,t,null)}function Gh(e,t,r){return t?Object.keys(t).reduce(function(s,i){let n=null,a="merge";if(r&&(n=r.path?`${r.path}.${i}`:i,a=r.policy(n)),a==="replace")return s[i]=t[i],s;if(s[i]===void 0)return s[i]=D(t[i]),s;let u=s[i],d=t[i];if(u===d)return s;if(Array.isArray(d)||Array.isArray(s))u=u?Array.isArray(u)?s[i]=u.concat():s[i]=[u]:s[i]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(p=>{u.indexOf(p)===-1&&u.push(p)}));else if(d&&typeof d=="object")if(r){const p=r.path;r.path=n,s[i]=Gh(u,d,r),r.path=p}else s[i]=Gh(u,d,null);else s.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(s[i]=d);return s},e||{}):e}function P$(e){return Array.isArray(e)?e:e.split(".")}function V_(e){return e.indexOf(",")>-1?e.split(",").map(t=>t.trim()):[e.trim()]}function XT(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...V_(r));return t}return V_(e)}function F$(e,t,r,s){const i=XT(t);if(i.length!==1){const n=i.map(a=>s(e,a,r));return Nf(n)}return s(e,i[0],r)}function L$(e){let t=!1;return()=>{t||(t=!0,e())}}function N$(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}const s=mr(t);return YT(s,r)?s.get(r):t[r]}function D$(e,t,r){if(e==null)return e;const s=N$(t[r],e);return!s&&r<t.length-1?void 0:r===t.length-1?s:D$(s,t,r+1)}function $d(e,t,r=0){return typeof t=="string"&&t.indexOf(".")===-1?N$(t,e):D$(e,P$(t),r)}function Hh(e,t){return $d(e,t)}function U_(e,t){return $d(t,e)!==void 0}var mi;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(mi||(mi={}));class q_{constructor(t){this.autoDestroy=!1,this.properties=t}}function xd(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const s=Object.create(t.properties),i=t.autoDestroy;for(const n in s)s[n]=D(s[n]);t=new q_(s),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new q_({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function ej(e){return xd(e).properties}function Md(e,t){const r=ej(e);let s=r[t];return s||(s=r[t]={}),s}function tj(e,t){return Np(e,t,sj)}const rj=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function sj(e){return rj.test(e)?"replace":"merge"}var De;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(De||(De={}));const Qm=De.USER+1;function Yi(e){switch(e){case"defaults":return De.DEFAULTS;case"service":return De.SERVICE;case"portal-item":return De.PORTAL_ITEM;case"web-scene":return De.WEB_SCENE;case"web-map":return De.WEB_MAP;case"user":return De.USER}}function Wc(e){switch(e){case De.DEFAULTS:return"defaults";case De.SERVICE:return"service";case De.PORTAL_ITEM:return"portal-item";case De.WEB_SCENE:return"web-scene";case De.WEB_MAP:return"web-map";case De.USER:return"user"}return void 0}function ij(e){return Wc(e)}var nt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(nt||(nt={}));let Jh,Au=[];const nj=fe.getLogger("esri.core.Accessor");function Re(e){Jh!==void 0&&Jh.onObservableAccessed(e)}let Dp=!1,zp=!1;function sn(e,t,r){if(Dp)return Yb(e,t,r);z$(e);const s=t.call(r);return V$(),s}function oj(e,t){return sn(void 0,e,t)}function Yb(e,t,r){const s=Dp;Dp=!0,z$(e);let i=null;try{i=t.call(r)}catch(n){zp&&nj.error(n)}return V$(),Dp=s,i}function z$(e){Jh=e,Au.push(e)}function V$(){const e=Au.pop();Jh=Au.length>0?Au[Au.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function U$(e,t){if(t.flags&nt.DepTrackingInitialized)return;const r=zp;zp=!1,t.flags&nt.AutoTracked?Yb(t,t.metadata.get,e):q$(e,t),zp=r}const aj=[];function q$(e,t){t.flags&nt.ExplicitlyTracking||(t.flags|=nt.ExplicitlyTracking,Yb(t,()=>{const r=t.metadata.dependsOn||aj;for(const s of r)if(typeof s=="string"&&s.indexOf(".")===-1)B_(e,s,!1);else{const i=P$(s);for(let n=0,a=e;n<i.length&&a!=null&&typeof a=="object";++n)a=B_(a,i[n],n!==i.length-1)}}),t.flags&=~nt.ExplicitlyTracking)}function B_(e,t,r){const s=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const a=parseInt(s,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.getItemAt(a)}const i=mr(e),n=i==null?void 0:i.properties.get(s);return n&&(Re(n),U$(e,n)),r?e[s]:void 0}class B${constructor(t,r){this._observers=t,this._observer=r}remove(){S$(this._observers,this._observer)}}class G_{constructor(t,r,s){this.properties=t,this.propertyName=r,this.metadata=s,this._observers=null,this._accessed=null,this._handles=null,this.flags=nt.Dirty|(s.nonNullable?nt.NonNullable:0)|(s.hasOwnProperty("value")?nt.HasDefaultValue:0)|(s.get===void 0?nt.DepTrackingInitialized:0)|(s.dependsOn===void 0?nt.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Re(this);const t=this.properties.store,r=this.propertyName,s=this.flags,i=t.get(r);if(s&nt.Computing||~s&nt.Dirty&&t.has(r))return i;this.flags|=nt.Computing;const n=this.properties.host;let a;s&nt.AutoTracked?a=sn(this,this.metadata.get,n):(q$(n,this),a=this.metadata.get.call(n)),t.set(r,a,De.COMPUTED);const u=t.get(r);return u===i?this.flags&=~nt.Dirty:oj(this.commit,this),this.flags&=~nt.Computing,u}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=nt.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let r=this._handles;r===null&&(r=this._handles=[]);for(let s=0;s<t.length;++s)r.push(t[s].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new B$(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&nt.Overriden&&(this.flags|=nt.Dirty);const t=this._observers;if(t!==null)for(let r=0;r<t.length;++r)t[r].onInvalidated()}commit(){this.flags&=~nt.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let r=0;r<t.length;++r)t[r].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}}class Xb{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new Xb;return this._values.forEach((s,i)=>{t&&t.has(i)||r.set(i,D(s))}),r}get(t){return this._values.get(t)}originOf(){return De.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function rp(e,t,r){return e!==void 0}function H_(e,t,r,s){return e!==void 0&&(!(r==null&&e.flags&nt.NonNullable)||(s.lifecycle,mi.INITIALIZING,!1))}function lj(e){return e&&typeof e.destroy=="function"}fe.getLogger("esri.core.accessorSupport.Properties");class uj{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=mi.INITIALIZING,this.store=new Xb,this._origin=De.USER;const r=this.host.constructor.__accessorMetadata__,s=r.properties;for(const i in s){const n=new G_(this,i,s[i]);this.properties.set(i,n)}this.metadatas=s,this._autoDestroy=r.autoDestroy}initialize(){this.lifecycle=mi.CONSTRUCTING}constructed(){this.lifecycle=mi.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,r]of this.properties){const s=this.internalGet(t);s&&lj(s)&&(s.destroy(),~r.flags&nt.NonNullable&&this._internalSet(r,null)),r.destroy()}else for(const[t,r]of this.properties)r.destroy()}get initialized(){return this.lifecycle!==mi.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();Re(r);const s=this.store;return s.has(t)?s.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const s=this.properties.get(t);if(s!==void 0&&s.flags&nt.HasDefaultValue)return"defaults"}return Wc(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(rp(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const s=this.properties.get(t);rp(s)&&this._internalSet(s,r)}getDependsInfo(t,r,s){const i=this.properties.get(r);if(!rp(i))return"";const n=new Set,a=sn({onObservableAccessed:d=>n.add(d),onTrackingEnd:()=>{}},()=>{var d;return(d=i.metadata.get)==null?void 0:d.call(t)});let u=`${s}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;if(n.size===0)return u;s+="  ";for(const d of n){if(!(d instanceof G_))continue;const p=d.properties.host,f=d.propertyName,y=mr(p);u+=y?y.getDependsInfo(p,f,s):`${s}${f}: undefined
`}return u}setAtOrigin(t,r,s){const i=this.properties.get(t);if(rp(i))return this._setAtOrigin(i,r,s)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.flags&nt.Overriden)}clearOverride(t){const r=this.properties.get(t);r!==void 0&&r.flags&nt.Overriden&&(r.flags&=~nt.Overriden,r.notifyChange())}override(t,r){const s=this.properties.get(t);if(!H_(s,t,r,this))return;const i=s.metadata.cast;if(i){const n=this._cast(i,r),{valid:a,value:u}=n;if(By.release(n),!a)return;r=u}s.flags|=nt.Overriden,this._internalSet(s,r)}set(t,r){const s=this.properties.get(t);if(!H_(s,t,r,this))return;const i=s.metadata.cast;if(i){const a=this._cast(i,r),{valid:u,value:d}=a;if(By.release(a),!u)return;r=d}const n=s.metadata.set;n?n.call(this.host,r):this._internalSet(s,r)}setDefaultOrigin(t){this._origin=Yi(t)}getDefaultOrigin(){return Wc(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const s=this.lifecycle!==mi.INITIALIZING?this._origin:De.DEFAULTS;this._setAtOrigin(t,r,s)}_setAtOrigin(t,r,s){const i=this.store,n=t.propertyName;i.has(n,s)&&Ff(r,i.get(n))&&~t.flags&nt.Overriden&&s===i.originOf(n)||(t.invalidate(),i.set(n,r,s),t.commit(),U$(this.host,t))}_cast(t,r){const s=By.acquire();return s.valid=!0,s.value=r,t&&(s.value=t.call(this.host,r,s)),s}}class cj{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const By=new rn(cj);function dj(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(r,s){if(s==="")return"$";const i=wd(s,t),n=i==null?"":i;if(n===void 0)throw new Error(`could not find key "${s}" in template`);return n.toString()})}class Df{constructor(t,r,s){this.name=t,this.details=s,this.message=void 0,this instanceof Df&&(this.message=r&&dj(r,s)||"")}toString(){return"["+this.name+"]: "+this.message}}class H extends Df{constructor(t,r,s){if(super(t,r,s),!(this instanceof H))return new H(t,r,s)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return D(r)}catch{return"[object]"}}))}}catch(t){throw fe.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new H(t.name,t.message,t.details)}}H.prototype.type="error";function Wh(e,t,r){if(e&&t)if(typeof t=="object")for(const s of Object.getOwnPropertyNames(t))Wh(e,s,t[s]);else{if(t.indexOf(".")!==-1){const i=t.split("."),n=i.splice(i.length-1,1)[0];return void Wh(Hh(e,i),n,r)}const s=e.__accessor__;s!=null&&pj(t,s),e[t]=r}}function pj(e,t){if(K("esri-unknown-property-errors")&&!hj(e,t))throw new H("set:unknown-property",fj(e,t))}function hj(e,t){return t.metadatas[e]!=null}function fj(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}fe.getLogger("esri.core.accessorSupport.set");class yj extends rn{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=CT(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const sp=[];function Kc(e){sp.push(e),sp.length===1&&queueMicrotask(()=>{const t=sp.slice();sp.length=0;for(const r of t)r()})}const mj=29;class e1{constructor(t,r=mj){this.name=t,this._counter=0,this._items=new Array(r)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,r)=>t-r)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,r)=>t+r,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var Zm;(function(e){const t=(n,a,u,d)=>{let p=a,f=a;const y=u>>>1,v=n[p-1];for(;f<=y;){f=p<<1,f<u&&d(n[f-1],n[f])<0&&++f;const b=n[f-1];if(d(b,v)<=0)break;n[p-1]=b,p=f}n[p-1]=v},r=(n,a)=>n<a?-1:n>a?1:0;function s(n,a,u,d){a===void 0&&(a=0),u===void 0&&(u=n.length),d===void 0&&(d=r);for(let f=u>>>1;f>a;f--)t(n,f,u,d);const p=a+1;for(let f=u-1;f>a;f--){const y=n[a];n[a]=n[f],n[f]=y,t(n,p,f,d)}}function*i(n,a,u,d){a===void 0&&(a=0),u===void 0&&(u=n.length),d===void 0&&(d=r);for(let f=u>>>1;f>a;f--)t(n,f,u,d),yield;const p=a+1;for(let f=u-1;f>a;f--){const y=n[a];n[a]=n[f],n[f]=y,t(n,p,f,d),yield}}e.sort=s,e.iterableSort=i})(Zm||(Zm={}));const J_=Zm,gj=1.5,vj=1.1;class Qc{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Kb,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>W_(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let s=0;s<this._length;s++){const i=this.data[s];t(i)&&r.push(i)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let s=0;s<r;s++)this.data[this._length++]=t[s]}fill(t,r){for(let s=0;s<r;s++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,W_(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=Qb(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){const r=_$(this.data,t,this.length,this._hint);return r!==void 0&&(this.length=this.length-1),this._shrink(),r}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,s){this.length=VT(this.data,t,this.length,r,this._hint,s),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){t>=this.length||r>=this.length||t===r||([this.data[t],this.data[r]]=[this.data[r],this.data[t]])}sort(t){J_.sort(this.data,0,this.length,t)}iterableSort(t){return J_.iterableSort(this.data,0,this.length,t)}some(t,r){for(let s=0;s<this.length;++s)if(t.call(r,this.data[s],s,this.data))return!0;return!1}filterInPlace(t,r){let s=0;for(let i=0;i<this._length;++i){const n=this.data[i];t.call(r,n,i,this.data)&&(this.data[i]=this.data[s],this.data[s]=n,s++)}if(this._deallocator)for(let i=s;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=s,this._shrink(),this}forAll(t,r){const s=this.length,i=this.data;for(let n=0;n<s;++n)t.call(r,i[n],n,i)}forEach(t,r){for(let s=0;s<this.length;++s)t.call(r,this.data[s],s,this.data)}map(t,r){const s=new Array(this.length);for(let i=0;i<this.length;++i)s[i]=t.call(r,this.data[i],i,this.data);return s}reduce(t,r){let s=r;for(let i=0;i<this.length;++i)s=t(s,this.data[i],i,this.data);return s}has(t){const r=this.length,s=this.data;for(let i=0;i<r;++i)if(s[i]===t)return!0;return!1}}function W_(e){e.data.length>gj*e.length&&(e.data.length=Math.floor(e.length*vj))}function bj(e){return{setTimeout:(t,r)=>{const s=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(s)}}}}const wj=bj(globalThis);function zf(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Id(e,t,r){if(!zf(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const s=t.slice();for(const i of s)e.addEventListener(i,r);return{remove(){for(const i of s)e.removeEventListener(i,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function G$(e,t,r){if(!zf(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const s=Id(e,t,i=>{s.remove(),r.call(e,i)});return{remove(){s.remove()}}}const _j={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Gy({key:e}){return _j[e]||e}function Sj(e){return Promise.all(e)}function H$(e){return new Promise((t,r)=>{try{e(t,r)}catch(s){Promise.resolve().then(()=>r(s))}})}function ur(e="Aborted"){return new H("AbortError",e)}function Hs(e,t="Aborted"){if(io(e))throw ur(t)}function Vf(e){return q(e)?"aborted"in e?e:e.signal:e}function io(e){const t=Vf(e);return q(t)&&t.aborted}function Ql(e){if(Ws(e))throw e}function Ym(e){if(!Ws(e))throw e}function nn(e,t){const r=Vf(e);if(!we(r)){if(!r.aborted)return G$(r,"abort",()=>t());t()}}function Uf(e,t){const r=Vf(e);if(!we(r))return Hs(r),G$(r,"abort",()=>t(ur()))}function J$(e,t){const r=Vf(t);return we(r)?e:new Promise((s,i)=>{let n=nn(t,()=>i(ur()));const a=()=>n=bd(n);e.then(a,a),e.then(s,i)})}function Ws(e){return e&&e.name==="AbortError"}function W$(e){return e.catch(t=>{if(!Ws(t))throw t})}function ya(){let e=null;const t=new Promise((r,s)=>{e={promise:void 0,resolve:r,reject:s}});return e.promise=t,e}function bi(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e);return bi(r.map(s=>e[s])).then(s=>{const i={};return r.forEach((n,a)=>i[n]=s[a]),i})}const t=e;return H$(r=>{const s=[];let i=t.length;i===0&&r(s),t.forEach(n=>{const a={promise:n||Promise.resolve(n)};s.push(a),a.promise.then(u=>{a.value=u}).catch(u=>{a.error=u}).then(()=>{--i,i===0&&r(s)})})})}function $j(e){return bi(e).then(t=>t.filter(r=>!!r.value).map(r=>r.value))}function xj(e){return Promise.reject(e)}function K$(e){return Promise.resolve(e)}function t1(e,t,r){const s=new AbortController;return nn(r,()=>s.abort()),new Promise((i,n)=>{let a=setTimeout(()=>{a=0,i(t)},e);nn(s,()=>{a&&(clearTimeout(a),n(ur()))})})}function Zl(e){return e&&typeof e.then=="function"}function Xm(e){return Zl(e)?e:Promise.resolve(e)}function r1(e,t=-1){let r,s,i,n,a=null;const u=(...d)=>{if(r){s=d,n&&n.reject(ur()),n=ya();const v=n.promise;if(a){const b=a;a=null,b.abort()}return v}if(i=n||ya(),n=null,t>0){const v=new AbortController;r=Xm(e(...d,v.signal));const b=r;t1(t).then(()=>{r===b&&(n?v.abort():a=v)})}else r=1,r=Xm(e(...d));const p=()=>{const v=s;s=i=r=a=null,v!=null&&u(...v)},f=r,y=i;return f.then(p,p),f.then(y.resolve,y.reject),y.promise};return u}function Q$(){let e,t;const r=new Promise((i,n)=>{e=i,t=n}),s=i=>{e(i)};return s.resolve=i=>e(i),s.reject=i=>t(i),s.timeout=(i,n)=>wj.setTimeout(()=>s.reject(n),i),s.promise=r,s}function Mj(e,t){let r,s=new AbortController;const i=e(s.signal);let n={promise:i,finished:!1,abort:()=>{s&&(s.abort(),s=null)}};const a=()=>{n&&(n.finished=!0,n=null),q(r)&&(r.remove(),r=null),s=null};return i.then(a,a),r=nn(t,()=>{q(n)&&n.abort()}),n}function Ij(e){return Promise.resolve().then(()=>{Hs(e)})}function Ej(e){return e}class Oj{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let K_=0;const bu={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},eg=["prepare","preRender","render","postRender","update","finish"],tg=[],Zc=new Qc,rg={frameTasks:Zc,willDispatch:!1,clearFrameTasks:kj,dispatch:Y$,executeFrameTasks:Tj};function qf(e){const t=new Oj(e);return tg.push(t),rg.willDispatch||(rg.willDispatch=!0,Kc(Y$)),t}function kj(e=!1){Zc.forAll(t=>{t.removed=!0}),e&&Z$()}function Tj(e){const t=e-K_;K_=e;const r=1e3/60,s=Math.max(0,t-r);for(let i=0;i<eg.length;i++){const n=performance.now(),a=eg[i];Zc.forAll(u=>{var d;u.paused||u.removed||(i===0&&u.ticks++,u.phases[a]&&(bu.time=e,bu.deltaTime=u.ticks===0?0:t,bu.elapsedFrameTime=performance.now()-e,bu.frameDuration=r-s,(d=u.phases[a])==null||d.call(u,bu)))}),Cj[i].record(performance.now()-n)}Z$(),Aj.record(performance.now()-e)}const ip=new Qc;function Z$(){Zc.forAll(e=>{e.removed&&ip.push(e)}),Zc.removeUnorderedMany(ip.data,ip.length),ip.clear()}function Y$(){for(;tg.length;){const e=tg.shift();e.isActive&&e.callback()}rg.willDispatch=!1}function jj(e=1,t){const r=Q$(),s=()=>{io(t)?r.reject(ur()):e===0?r():(--e,Kc(()=>s()))};return s(),r.promise}const Cj=eg.map(e=>new e1(e)),Aj=new e1("total");let Rj=0;function Ml(){return++Rj}class Bf{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed;for(let s=0;s<r.length;++s)t.push(r[s].observe(this));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}let Il=!1;const Kh=[];function X$(e,t){let r=new Bf(n),s=null,i=!1;function n(){if(!r||i)return;if(Il)return void rx(n);const u=s;r.clear(),Il=!0,i=!0,s=sn(r,e),i=!1,Il=!1,t(s,u),sx()}function a(){r&&(r.destroy(),r=null,s=null)}return i=!0,s=sn(r,e),i=!1,{remove:a}}function ex(e,t){let r=new Bf(i),s=null;function i(){t(s,a)}function n(){r&&(r.destroy(),r=null),s=null}function a(){return r?(r.clear(),s=sn(r,e),s):null}return a(),{remove:n}}function tx(e){let t=new Bf(s),r=!1;function s(){t&&!r&&(Il?rx(s):(t.clear(),Il=!0,r=!0,sn(t,e),r=!1,Il=!1,sx()))}function i(){t&&(t.destroy(),t=null)}return r=!0,sn(t,e),r=!1,{remove:i}}function rx(e){Kh.includes(e)||Kh.unshift(e)}function sx(){for(;Kh.length;)Kh.pop()()}var xc;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(xc||(xc={}));class Yc{constructor(){this.uid=Ml(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,s,i,n){return this.pool.acquire(xc.Untracked,t,r,s,i,n,Ff)}static acquireTracked(t,r,s,i){return this.pool.acquire(xc.Tracked,t,r,s,null,null,i)}notify(t,r){this.type===xc.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,s,i,n,a,u){this.uid=Ml(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=s,this.getValue=i,this.target=n,this.path=a,this.equals=u}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Ml(),this.removed=!0}}Yc.pool=new yj(Yc);const Vp=new Ds,eo=new Set;let Qh;function Zh(e){eo.delete(e),eo.add(e),Qh||(Qh=qf(Lj))}function Pj(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function Fj(e){for(const t of eo.values())t.target===e&&(t.removed=!0)}function Lj(){let e=10;for(;Qh&&e--;){Qh=null;const t=Nj(),r=Vp.acquire();for(const s of t){const i=s.uid;Pj(s),i===s.uid&&s.removed&&r.push(s)}for(const s of eo)s.removed&&(r.push(s),eo.delete(s));for(const s of r)Yc.pool.release(s);Vp.release(r),Vp.release(t),Dj.forEach(s=>s())}}function Nj(){const e=Vp.acquire();e.length=eo.size;let t=0;for(const r of eo)e[t]=r,++t;return eo.clear(),e}const Dj=new Set;function zj(e,t,r){let s=F$(e,t,r,(i,n,a)=>{let u,d,p=ex(()=>$d(i,n),(f,y)=>{i.__accessor__.destroyed||u&&u.uid!==d?s.remove():(u||(u=Yc.acquireUntracked(f,a,y,i,n),d=u.uid),Zh(u))});return{remove:L$(()=>{p.remove(),u&&(u.uid!==d||u.removed||(u.removed=!0,Zh(u)),u=null),s=p=null})}});return s}function Vj(e,t,r){const s=F$(e,t,r,(i,n,a)=>{let u=!1;return X$(()=>$d(i,n),(d,p)=>{i.__accessor__.destroyed?s.remove():u||(u=!0,Ff(p,d)||a.call(i,d,p,n,i),u=!1)})});return s}function Uj(e,t,r,s=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:s?Vj(e,t,r):zj(e,t,r)}function qj(e,t,r){let s,i,n=ex(e,(a,u)=>{s&&s.uid!==i?n.remove():(s||(s=Yc.acquireTracked(a,t,u,r),i=s.uid),Zh(s))});return{remove:L$(()=>{n.remove(),s&&(s.uid!==i||s.removed||(s.removed=!0,Zh(s)),s=null),n=null})}}function Bj(e,t,r){let s=!1;return X$(e,(i,n)=>{s||(s=!0,r(n,i)||t(i,n),s=!1)})}function Gj(e,t,r=!1,s=Ff){return r?Bj(e,t,s):qj(e,t,s)}function ix(e,t,r){const s=e.get(t);if(s!==void 0)return s;const i=r();return e.set(t,i),i}const El=fe.getLogger("esri.core.Accessor");function Hj(e){return e==null?e:new Date(e)}function Jj(e){return e==null?e:!!e}function Ed(e){return e==null?e:e.toString()}function Od(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function Gf(e){return e==null?e:Math.round(parseFloat(e))}function nx(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function Yh(e,t){return t!=null&&e&&!(t instanceof e)}function ox(e){return e&&"isCollection"in e}function Q_(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Wj(e,t){if(!t||!t.constructor||!ox(t.constructor))return sg(e,t)?t:new e(t);const r=Q_(e.prototype.itemType),s=Q_(t.constructor.prototype.itemType);return r?s?r===s?t:r.prototype.isPrototypeOf(s.prototype)?new e(t):(sg(e,t),t):new e(t):t}function sg(e,t){return!!nx(t)&&(El.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+Jf(e)+"'"),!0)}function Hf(e,t){return t==null?t:ox(e)?Wj(e,t):Yh(e,t)?sg(e,t)?t:new e(t):t}function Jf(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const Kj=new WeakMap;function Qj(e){switch(e){case Number:return Od;case zt:return Gf;case Boolean:return Jj;case String:return Ed;case Date:return Hj;default:return ix(Kj,e,()=>Hf.bind(null,e))}}function ct(e,t){const r=Qj(e);return arguments.length===1?r:r(t)}function Xc(e,t,r){return arguments.length===1?Xc.bind(null,e):t&&(Array.isArray(t)?t.map(s=>e(s,r)):[e(t,r)])}function Zj(e,t){return arguments.length===1?Xc(ct.bind(null,e)):Xc(ct.bind(null,e),t)}function ax(e,t,r){return t!==0&&Array.isArray(r)?r.map(s=>ax(e,t-1,s)):e(r)}function Xh(e,t,r){if(arguments.length===2)return Xh.bind(null,e,t);if(!r)return r;let s=t,i=r=ax(e,t,r);for(;s>0&&Array.isArray(i);)s--,i=i[0];if(i!==void 0)for(let n=0;n<s;n++)r=[r];return r}function Yj(e,t,r){return arguments.length===2?Xh(ct.bind(null,e),t):Xh(ct.bind(null,e),t,r)}function lx(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function ig(e,t){if(arguments.length===2)return ig(e).call(null,t);const r=new Set,s=e.filter(u=>typeof u!="function"),i=e.filter(u=>typeof u=="function");for(const u of e)typeof u!="string"&&typeof u!="number"||r.add(u);let n=null,a=null;return(u,d)=>{if(u==null)return u;const p=typeof u,f=p==="string"||p==="number";return f&&(r.has(u)||i.some(y=>p==="string"&&y===String||p==="number"&&y===Number))||p==="object"&&i.some(y=>!Yh(u,y))?u:(f&&s.length?(n||(n=s.map(y=>typeof y=="string"?`'${y}'`:`${y}`).join(", ")),El.error("Accessor#set",`'${u}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof u=="object"&&i.length?(a||(a=i.map(y=>Jf(y)).join(", ")),El.error("Accessor#set",`'${u}' is not a valid value for this property, value must be one of ${a}`)):El.error("Accessor#set",`'${u}' is not a valid value for this property`),d&&(d.valid=!1),null)}}function wi(e,t){if(arguments.length===2)return wi(e).call(null,t);const r={},s=[],i=[];for(const d in e.typeMap){const p=e.typeMap[d];r[d]=ct(p),s.push(Jf(p)),i.push(d)}const n=()=>`'${s.join("', '")}'`,a=()=>`'${i.join("', '")}'`,u=typeof e.key=="string"?d=>d[e.key]:e.key;return d=>{if(e.base&&!Yh(e.base,d)||d==null)return d;const p=u(d)||e.defaultKeyValue,f=r[p];if(!f)return El.error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!Yh(e.typeMap[p],d))return d;if(typeof e.key=="string"&&!nx(d)){const y={};for(const v in d)v!==e.key&&(y[v]=d[v]);return f(y)}return f(d)}}class zt{}const Xj={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function eC(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function ux(e){switch(e.type){case"native":return ct(e.value);case"array":return Xc(ux(e.value));case"one-of":return tC(e);default:return null}}function tC(e){let t=null;return(r,s)=>og(r,e)?r:(t==null&&(t=ng(e)),El.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),s&&(s.valid=!1),null)}function ng(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case zt:return"integer";case Date:return"date";default:return Jf(e.value)}case"array":return`array of ${ng(e.value)}`;case"one-of":{const t=e.values.map(r=>ng(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function og(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case zt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!og(r,t.value));case"one-of":return t.values.some(r=>og(e,r))}}function c(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const s=Object.getOwnPropertyDescriptor(t,r),i=Md(t,r);s&&(s.get||s.set?(i.get=s.get||i.get,i.set=s.set||i.set):"value"in s&&("value"in e&&fe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=s.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const n=e.aliasOf;if(n){const d=typeof n=="string"?n:n.source,p=typeof n=="string"?null:n.overridable===!0;let f;i.dependsOn=[d],i.get=function(){let y=Hh(this,d);if(typeof y=="function"){f||(f=d.split(".").slice(0,-1).join("."));const v=Hh(this,f);v&&(y=y.bind(v))}return y},i.readOnly||(i.set=p?function(y){y!==void 0?this._override(r,y):this._clearOverride(r)}:function(y){Wh(this,d,y)})}const a=e.type,u=e.types;i.cast||(a?i.cast=rC(a):u&&(Array.isArray(u)?i.cast=Xc(wi(u[0])):i.cast=wi(u))),e.range&&(i.cast=cx(i.cast,e.range)),tj(i,e)}}function s1(e,t,r){const s=Md(e,r);s.json||(s.json={});let i=s.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function rC(e){let t=0,r=e;if(eC(e))return ux(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const s=r;if(lx(s))return t===0?ig(s):Xh(ig(s),t);if(t===1)return Zj(s);if(t>1)return Yj(s,t);const i=e;return i.from?i.from:ct(i)}function cx(e,t){return r=>{let s=+e(r);return t.step!=null&&(s=Math.round(s/t.step)*t.step),t.min!=null&&(s=Math.max(t.min,s)),t.max!=null&&(s=Math.min(t.max,s)),s}}function sC(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const s in r)if(t[s]){const i=t[s];r[s].forEach(n=>{t[n]=i}),delete t[s]}}}class Nr extends Df{constructor(t,r,s){if(super(t,r,s),!(this instanceof Nr))return new Nr(t,r,s)}}Nr.prototype.type="warning";function dx(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const ag=fe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function Z_(e,t,r){var s,i;e&&(!r&&!t.read||(s=t.read)!=null&&s.reader||((i=t.read)==null?void 0:i.enabled)===!1||oC(e)&&Lr("read.reader",xa(e),t))}function xa(e){var t;const r=(t=e.ndimArray)!=null?t:0;if(r>1)return nC(e);if(r===1)return Y_(e);if("type"in e&&hx(e.type)){var s,i;const n=(s=e.type.prototype)==null||(i=s.itemType)==null?void 0:i.Type,a=Y_(typeof n=="function"?{type:n}:{types:n});return(u,d,p)=>{const f=a(u,d,p);return f&&new e.type(f)}}return i1(e)}function i1(e){return"type"in e?iC(e.type):aC(e.types)}function iC(e){return e.prototype.read?(t,r,s)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void ag.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const n=new e;return n.read(t,s),n}:e.fromJSON}function px(e,t,r,s){return s!==0&&Array.isArray(t)?t.map(i=>px(e,i,r,s-1)):e(t,void 0,r)}function nC(e){var t;const r=i1(e),s=px.bind(null,r),i=(t=e.ndimArray)!=null?t:0;return(n,a,u)=>{if(n==null)return n;n=s(n,u,i);let d=i,p=n;for(;d>0&&Array.isArray(p);)d--,p=p[0];if(p!==void 0)for(let f=0;f<d;f++)n=[n];return n}}function Y_(e){const t=i1(e);return(r,s,i)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const u of r){const d=t(u,void 0,i);d!==void 0&&a.push(d)}return a}const n=t(r,void 0,i);return n!==void 0?[n]:void 0}}function hx(e){if(!dx(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?n1(t.Type):fx(t.Type))}function oC(e){return"types"in e?fx(e.types):n1(e.type)}function n1(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||hx(e))}function fx(e){for(const t in e.typeMap)if(!n1(e.typeMap[t]))return!1;return!0}function aC(e){var t;let r=null;const s=(t=e.errorContext)!=null?t:"type";return(i,n,a)=>{if(i==null)return i;const u=typeof i;if(u!=="object")return void ag.error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);r||(r=lC(e));const d=e.key;if(typeof d!="string")return;const p=i[d],f=p?r[p]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const v=`Type '${p||"unknown"}' is not supported`;return a&&a.messages&&i&&a.messages.push(new Nr(`${s}:unsupported`,v,{definition:i,context:a})),void ag.error(v)}const y=new f;return y.read(i,a),y}}function lC(e){const t={};for(const i in e.typeMap){var r,s;const n=e.typeMap[i],a=xd(n.prototype);if(typeof e.key=="function")continue;const u=a.properties[e.key];if(!u)continue;(r=u.json)!=null&&r.type&&Array.isArray(u.json.type)&&u.json.type.length===1&&typeof u.json.type[0]=="string"&&(t[u.json.type[0]]=n);const d=(s=u.json)==null?void 0:s.write;if(!d||!d.writer){t[i]=n;continue}const p=d.target,f=typeof p=="string"?p:e.key,y={};d.writer(i,y,f),y[f]&&(t[y[f]]=n)}return t}function uC(e){if(e.json||(e.json={}),e3(e.json),t3(e.json),X_(e.json),e.json.origins)for(const t in e.json.origins)e3(e.json.origins[t]),t3(e.json.origins[t]),X_(e.json.origins[t]);return!0}function X_(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function e3(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function t3(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const cC=fe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function r3(e,t){var r;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const s=(r=e==null?void 0:e.ndimArray)!=null?r:0;e&&(s===1||"type"in e&&dx(e.type))?t.write.writer=hC:s>1?t.write.writer=fC(s):t.types?Array.isArray(t.types)?t.write.writer=pC(t.types[0]):t.write.writer=dC(t.types):t.write.writer=ed}function dC(e){return(t,r,s,i)=>t?yx(t,e,i)?ed(t,r,s,i):void 0:ed(t,r,s,i)}function yx(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){var s,i;const n=(s=t.errorContext)!=null?s:"type",a=`Values of type '${(i=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?i:"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new H(`${n}:unsupported`,a,{definition:e,context:r})),cC.error(a)}return!1}function pC(e){return(t,r,s,i)=>!t||!Array.isArray(t)?ed(t,r,s,i):ed(t.filter(n=>yx(n,e,i)),r,s,i)}function ed(e,t,r,s){Lr(r,ef(e,s),t)}function ef(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?mx(e):e}function mx(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function hC(e,t,r,s){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(n=>ef(n,s)),typeof i.toArray=="function"&&(i=i.toArray())):i=[ef(e,s)],Lr(r,i,t)}function gx(e,t,r){return r!==0&&Array.isArray(e)?e.map(s=>gx(s,t,r-1)):ef(e,t)}function fC(e){return function(t,r,s,i){let n;if(t===null)n=null;else{n=gx(t,i,e);let a=e,u=n;for(;a>0&&Array.isArray(u);)a--,u=u[0];if(u!==void 0)for(let d=0;d<a;d++)n=[n]}Lr(s,n,r)}}function lg(e,t){return o1(e,"read",t)}function vx(e,t){return o1(e,"write",t)}function o1(e,t,r){let s=e&&e.json;if(e&&e.json&&e.json.origins&&r){const i=e.json.origins[r.origin];i&&(t==="any"||t in i)&&(s=i)}return s}function yC(e){const t=mC(e);if(e.json.origins)for(const r in e.json.origins){const s=e.json.origins[r],i=s.types?gC(s):t;Z_(i,s,!1),s.types&&!s.write&&e.json.write&&e.json.write.enabled&&(s.write=z({},e.json.write)),r3(i,s)}Z_(t,e.json,!0),r3(t,e.json)}function mC(e){return e.json.types?ug(e.json):e.type?bx(e):ug(e)}function gC(e){return e.type?bx(e):ug(e)}function bx(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!lx(r);)r=r[0],t++;return{type:r,ndimArray:t}}function ug(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function vC(e){uC(e)&&(sC(e),yC(e))}const Hy=new Set,Jy=new Set;function I(e){return t=>{t.prototype.declaredClass=e,wC(t);const r=[],s=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!Hy.has(i.initialize)&&(Hy.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!Jy.has(i.destroy)&&(Jy.add(i.destroy),s.push(i.destroy)),i=Object.getPrototypeOf(i);Hy.clear(),Jy.clear();class n extends t{constructor(...u){if(super(...u),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let d=r.length-1;d>=0;d--)r[d].call(this)}}),s.length){let d=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!d){d=!0;for(let p=0;p<s.length;p++)s[p].call(this)}}})}this.postscript(...u)}}}return n.__accessorMetadata__=xd(t.prototype),n.prototype.declaredClass=e,n}}function bC(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;Re(r);const s=this.__accessor__.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function wC(e){const t=e.prototype,r=xd(t).properties,s={};for(const i of Object.getOwnPropertyNames(r)){const n=r[i];vC(n),s[i]={enumerable:!0,configurable:!0,get:bC(i,n),set(a){const u=this.__accessor__;if(u!==void 0){if(!Object.isFrozen(this)){if(u.initialized&&n.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${i}' of ${this.declaredClass}`);if(u.lifecycle===mi.CONSTRUCTED&&n.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${i}' of ${this.declaredClass}`);u.set(i,a)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,s)}function _C(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class wt{constructor(...t){if(this.constructor===wt)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new uj(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:s,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class a extends n{constructor(...d){super(...d),this.inherited=null,i&&i.apply(this,d)}}xd(a.prototype);for(const u in t){const d=t[u];a.prototype[u]=typeof d=="function"?function(...p){const f=this.inherited;let y;this.inherited=function(...v){if(n.prototype[u])return n.prototype[u].apply(this,v)};try{y=d.apply(this,p)}catch(v){throw this.inherited=f,v}return this.inherited=f,y}:t[u]}for(const u in r){const d=_C(r[u]);c(d)(a.prototype,u)}return I(s)(a)}postscript(t){const r=this.__accessor__,s=r.ctorArgs||t;r.initialize(),s&&(this.set(s),r.ctorArgs=null),r.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(Fj(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===mi.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Hh(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return Ga(fe.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return Wh(this,t,r),this}watch(t,r,s){return Uj(this,t,r,s)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,r){return this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}class Ol{constructor(){this._emitter=new Ol.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(i=null){this.target=i,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(i,n){const a=this._listenersMap&&this._listenersMap.get(i);if(!a)return!1;const u=this.target||this;return[...a].forEach(d=>{d.call(u,n)}),a.length>0}on(i,n){if(Array.isArray(i)){const u=i.map(d=>this.on(d,n));return Nf(u)}if(i.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const a=this._listenersMap.get(i)||[];return a.push(n),this._listenersMap.set(i,a),{remove:()=>{const u=this._listenersMap&&this._listenersMap.get(i)||[],d=u.indexOf(n);d>=0&&u.splice(d,1)}}}once(i,n){const a=this.on(i,u=>{a.remove(),n.call(null,u)});return a}hasEventListener(i){const n=this._listenersMap&&this._listenersMap.get(i);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=s=>{let i=class extends s{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return i=o([I("esri.core.Evented")],i),i};let r=class extends wt{constructor(){super(...arguments),this._emitter=new Ol.EventEmitter(this)}destroy(){this._emitter.clear()}emit(s,i){return this._emitter.emit(s,i)}on(s,i){return this._emitter.on(s,i)}once(s,i){return this._emitter.once(s,i)}hasEventListener(s){return this._emitter.hasEventListener(s)}};r=o([I("esri.core.Evented")],r),e.EventedAccessor=r})(Ol||(Ol={}));const kd=Ol;var Qe;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Qe||(Qe={}));function a1(e){return(t,r)=>{t[r]=e}}class SC{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new B$(this._observers,t)}notify(){const t=this._observers.slice();for(let r=0;r<t.length;++r){const s=t[r];s.onInvalidated(),s.onCommitted()}}}var Wi;class $C{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const ss=new rn($C,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),xC=()=>{};function Wy(e){return e?e instanceof Zo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Ky(e){if(e&&e.length)return e[0]}function MC(e,t,r,s){const i=Math.min(e.length-r,t.length-s);let n=0;for(;n<i&&e[r+n]===t[s+n];)n++;return n}function wx(e,t,r,s){t&&t.forEach((i,n,a)=>{e.push(i),wx(e,r.call(s,i,n,a),r,s)})}const yn=new Set,mn=new Set,gn=new Set,Qy=new Map;let IC=0,Zo=Wi=class extends kd.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new SC,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:IC++})}static isCollection(e){return e!=null&&e instanceof Wi}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Wi?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Re(this._observable),this._items}set items(e){this._emitBeforeChanges(Qe.ADD)||(this._splice(0,this.length,Wy(e)),this._emitAfterChanges(Qe.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,s={removed:!1,callback:t};return r.push(s),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=xC,s.removed=!0,r.splice(r.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Re(this._observable),this._emitBeforeChanges(Qe.ADD))return this;const r=this.getNextIndex(t!=null?t:null);return this._splice(r,0,[e]),this._emitAfterChanges(Qe.ADD),this}addMany(e,t=this._items.length){if(Re(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(Qe.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Wy(e)),this._emitAfterChanges(Qe.ADD),this}at(e){if(Re(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Re(this._observable),!this.length||this._emitBeforeChanges(Qe.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(Qe.REMOVE),e}clone(){return Re(this._observable),this._createNewInstance({items:this._items.map(D)})}concat(...e){Re(this._observable);const t=e.map(Wy);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Re(this._observable),!this.length||this._emitBeforeChanges(Qe.REMOVE))return;const r=this._splice(0,this.length),s=r.length;for(let i=0;i<s;i++)e.call(t,r[i],i,r);this._emitAfterChanges(Qe.REMOVE)}every(e,t){return Re(this._observable),this._items.every(e,t)}filter(e,t){let r;return Re(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Re(this._observable),this._items.find(e,t)}findIndex(e,t){return Re(this._observable),this._items.findIndex(e,t)}flatten(e,t){Re(this._observable);const r=[];return wx(r,this,e,t),new Wi(r)}forEach(e,t){return Re(this._observable),this._items.forEach(e,t)}getItemAt(e){return Re(this._observable),this._items[e]}getNextIndex(e){Re(this._observable);const t=this.length;return(e=e==null?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Re(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Re(this._observable),this._items.indexOf(e,t)}join(e=","){return Re(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Re(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Re(this._observable);const r=this._items.map(e,t);return new Wi({items:r})}reorder(e,t=this.length-1){Re(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(Qe.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(Qe.MOVE)}return e}}pop(){if(Re(this._observable),!this.length||this._emitBeforeChanges(Qe.REMOVE))return;const e=Ky(this._splice(this.length-1,1));return this._emitAfterChanges(Qe.REMOVE),e}push(...e){return Re(this._observable),this._emitBeforeChanges(Qe.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Qe.ADD)),this.length}reduce(e,t){Re(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Re(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Re(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Re(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Qe.REMOVE))return;const t=Ky(this._splice(e,1));return this._emitAfterChanges(Qe.REMOVE),t}removeMany(e){if(Re(this._observable),!e||!e.length||this._emitBeforeChanges(Qe.REMOVE))return[];const t=e instanceof Wi?e.toArray():e,r=this._items,s=[],i=t.length;for(let n=0;n<i;n++){const a=t[n],u=r.indexOf(a);if(u>-1){const d=1+MC(t,r,n+1,u+1),p=this._splice(u,d);p&&p.length>0&&s.push.apply(s,p),n+=d-1}}return this._emitAfterChanges(Qe.REMOVE),s}reverse(){if(Re(this._observable),this._emitBeforeChanges(Qe.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Qe.MOVE),this}shift(){if(Re(this._observable),!this.length||this._emitBeforeChanges(Qe.REMOVE))return;const e=Ky(this._splice(0,1));return this._emitAfterChanges(Qe.REMOVE),e}slice(e=0,t=this.length){return Re(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Re(this._observable),this._items.some(e,t)}sort(e){if(Re(this._observable),!this.length||this._emitBeforeChanges(Qe.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Qe.MOVE),this}splice(e,t,...r){Re(this._observable);const s=(t?Qe.REMOVE:0)|(r.length?Qe.ADD:0);if(this._emitBeforeChanges(s))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(s),i}toArray(){return Re(this._observable),this._items.slice()}toJSON(){return Re(this._observable),this.toArray()}toLocaleString(){return Re(this._observable),this._items.toLocaleString()}toString(){return Re(this._observable),this._items.toString()}unshift(...e){return Re(this._observable),!e.length||this._emitBeforeChanges(Qe.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Qe.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const s=this._items,i=this.itemType;let n,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=qf(()=>this._dispatchChange())),t){if(a=s.splice(e,t),this.hasEventListener("before-remove")){const u=ss.acquire();u.target=this,u.cancellable=!0;for(let d=0,p=a.length;d<p;d++)n=a[d],u.reset(n),this.emit("before-remove",u),u.defaultPrevented&&(a.splice(d,1),s.splice(e,0,n),e+=1,d-=1,p-=1);ss.release(u)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const u=ss.acquire();u.target=this,u.cancellable=!1;const d=a.length;for(let p=0;p<d;p++)u.reset(a[p]),this.emit("after-remove",u);ss.release(u)}}if(r&&r.length){if(i){const f=[];for(const y of r){const v=i.ensureType(y);v==null&&y!=null||f.push(v)}r=f}const u=this.hasEventListener("before-add"),d=this.hasEventListener("after-add"),p=e===this.length;if(u||d){const f=ss.acquire();f.target=this,f.cancellable=!0;const y=ss.acquire();y.target=this,y.cancellable=!1;for(const v of r)u?(f.reset(v),this.emit("before-add",f),f.defaultPrevented||(p?s.push(v):s.splice(e++,0,v),this._set("length",s.length),d&&(y.reset(v),this.emit("after-add",y)))):(p?s.push(v):s.splice(e++,0,v),this._set("length",s.length),y.reset(v),this.emit("after-add",y));ss.release(y),ss.release(f)}else{if(p)for(const f of r)s.push(f);else s.splice(e,0,...r);this._set("length",s.length)}}return(r&&r.length||a&&a.length)&&this._notifyChangeEvent(r,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=ss.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,ss.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=ss.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),ss.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;yn.clear(),mn.clear(),gn.clear();for(const{added:d,removed:p}of r){if(d)if(gn.size===0&&mn.size===0)for(const f of d)yn.add(f);else for(const f of d)mn.has(f)?(gn.add(f),mn.delete(f)):gn.has(f)||yn.add(f);if(p)if(gn.size===0&&yn.size===0)for(const f of p)mn.add(f);else for(const f of p)yn.has(f)?yn.delete(f):(gn.delete(f),mn.add(f))}const s=Ds.acquire();yn.forEach(d=>{s.push(d)});const i=Ds.acquire();mn.forEach(d=>{i.push(d)});const n=this._items,a=t.items,u=Ds.acquire();if(gn.forEach(d=>{a.indexOf(d)!==n.indexOf(d)&&u.push(d)}),t.listeners&&(s.length||i.length||u.length)){const d={target:this,added:s,removed:i,moved:u},p=t.listeners.length;for(let f=0;f<p;f++){const y=t.listeners[f];y.removed||y.callback.call(this,d)}}Ds.release(s),Ds.release(i),Ds.release(u)}yn.clear(),mn.clear(),gn.clear()}};Zo.ofType=e=>{if(!e)return Wi;if(Qy.has(e))return Qy.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const i=e.typeMap[s].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends Wi{};return o([a1({Type:e,ensureType:typeof e=="function"?ct(e):wi(e)})],r.prototype,"itemType",void 0),r=o([I(`esri.core.Collection<${t}>`)],r),Qy.set(e,r),r},o([c()],Zo.prototype,"length",void 0),o([c()],Zo.prototype,"items",null),Zo=Wi=o([I("esri.core.Collection")],Zo);const gt=Zo;class l1{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new l1;return this._values.forEach((s,i)=>{t&&t.has(i)||r.set(i,D(s.value),s.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const s=this._values.get(t);return r==null||(s==null?void 0:s.origin)===r?s==null?void 0:s.value:void 0}originOf(t){var r,s;return(r=(s=this._values.get(t))==null?void 0:s.origin)!=null?r:De.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(s=>{var i;return((i=this._values.get(s))==null?void 0:i.origin)===t})}set(t,r,s){if((s=this._normalizeOrigin(s))===De.DEFAULTS){const i=this._values.get(t);if(i&&i.origin!=null&&i.origin>s)return}this._values.set(t,new EC(r,s))}delete(t,r){var s;(r=this._normalizeOrigin(r))!=null&&((s=this._values.get(t))==null?void 0:s.origin)!==r||this._values.delete(t)}has(t,r){var s;return(r=this._normalizeOrigin(r))!=null?((s=this._values.get(t))==null?void 0:s.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},s)=>t(r,s))}_normalizeOrigin(t){if(t!=null)return t===De.DEFAULTS?t:De.USER}}class EC{constructor(t,r){this.value=t,this.origin=r}}function _x(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),De.DEFAULTS)});const s=e.metadatas;Object.keys(s).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),De.DEFAULTS)})}function OC(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const s=e.read.source;if(typeof s=="string"){if(s===t||s.indexOf(".")>-1&&s.indexOf(t)===0&&U_(s,r))return!0}else for(const i of s)if(i===t||i.indexOf(".")>-1&&i.indexOf(t)===0&&U_(i,r))return!0;return!1}function kC(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function TC(e,t,r,s,i){let n=lg(t[r],i);kC(n)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))n=lg(t[a],i),OC(n,r,s)&&(e[a]=!0)}function jC(e,t,r,s){const i=r.metadatas,n=o1(i[t],"any",s),a=n&&n.default;if(a===void 0)return;const u=typeof a=="function"?a.call(e,t,s):a;u!==void 0&&r.set(t,u)}const Sx={origin:"service"};function $x(e,t,r=Sx){if(!t||typeof t!="object")return;const s=mr(e),i=s.metadatas,n={};for(const a of Object.getOwnPropertyNames(t))TC(n,i,a,t,r);s.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(n)){const u=lg(i[a],r).read,d=u&&u.source;let p;p=d&&typeof d=="string"?$d(t,d):t[a],u&&u.reader&&(p=u.reader.call(e,p,t,r)),p!==void 0&&s.set(a,p)}if(!r||!r.ignoreDefaults){s.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(i))n[a]||jC(e,a,s,r)}s.setDefaultOrigin("user")}function CC(e,t,r,s=Sx){var i;const n=Oe(z({},s),{messages:[]});r(n),(i=n.messages)==null||i.forEach(a=>{a.type!=="warning"||e.loaded?s&&s.messages&&s.messages.push(a):e.loadWarnings.push(a)})}const AC=fe.getLogger("esri.core.accessorSupport.write");function RC(e,t,r,s,i){var n,a;const u={};return(n=t.write)==null||(a=n.writer)==null||a.call(e,s,u,r,i),u}function xx(e,t,r,s,i,n){if(!s||!s.write)return!1;const a=e.get(r);if(!i&&s.write.overridePolicy){const u=s.write.overridePolicy.call(e,a,r,n);u!==void 0&&(i=u)}if(i||(i=s.write),!i||i.enabled===!1)return!1;if((a===null&&!i.allowNull&&!i.writerEnsuresNonNull||a===void 0)&&i.isRequired){const u=new H("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return u&&n&&n.messages?n.messages.push(u):u&&!n&&AC.error(u.name,u.message),!1}return!(a===void 0||a===null&&!i.allowNull&&!i.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===De.DEFAULTS)&&PC(e,r,n,s,a)||!i.ignoreOrigin&&n&&n.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<Yi(n.origin))}function PC(e,t,r,s,i){const n=s.default;if(n===void 0)return!1;if(s.defaultEquals!=null)return s.defaultEquals(i);if(typeof n=="function"){if(Array.isArray(i)){const a=n.call(e,t,r);return Wb(a,i)}return!1}return n===i}function Mx(e,t,r,s){const i=mr(e),n=i.metadatas,a=vx(n[t],s);return!!a&&xx(e,i,t,a,r,s)}function Ix(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Np(t,e.toJSON());const s=mr(e),i=s.metadatas;for(const u in i){const d=vx(i[u],r);if(!xx(e,s,u,d,void 0,r))continue;const p=e.get(u),f=RC(e,d,d.write&&typeof d.write.target=="string"?d.write.target:u,p,r);var n,a;Object.keys(f).length>0&&(t=Np(t,f),r!=null&&(n=r.resources)!=null&&(a=n.pendingOperations)!=null&&a.length&&Promise.all(r.resources.pendingOperations).then(()=>Np(t,f)),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:u,oldOrigin:ij(s.store.originOf(u)),newOrigin:r.origin}))}return t}const Wf=e=>{let t=class extends e{constructor(...r){super(...r);const s=mr(this),i=s.store,n=new l1;s.store=n,_x(s,i,n)}read(r,s){$x(this,r,s)}write(r={},s){return Ix(this,r,s)}toJSON(r){return this.write({},r)}static fromJSON(r,s){return FC.call(this,r,s)}};return t=o([I("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function FC(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let X=class extends Wf(wt){};X=o([I("esri.core.JSONSupport")],X);const LC=Object.prototype.toString;function NC(e){const t="__accessorMetadata__"in e?ct(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return DC.apply(this,r)}}function DC(e,t,r,s){Md(e,t).cast=s}function zC(e){return function(t,r){Md(t,e).cast=t[r]}}function Tt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&LC.call(e[0])==="[object Function]"?NC(e[0]):e.length===1&&typeof e[0]=="string"?zC(e[0]):void 0}function ce(e,t,r){let s,i;return t===void 0||Array.isArray(t)?(i=e,r=t,s=[void 0]):(i=t,s=Array.isArray(e)?e:[e]),(n,a)=>{const u=n.constructor.prototype;s.forEach(d=>{const p=s1(n,d,i);p.read&&typeof p.read=="object"||(p.read={}),p.read.reader=u[a],r&&(p.read.source=(p.read.source||[]).concat(r))})}}function ye(e,t,r){let s,i;return t===void 0?(i=e,s=[void 0]):typeof t!="string"?(i=e,s=[void 0],r=t):(i=t,s=Array.isArray(e)?e:[e]),(n,a)=>{const u=n.constructor.prototype;for(const d of s){const p=s1(n,d,i);p.write&&typeof p.write=="object"||(p.write={}),r&&(p.write.target=r),p.write.writer=u[a]}}}var Nl;function VC(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,s="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>s)return Nl.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return Nl.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Nl||(Nl={}));var ma;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(ma||(ma={}));let l;const w={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(l=2e3;l<=2045;l++)w[l]=0;for(l=2056;l<=2065;l++)w[l]=0;for(l=2067;l<=2135;l++)w[l]=0;for(l=2137;l<=2154;l++)w[l]=0;for(l=2161;l<=2170;l++)w[l]=0;for(l=2172;l<=2193;l++)w[l]=0;for(l=2195;l<=2198;l++)w[l]=0;for(l=2200;l<=2203;l++)w[l]=0;for(l=2205;l<=2217;l++)w[l]=0;for(l=2222;l<=2224;l++)w[l]=1;for(l=2225;l<=2250;l++)w[l]=2;for(l=2251;l<=2253;l++)w[l]=1;for(l=2257;l<=2264;l++)w[l]=2;for(l=2274;l<=2279;l++)w[l]=2;for(l=2280;l<=2282;l++)w[l]=1;for(l=2283;l<=2289;l++)w[l]=2;for(l=2290;l<=2292;l++)w[l]=0;for(l=2308;l<=2313;l++)w[l]=0;for(l=2315;l<=2491;l++)w[l]=0;for(l=2494;l<=2866;l++)w[l]=0;for(l=2867;l<=2869;l++)w[l]=1;for(l=2870;l<=2888;l++)w[l]=2;for(l=2891;l<=2895;l++)w[l]=2;for(l=2896;l<=2898;l++)w[l]=1;for(l=2902;l<=2908;l++)w[l]=2;for(l=2915;l<=2920;l++)w[l]=2;for(l=2921;l<=2923;l++)w[l]=1;for(l=2924;l<=2930;l++)w[l]=2;for(l=2931;l<=2962;l++)w[l]=0;for(l=2964;l<=2968;l++)w[l]=2;for(l=2969;l<=2973;l++)w[l]=0;for(l=2975;l<=2991;l++)w[l]=0;for(l=2995;l<=3051;l++)w[l]=0;for(l=3054;l<=3079;l++)w[l]=0;for(l=3081;l<=3088;l++)w[l]=0;for(l=3092;l<=3101;l++)w[l]=0;for(l=3106;l<=3138;l++)w[l]=0;for(l=3146;l<=3151;l++)w[l]=0;for(l=3153;l<=3166;l++)w[l]=0;for(l=3168;l<=3172;l++)w[l]=0;for(l=3174;l<=3203;l++)w[l]=0;for(l=3294;l<=3358;l++)w[l]=0;for(l=3367;l<=3403;l++)w[l]=0;for(l=3408;l<=3416;l++)w[l]=0;for(l=3417;l<=3438;l++)w[l]=2;for(l=3441;l<=3446;l++)w[l]=2;for(l=3447;l<=3450;l++)w[l]=0;for(l=3451;l<=3459;l++)w[l]=2;for(l=3460;l<=3478;l++)w[l]=0;for(l=3554;l<=3559;l++)w[l]=0;for(l=3560;l<=3570;l++)w[l]=2;for(l=3571;l<=3581;l++)w[l]=0;for(l=3594;l<=3597;l++)w[l]=0;for(l=3601;l<=3604;l++)w[l]=0;for(l=3637;l<=3639;l++)w[l]=0;for(l=3665;l<=3667;l++)w[l]=0;for(l=3693;l<=3695;l++)w[l]=0;for(l=3701;l<=3727;l++)w[l]=0;for(l=3728;l<=3739;l++)w[l]=2;for(l=3740;l<=3751;l++)w[l]=0;for(l=3753;l<=3760;l++)w[l]=2;for(l=3761;l<=3773;l++)w[l]=0;for(l=3775;l<=3777;l++)w[l]=0;for(l=3779;l<=3781;l++)w[l]=0;for(l=3783;l<=3785;l++)w[l]=0;for(l=3788;l<=3791;l++)w[l]=0;for(l=3797;l<=3802;l++)w[l]=0;for(l=3814;l<=3816;l++)w[l]=0;for(l=3825;l<=3829;l++)w[l]=0;for(l=3832;l<=3841;l++)w[l]=0;for(l=3844;l<=3852;l++)w[l]=0;for(l=3873;l<=3885;l++)w[l]=0;for(l=3890;l<=3893;l++)w[l]=0;for(l=3907;l<=3912;l++)w[l]=0;for(l=3942;l<=3950;l++)w[l]=0;for(l=3968;l<=3970;l++)w[l]=0;for(l=3973;l<=3976;l++)w[l]=0;for(l=3986;l<=3989;l++)w[l]=0;for(l=3994;l<=3997;l++)w[l]=0;for(l=4048;l<=4051;l++)w[l]=0;for(l=4056;l<=4063;l++)w[l]=0;for(l=4093;l<=4096;l++)w[l]=0;for(l=4390;l<=4398;l++)w[l]=0;for(l=4399;l<=4413;l++)w[l]=2;for(l=4418;l<=4433;l++)w[l]=2;for(l=4455;l<=4457;l++)w[l]=2;for(l=4484;l<=4489;l++)w[l]=0;for(l=4491;l<=4554;l++)w[l]=0;for(l=4568;l<=4589;l++)w[l]=0;for(l=4652;l<=4656;l++)w[l]=0;for(l=4766;l<=4800;l++)w[l]=0;for(l=5014;l<=5016;l++)w[l]=0;for(l=5069;l<=5072;l++)w[l]=0;for(l=5105;l<=5130;l++)w[l]=0;for(l=5173;l<=5188;l++)w[l]=0;for(l=5253;l<=5259;l++)w[l]=0;for(l=5269;l<=5275;l++)w[l]=0;for(l=5292;l<=5311;l++)w[l]=0;for(l=5329;l<=5331;l++)w[l]=0;for(l=5343;l<=5349;l++)w[l]=0;for(l=5355;l<=5357;l++)w[l]=0;for(l=5387;l<=5389;l++)w[l]=0;for(l=5459;l<=5463;l++)w[l]=0;for(l=5479;l<=5482;l++)w[l]=0;for(l=5518;l<=5520;l++)w[l]=0;for(l=5530;l<=5539;l++)w[l]=0;for(l=5550;l<=5552;l++)w[l]=0;for(l=5562;l<=5583;l++)w[l]=0;for(l=5623;l<=5625;l++)w[l]=2;for(l=5631;l<=5639;l++)w[l]=0;for(l=5649;l<=5653;l++)w[l]=0;for(l=5663;l<=5680;l++)w[l]=0;for(l=5682;l<=5685;l++)w[l]=0;for(l=5875;l<=5877;l++)w[l]=0;for(l=5896;l<=5899;l++)w[l]=0;for(l=5921;l<=5940;l++)w[l]=0;for(l=6050;l<=6125;l++)w[l]=0;for(l=6244;l<=6275;l++)w[l]=0;for(l=6328;l<=6348;l++)w[l]=0;for(l=6350;l<=6356;l++)w[l]=0;for(l=6366;l<=6372;l++)w[l]=0;for(l=6381;l<=6387;l++)w[l]=0;for(l=6393;l<=6404;l++)w[l]=0;for(l=6480;l<=6483;l++)w[l]=0;for(l=6511;l<=6514;l++)w[l]=0;for(l=6579;l<=6581;l++)w[l]=0;for(l=6619;l<=6624;l++)w[l]=0;for(l=6625;l<=6627;l++)w[l]=2;for(l=6628;l<=6632;l++)w[l]=0;for(l=6634;l<=6637;l++)w[l]=0;for(l=6669;l<=6692;l++)w[l]=0;for(l=6707;l<=6709;l++)w[l]=0;for(l=6720;l<=6723;l++)w[l]=0;for(l=6732;l<=6738;l++)w[l]=0;for(l=6931;l<=6933;l++)w[l]=0;for(l=6956;l<=6959;l++)w[l]=0;for(l=7005;l<=7007;l++)w[l]=0;for(l=7057;l<=7070;l++)w[l]=2;for(l=7074;l<=7082;l++)w[l]=0;for(l=7109;l<=7118;l++)w[l]=0;for(l=7119;l<=7127;l++)w[l]=1;for(l=7374;l<=7376;l++)w[l]=0;for(l=7528;l<=7586;l++)w[l]=0;for(l=7587;l<=7645;l++)w[l]=2;for(l=7692;l<=7696;l++)w[l]=0;for(l=7755;l<=7787;l++)w[l]=0;for(l=7791;l<=7795;l++)w[l]=0;for(l=7799;l<=7801;l++)w[l]=0;for(l=7803;l<=7805;l++)w[l]=0;for(l=7825;l<=7831;l++)w[l]=0;for(l=7845;l<=7859;l++)w[l]=0;for(l=8013;l<=8032;l++)w[l]=0;for(l=8065;l<=8068;l++)w[l]=1;for(l=8518;l<=8529;l++)w[l]=2;for(l=8533;l<=8536;l++)w[l]=2;for(l=8538;l<=8540;l++)w[l]=2;for(l=8677;l<=8679;l++)w[l]=0;for(l=8836;l<=8840;l++)w[l]=0;for(l=8857;l<=8859;l++)w[l]=0;for(l=8908;l<=8910;l++)w[l]=0;for(l=9154;l<=9159;l++)w[l]=0;for(l=9205;l<=9218;l++)w[l]=0;for(l=9271;l<=9273;l++)w[l]=0;for(l=9295;l<=9297;l++)w[l]=0;for(l=9356;l<=9360;l++)w[l]=0;for(l=9404;l<=9407;l++)w[l]=0;for(l=9476;l<=9482;l++)w[l]=0;for(l=9487;l<=9494;l++)w[l]=0;for(l=9697;l<=9699;l++)w[l]=0;for(l=20002;l<=20032;l++)w[l]=0;for(l=20062;l<=20092;l++)w[l]=0;for(l=20135;l<=20138;l++)w[l]=0;for(l=20248;l<=20258;l++)w[l]=0;for(l=20348;l<=20358;l++)w[l]=0;for(l=20436;l<=20440;l++)w[l]=0;for(l=20822;l<=20824;l++)w[l]=0;for(l=20904;l<=20932;l++)w[l]=0;for(l=20934;l<=20936;l++)w[l]=0;for(l=21004;l<=21032;l++)w[l]=0;for(l=21035;l<=21037;l++)w[l]=0;for(l=21095;l<=21097;l++)w[l]=0;for(l=21148;l<=21150;l++)w[l]=0;for(l=21207;l<=21264;l++)w[l]=0;for(l=21307;l<=21364;l++)w[l]=0;for(l=21413;l<=21423;l++)w[l]=0;for(l=21453;l<=21463;l++)w[l]=0;for(l=21473;l<=21483;l++)w[l]=0;for(l=21780;l<=21782;l++)w[l]=0;for(l=21891;l<=21894;l++)w[l]=0;for(l=21896;l<=21899;l++)w[l]=0;for(l=22171;l<=22177;l++)w[l]=0;for(l=22181;l<=22187;l++)w[l]=0;for(l=22191;l<=22197;l++)w[l]=0;for(l=22234;l<=22236;l++)w[l]=0;for(l=22521;l<=22525;l++)w[l]=0;for(l=22991;l<=22994;l++)w[l]=0;for(l=23028;l<=23038;l++)w[l]=0;for(l=23830;l<=23853;l++)w[l]=0;for(l=23866;l<=23872;l++)w[l]=0;for(l=23877;l<=23884;l++)w[l]=0;for(l=23886;l<=23894;l++)w[l]=0;for(l=23946;l<=23948;l++)w[l]=0;for(l=24311;l<=24313;l++)w[l]=0;for(l=24342;l<=24347;l++)w[l]=0;for(l=24370;l<=24374;l++)w[l]=10;for(l=24375;l<=24381;l++)w[l]=0;for(l=24718;l<=24721;l++)w[l]=0;for(l=24817;l<=24821;l++)w[l]=0;for(l=24877;l<=24882;l++)w[l]=0;for(l=24891;l<=24893;l++)w[l]=0;for(l=25391;l<=25395;l++)w[l]=0;for(l=25828;l<=25838;l++)w[l]=0;for(l=26191;l<=26195;l++)w[l]=0;for(l=26391;l<=26393;l++)w[l]=0;for(l=26701;l<=26722;l++)w[l]=0;for(l=26729;l<=26799;l++)w[l]=2;for(l=26801;l<=26803;l++)w[l]=2;for(l=26811;l<=26813;l++)w[l]=2;for(l=26847;l<=26870;l++)w[l]=2;for(l=26891;l<=26899;l++)w[l]=0;for(l=26901;l<=26923;l++)w[l]=0;for(l=26929;l<=26946;l++)w[l]=0;for(l=26948;l<=26998;l++)w[l]=0;for(l=27037;l<=27040;l++)w[l]=0;for(l=27205;l<=27232;l++)w[l]=0;for(l=27258;l<=27260;l++)w[l]=0;for(l=27391;l<=27398;l++)w[l]=0;for(l=27561;l<=27564;l++)w[l]=0;for(l=27571;l<=27574;l++)w[l]=0;for(l=27581;l<=27584;l++)w[l]=0;for(l=27591;l<=27594;l++)w[l]=0;for(l=28191;l<=28193;l++)w[l]=0;for(l=28348;l<=28358;l++)w[l]=0;for(l=28402;l<=28432;l++)w[l]=0;for(l=28462;l<=28492;l++)w[l]=0;for(l=29118;l<=29122;l++)w[l]=0;for(l=29168;l<=29172;l++)w[l]=0;for(l=29177;l<=29185;l++)w[l]=0;for(l=29187;l<=29195;l++)w[l]=0;for(l=29900;l<=29903;l++)w[l]=0;for(l=30161;l<=30179;l++)w[l]=0;for(l=30491;l<=30494;l++)w[l]=0;for(l=30729;l<=30732;l++)w[l]=0;for(l=31251;l<=31259;l++)w[l]=0;for(l=31265;l<=31268;l++)w[l]=0;for(l=31275;l<=31279;l++)w[l]=0;for(l=31281;l<=31297;l++)w[l]=0;for(l=31461;l<=31469;l++)w[l]=0;for(l=31491;l<=31495;l++)w[l]=0;for(l=31917;l<=31922;l++)w[l]=0;for(l=31965;l<=32e3;l++)w[l]=0;for(l=32001;l<=32003;l++)w[l]=2;for(l=32005;l<=32031;l++)w[l]=2;for(l=32033;l<=32060;l++)w[l]=2;for(l=32064;l<=32067;l++)w[l]=2;for(l=32074;l<=32077;l++)w[l]=2;for(l=32081;l<=32086;l++)w[l]=0;for(l=32107;l<=32130;l++)w[l]=0;for(l=32133;l<=32158;l++)w[l]=0;for(l=32164;l<=32167;l++)w[l]=2;for(l=32180;l<=32199;l++)w[l]=0;for(l=32201;l<=32260;l++)w[l]=0;for(l=32301;l<=32360;l++)w[l]=0;for(l=32601;l<=32662;l++)w[l]=0;for(l=32664;l<=32667;l++)w[l]=2;for(l=32701;l<=32761;l++)w[l]=0;for(l=53001;l<=53004;l++)w[l]=0;for(l=53008;l<=53019;l++)w[l]=0;for(l=53021;l<=53032;l++)w[l]=0;for(l=53034;l<=53037;l++)w[l]=0;for(l=53042;l<=53046;l++)w[l]=0;for(l=53074;l<=53080;l++)w[l]=0;for(l=54001;l<=54004;l++)w[l]=0;for(l=54008;l<=54019;l++)w[l]=0;for(l=54021;l<=54032;l++)w[l]=0;for(l=54034;l<=54037;l++)w[l]=0;for(l=54042;l<=54046;l++)w[l]=0;for(l=54048;l<=54053;l++)w[l]=0;for(l=54074;l<=54080;l++)w[l]=0;for(l=54098;l<=54101;l++)w[l]=0;for(l=102001;l<=102040;l++)w[l]=0;for(l=102042;l<=102063;l++)w[l]=0;for(l=102065;l<=102067;l++)w[l]=0;for(l=102070;l<=102117;l++)w[l]=0;for(l=102122;l<=102216;l++)w[l]=0;for(l=102221;l<=102377;l++)w[l]=0;for(l=102382;l<=102388;l++)w[l]=0;for(l=102389;l<=102398;l++)w[l]=2;for(l=102399;l<=102444;l++)w[l]=0;for(l=102445;l<=102447;l++)w[l]=2;for(l=102448;l<=102458;l++)w[l]=0;for(l=102459;l<=102468;l++)w[l]=2;for(l=102469;l<=102499;l++)w[l]=0;for(l=102500;l<=102519;l++)w[l]=1;for(l=102520;l<=102524;l++)w[l]=0;for(l=102525;l<=102529;l++)w[l]=2;for(l=102530;l<=102588;l++)w[l]=0;for(l=102590;l<=102598;l++)w[l]=0;for(l=102601;l<=102603;l++)w[l]=0;for(l=102605;l<=102628;l++)w[l]=0;for(l=102629;l<=102646;l++)w[l]=2;for(l=102648;l<=102700;l++)w[l]=2;for(l=102701;l<=102703;l++)w[l]=0;for(l=102707;l<=102730;l++)w[l]=2;for(l=102733;l<=102758;l++)w[l]=2;for(l=102767;l<=102900;l++)w[l]=0;for(l=102901;l<=102933;l++)w[l]=2;for(l=102934;l<=102950;l++)w[l]=13;for(l=102951;l<=102960;l++)w[l]=0;for(l=102965;l<=102969;l++)w[l]=0;for(l=102971;l<=102973;l++)w[l]=0;for(l=102975;l<=102989;l++)w[l]=0;for(l=102990;l<=102992;l++)w[l]=1;for(l=102997;l<=103002;l++)w[l]=0;for(l=103003;l<=103008;l++)w[l]=2;for(l=103009;l<=103011;l++)w[l]=0;for(l=103012;l<=103014;l++)w[l]=2;for(l=103019;l<=103021;l++)w[l]=0;for(l=103022;l<=103024;l++)w[l]=2;for(l=103029;l<=103031;l++)w[l]=0;for(l=103032;l<=103034;l++)w[l]=2;for(l=103065;l<=103068;l++)w[l]=0;for(l=103074;l<=103076;l++)w[l]=0;for(l=103077;l<=103079;l++)w[l]=1;for(l=103080;l<=103082;l++)w[l]=0;for(l=103083;l<=103085;l++)w[l]=2;for(l=103090;l<=103093;l++)w[l]=0;for(l=103097;l<=103099;l++)w[l]=0;for(l=103100;l<=103102;l++)w[l]=2;for(l=103107;l<=103109;l++)w[l]=0;for(l=103110;l<=103112;l++)w[l]=2;for(l=103113;l<=103116;l++)w[l]=0;for(l=103117;l<=103120;l++)w[l]=2;for(l=103153;l<=103157;l++)w[l]=0;for(l=103158;l<=103162;l++)w[l]=2;for(l=103163;l<=103165;l++)w[l]=0;for(l=103166;l<=103168;l++)w[l]=1;for(l=103169;l<=103171;l++)w[l]=2;for(l=103186;l<=103188;l++)w[l]=0;for(l=103189;l<=103191;l++)w[l]=2;for(l=103192;l<=103195;l++)w[l]=0;for(l=103196;l<=103199;l++)w[l]=2;for(l=103200;l<=103224;l++)w[l]=0;for(l=103225;l<=103227;l++)w[l]=1;for(l=103232;l<=103237;l++)w[l]=0;for(l=103238;l<=103243;l++)w[l]=2;for(l=103244;l<=103246;l++)w[l]=0;for(l=103247;l<=103249;l++)w[l]=2;for(l=103254;l<=103256;l++)w[l]=0;for(l=103257;l<=103259;l++)w[l]=2;for(l=103264;l<=103266;l++)w[l]=0;for(l=103267;l<=103269;l++)w[l]=2;for(l=103300;l<=103375;l++)w[l]=0;for(l=103381;l<=103383;l++)w[l]=0;for(l=103384;l<=103386;l++)w[l]=1;for(l=103387;l<=103389;l++)w[l]=0;for(l=103390;l<=103392;l++)w[l]=2;for(l=103397;l<=103399;l++)w[l]=0;for(l=103400;l<=103471;l++)w[l]=2;for(l=103476;l<=103478;l++)w[l]=0;for(l=103479;l<=103481;l++)w[l]=2;for(l=103486;l<=103488;l++)w[l]=0;for(l=103489;l<=103491;l++)w[l]=2;for(l=103492;l<=103495;l++)w[l]=0;for(l=103496;l<=103499;l++)w[l]=2;for(l=103528;l<=103543;l++)w[l]=0;for(l=103544;l<=103548;l++)w[l]=2;for(l=103549;l<=103551;l++)w[l]=0;for(l=103552;l<=103554;l++)w[l]=1;for(l=103555;l<=103557;l++)w[l]=2;for(l=103558;l<=103560;l++)w[l]=0;for(l=103571;l<=103573;l++)w[l]=0;for(l=103574;l<=103576;l++)w[l]=2;for(l=103577;l<=103580;l++)w[l]=0;for(l=103581;l<=103583;l++)w[l]=2;for(l=103595;l<=103694;l++)w[l]=0;for(l=103696;l<=103699;l++)w[l]=0;for(l=103700;l<=103793;l++)w[l]=2;for(l=103794;l<=103872;l++)w[l]=0;for(l=103900;l<=103971;l++)w[l]=2;const UC={102113:!0,102100:!0,3857:!0,3785:!0},qC={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},s3='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',np=[-20037508342788905e-9,20037508342788905e-9],op=[-20037508342787e-6,20037508342787e-6],Ex={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:np,origin:op,dx:1e-5},102100:{wkTemplate:s3,valid:np,origin:op,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:np,origin:op,dx:1e-5},3857:{wkTemplate:s3,valid:np,origin:op,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Yl(e,t){return!we(e)&&!we(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||ga(e)&&ga(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function Mc(e){return Si(e)&&e.wkid?Ex[e.wkid]:null}function Ox(e){return!!Si(e)&&(e.wkid?w[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function BC(e){return!(Kf(e)||Qf(e))}function td(e){return Si(e)&&e.wkid===4326}function GC(e){return Si(e)&&e.wkid===ma.CGCS2000}function ga(e){return Si(e)&&e.wkid!=null&&UC[e.wkid]===!0}function HC(e){return Si(e)&&e.wkid===32662}function u1(e){return e===ma.GCSMARS2000||e===ma.GCSMARS2000_SPHERE}function Kf(e){return Si(e)&&e.wkid!=null&&u1(e.wkid)}function c1(e){return e===ma.GCSMOON2000}function Qf(e){return Si(e)&&e.wkid!=null&&c1(e.wkid)}function JC(e){return Si(e)&&e.wkid!=null&&qC[e.wkid]===!0}function Si(e){return q(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const kx={wkid:4326,wkt:_d(Ex[4326].wkTemplate,{Central_Meridian:"0.0"})},WC={wkid:102100,latestWkid:3857},KC={wkid:32662};var ti;let st=ti=class extends X{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return ti.WebMercator;if(e.wkid===4326)return ti.WGS84}const t=new ti;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return td(this)}get isWebMercator(){return ga(this)}get isGeographic(){return Ox(this)}get isWrappable(){return JC(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===ti.WGS84)return ti.WGS84;if(this===ti.WebMercator)return ti.WebMercator;const e=new ti;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=D(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||s?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return Yl(this,e)}toJSON(e){return this.write(void 0,e)}};st.GCS_NAD_1927=null,st.WGS84=null,st.WebMercator=null,st.PlateCarree=null,o([c({readOnly:!0})],st.prototype,"isWGS84",null),o([c({readOnly:!0})],st.prototype,"isWebMercator",null),o([c({readOnly:!0})],st.prototype,"isGeographic",null),o([c({readOnly:!0})],st.prototype,"isWrappable",null),o([c({type:zt,json:{write:!0}})],st.prototype,"latestWkid",void 0),o([c({type:zt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],st.prototype,"wkid",void 0),o([c({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],st.prototype,"wkt",void 0),o([ye("wkt"),ye("web-scene","wkt")],st.prototype,"writeWkt",null),o([c({type:zt,json:{write:!0}})],st.prototype,"vcsWkid",void 0),o([c({type:zt,json:{write:!0}})],st.prototype,"latestVcsWkid",void 0),o([c()],st.prototype,"imageCoordinateSystem",void 0),st=ti=o([I("esri.geometry.SpatialReference")],st),st.prototype.toJSON.isDefaultToJSON=!0,st.GCS_NAD_1927=new st({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),st.WGS84=new st(kx),st.WebMercator=new st(WC),st.PlateCarree=new st(KC),Object.freeze&&(Object.freeze(st.GCS_NAD_1927),Object.freeze(st.WGS84),Object.freeze(st.WebMercator));const ze=st;let ri=class extends X{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=ze.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof ze)return e;if(e!=null){const r=new ze;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};o([c()],ri.prototype,"type",void 0),o([c({readOnly:!0})],ri.prototype,"cache",null),o([c({readOnly:!0})],ri.prototype,"extent",null),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ri.prototype,"hasM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ri.prototype,"hasZ",void 0),o([c({type:ze,json:{write:!0}})],ri.prototype,"spatialReference",void 0),o([ce("spatialReference")],ri.prototype,"readSpatialReference",null),ri=o([I("esri.geometry.Geometry")],ri);const uo=ri;function QC(e,t,r,s){var i;return e.x=e.x+t,e.y=e.y+r,s!=null&&(e.z=((i=e.z)!=null?i:0)+s),e}function ZC(e,t){const r=e.x-t.x,s=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+s*s+i*i)}class d1{constructor(t,r,s,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=s;const n=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*n,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Zr=new d1(6378137,1/298.257223563,3e5,.006694379990137799),Td=new d1(3396190,1/169.8944472236118,23e4),jd=new d1(1737400,0,0),YC=57.29577951308232,XC=.017453292519943;function i3(e){return e*YC}function n3(e){return e*XC}function eA(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Zr.radius))}function cg(e){return e.wkid!=null||e.wkt!=null}const Zy=[0,0];function tf(e,t,r,s,i){const n=e,a=i;if(a.spatialReference=r,"x"in n&&"x"in a)[a.x,a.y]=t(n.x,n.y,Zy,s);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=t(n.xmin,n.ymin,Zy,s),[a.xmax,a.ymax]=t(n.xmax,n.ymax,Zy,s);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const u="paths"in n?n.paths:n.rings,d=[];let p;for(let f=0;f<u.length;f++){const y=u[f];p=[],d.push(p);for(let v=0;v<y.length;v++)p.push(t(y[v][0],y[v][1],[0,0],s)),y[v].length>2&&p[v].push(y[v][2]),y[v].length>3&&p[v].push(y[v][3])}"paths"in a?a.paths=d:a.rings=d}else if("points"in n&&"points"in a){const u=n.points,d=[];for(let p=0;p<u.length;p++)d[p]=t(u[p][0],u[p][1],[0,0],s),u[p].length>2&&d[p].push(u[p][2]),u[p].length>3&&d[p].push(u[p][3]);a.points=d}return i}function Ic(e,t){const r=e&&(cg(e)?e:e.spatialReference),s=t&&(cg(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!s)&&(!!Yl(s,r)||ga(s)&&td(r)||ga(r)&&td(s))}function p1(e,t){if(we(e))return null;const r=e.spatialReference,s=t&&(cg(t)?t:t.spatialReference);return Ic(r,s)?Yl(r,s)?D(e):ga(s)?tf(e,sa,ze.WebMercator,!1,D(e)):td(s)?tf(e,kl,ze.WGS84,!1,D(e)):null:null}function sa(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const s=n3(t);return r[0]=n3(e)*Zr.radius,r[1]=Zr.halfSemiMajorAxis*Math.log((1+Math.sin(s))/(1-Math.sin(s))),r}function kl(e,t,r=[0,0],s=!1){const i=i3(e/Zr.radius);return r[0]=s?i:i-360*Math.floor((i+180)/360),r[1]=i3(Math.PI/2-2*Math.atan(Math.exp(-t/Zr.radius))),r}function Ec(e,t=!1,r=D(e)){return tf(e,sa,ze.WebMercator,t,r)}function Ru(e,t=!1,r=D(e)){return tf(e,kl,ze.WGS84,t,r)}var Up;const wu=[0,0];function o3(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const ap=fe.getLogger("esri.geometry.Point");let wr=Up=class extends uo{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,s,i){let n;if(Array.isArray(e))n=e,i=t,e=n[0],t=n[1],r=n[2],s=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,r=n.z,s=n.m,(i=n.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new ze(i)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)ap.warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)ap.warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&i&&i.isWebMercator){const u=sa(n.longitude,n.latitude,wu);e=u[0],t=u[1]}}}else o3(r)?(i=r,r=null):o3(s)&&(i=s,s=null);const a={x:e,y:t};return a.x==null&&a.y!=null?ap.warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&ap.warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(a.spatialReference=i),r!=null&&(a.z=r),s!=null&&(a.m=s),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return kl(t,r,wu)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",sa(r,e,wu)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return kl(e,t,wu)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",sa(e,t,wu)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Up;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Up.copy(e,this),this}equals(e){if(we(e))return!1;const{x:t,y:r,z:s,m:i,spatialReference:n}=this,{z:a,m:u}=e;let{x:d,y:p,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[d,p]=sa(d,p),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[d,p]=kl(d,p),f=n}return t===d&&r===p&&s===a&&i===u&&n.wkid===f.wkid}offset(e,t,r){return QC(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=Mc(this.spatialReference);if(!e)return this;let t=this.x;const[r,s]=e.valid,i=2*s;let n;return t>s?(n=Math.ceil(Math.abs(t-s)/i),t-=n*i):t<r&&(n=Math.ceil(Math.abs(t-r)/i),t+=n*i),this._set("x",t),this}distance(e){return ZC(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],wr.prototype,"cache",null),o([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],wr.prototype,"hasM",null),o([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],wr.prototype,"hasZ",null),o([c({type:Number})],wr.prototype,"latitude",null),o([c({type:Number})],wr.prototype,"longitude",null),o([c({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Tt(e=>isNaN(e)?e:Od(e))],wr.prototype,"x",void 0),o([ye("x")],wr.prototype,"writeX",null),o([ce("x")],wr.prototype,"readX",null),o([c({type:Number,json:{write:!0}})],wr.prototype,"y",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wr.prototype,"z",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],wr.prototype,"m",void 0),wr=Up=o([I("esri.geometry.Point")],wr),wr.prototype.toJSON.isDefaultToJSON=!0;const ht=wr,Yy=[0,0];function h1(e,t){return!!q(t)&&$r(e,t.x,t.y,t.z)}function tA(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Dl(e,r))return!1;return!0}function rA(e,t){const{xmin:r,ymin:s,zmin:i,xmax:n,ymax:a,zmax:u}=t;return e.hasZ&&t.hasZ?$r(e,r,s,i)&&$r(e,r,a,i)&&$r(e,n,a,i)&&$r(e,n,s,i)&&$r(e,r,s,u)&&$r(e,r,a,u)&&$r(e,n,a,u)&&$r(e,n,s,u):$r(e,r,s)&&$r(e,r,a)&&$r(e,n,a)&&$r(e,n,s)}function Dl(e,t){return $r(e,t[0],t[1])}function sA(e,t){return $r(e,t[0],t[1],t[2])}function $r(e,t,r,s){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(s==null||!e.hasZ||s>=e.zmin&&s<=e.zmax)}function iA(e,t){return Yy[1]=t.y,Yy[0]=t.x,Tx(e,Yy)}function Tx(e,t){return nA(e.rings,t)}function nA(e,t){if(!e)return!1;if(oA(e))return a3(!1,e,t);let r=!1;for(let s=0,i=e.length;s<i;s++)r=a3(r,e[s],t);return r}function oA(e){return!Array.isArray(e[0][0])}function a3(e,t,r){const[s,i]=r;let n=e,a=0;for(let u=0,d=t.length;u<d;u++){a++,a===d&&(a=0);const[p,f]=t[u],[y,v]=t[a];(f<i&&v>=i||v<i&&f>=i)&&p+(i-f)/(v-f)*(y-p)<s&&(n=!n)}return n}function aA(e,t){return h1(e,t)}function jx(e,t){const r=e.hasZ&&t.hasZ;let s,i,n;if(e.xmin<=t.xmin){if(s=t.xmin,e.xmax<s)return!1}else if(s=e.xmin,t.xmax<s)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function lA(e,t){const{points:r,hasZ:s}=t,i=s?sA:Dl;for(const n of r)if(i(e,n))return!0;return!1}const va=[0,0],ba=[0,0],wa=[0,0],_a=[0,0],uA=[va,ba,wa,_a],Cx=[[wa,va],[va,ba],[ba,_a],[_a,wa]];function cA(e,t){va[0]=e.xmin,va[1]=e.ymax,ba[0]=e.xmax,ba[1]=e.ymax,wa[0]=e.xmin,wa[1]=e.ymin,_a[0]=e.xmax,_a[1]=e.ymin;for(const r of uA)if(Tx(t,r))return!0;for(const r of t.rings){if(!r.length)continue;let s=r[0];if(Dl(e,s))return!0;for(let i=1;i<r.length;i++){const n=r[i];if(Dl(e,n)||Ax(s,n,Cx))return!0;s=n}}return!1}function dA(e,t){va[0]=e.xmin,va[1]=e.ymax,ba[0]=e.xmax,ba[1]=e.ymax,wa[0]=e.xmin,wa[1]=e.ymin,_a[0]=e.xmax,_a[1]=e.ymin;const r=t.paths;for(const s of r){if(!r.length)continue;let i=s[0];if(Dl(e,i))return!0;for(let n=1;n<s.length;n++){const a=s[n];if(Dl(e,a)||Ax(i,a,Cx))return!0;i=a}}return!1}const Yt=[0,0];function pA(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const n=r[i],a=r[i+1];for(let u=t+1;u<e.length;u++)for(let d=0;d<e[u].length-1;d++){const p=e[u][d],f=e[u][d+1];if(rf(n,a,p,f,Yt)&&!(Yt[0]===n[0]&&Yt[1]===n[1]||Yt[0]===p[0]&&Yt[1]===p[1]||Yt[0]===a[0]&&Yt[1]===a[1]||Yt[0]===f[0]&&Yt[1]===f[1]))return!0}}const s=r.length;if(!(s<=4))for(let i=0;i<s-3;i++){let n=s-1;i===0&&(n=s-2);const a=r[i],u=r[i+1];for(let d=i+2;d<n;d++){const p=r[d],f=r[d+1];if(rf(a,u,p,f,Yt)&&!(Yt[0]===a[0]&&Yt[1]===a[1]||Yt[0]===p[0]&&Yt[1]===p[1]||Yt[0]===u[0]&&Yt[1]===u[1]||Yt[0]===f[0]&&Yt[1]===f[1]))return!0}}}return!1}function Ax(e,t,r){for(let s=0;s<r.length;s++)if(rf(e,t,r[s][0],r[s][1]))return!0;return!1}function rf(e,t,r,s,i){const[n,a]=e,[u,d]=t,[p,f]=r,[y,v]=s,b=y-p,$=n-p,k=u-n,E=v-f,P=a-f,Q=d-a,Z=E*k-b*Q;if(Z===0)return!1;const h=(b*P-E*$)/Z,g=(k*P-Q*$)/Z;return h>=0&&h<=1&&g>=0&&g<=1&&(i&&(i[0]=n+h*(u-n),i[1]=a+h*(d-a)),!0)}function Rx(e){switch(e){case"esriGeometryEnvelope":case"extent":return jx;case"esriGeometryMultipoint":case"multipoint":return lA;case"esriGeometryPoint":case"point":return aA;case"esriGeometryPolygon":case"polygon":return cA;case"esriGeometryPolyline":case"polyline":return dA}}var is;function hA(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function vn(e,t,r){return t==null?r:r==null?t:e(t,r)}let Jt=is=class extends uo{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,s,i){return hA(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?ze.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:s,spatialReference:i==null?ze.WGS84:i}}static fromBounds(e,t){return new is({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new is({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new ht({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new is;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Ic(t,r)&&(e=t.isWebMercator?Ec(e):Ru(e,!0)),e.type==="point"?h1(this,e):e.type==="extent"&&rA(this,e)}equals(e){if(this===e)return!0;if(we(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Ic(t,r)&&(e=t.isWebMercator?Ec(e):Ru(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,s=this.height*t;if(this.xmin+=r,this.ymin+=s,this.xmax-=r,this.ymax-=s,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(we(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Ic(t,r)&&(e=t.isWebMercator?Ec(e):Ru(e,!0)),Rx(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=vn(Math.min,this.zmin,e.zmin),this.zmax=vn(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=vn(Math.min,this.mmin,e.mmin),this.mmax=vn(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:we(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=vn(Math.max,this.zmin,e.zmin),this.zmax=vn(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=vn(Math.max,this.mmin,e.mmin),this.mmax=vn(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Mc(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const s=t.isWebMercator?Ru(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(s.x=this._normalizeX(s.x,e).x),this.spatialReference=new ze(_d(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:s.x}))}return this}_getCM(e){let t=null;const[r,s]=e.valid,i=this.xmin,n=this.xmax;return i>=r&&i<=s&&n>=r&&n<=s||(t=this.center),t}_normalize(e,t,r){const s=this.spatialReference;if(!s)return this;if(!(r=r||Mc(s)))return this;const i=this._getParts(r).map(u=>u.extent);if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;let n=!0,a=!0;return i.forEach(u=>{u.hasZ||(n=!1),u.hasM||(a=!1)}),{rings:i.map(u=>{const d=[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]];if(n){const p=(u.zmax-u.zmin)/2;for(let f=0;f<d.length;f++)d[f].push(p)}if(a){const p=(u.mmax-u.mmin)/2;for(let f=0;f<d.length;f++)d[f].push(p)}return d}),hasZ:n,hasM:a,spatialReference:s}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:n,spatialReference:a}=this,u=this.width,d=this.xmin,p=this.xmax;let f;e=e||Mc(a);const[y,v]=e.valid;f=this._normalizeX(this.xmin,e);const b=f.x,$=f.frameId;f=this._normalizeX(this.xmax,e);const k=f.x,E=f.frameId,P=b===k&&u>0;if(u>2*v){const Q=new is(d<p?b:k,i,v,n,a),Z=new is(y,i,d<p?k:b,n,a),h=new is(0,i,v,n,a),g=new is(y,i,0,n,a),m=[],_=[];Q.contains(h)&&m.push($),Q.contains(g)&&_.push($),Z.contains(h)&&m.push(E),Z.contains(g)&&_.push(E);for(let x=$+1;x<E;x++)m.push(x),_.push(x);t.push({extent:Q,frameIds:[$]},{extent:Z,frameIds:[E]},{extent:h,frameIds:m},{extent:g,frameIds:_})}else b>k||P?t.push({extent:new is(b,i,v,n,a),frameIds:[$]},{extent:new is(y,i,k,n,a),frameIds:[E]}):t.push({extent:new is(b,i,k,n,a),frameIds:[$]});this.cache._parts=t}const r=this.hasZ,s=this.hasM;if(r||s){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),s&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(i)}return t}_normalizeX(e,t){const[r,s]=t.valid,i=2*s;let n,a=0;return e>s?(n=Math.ceil(Math.abs(e-s)/i),e-=n*i,a=n):e<r&&(n=Math.ceil(Math.abs(e-r)/i),e+=n*i,a=-n),{x:e,frameId:a}}};o([c({readOnly:!0})],Jt.prototype,"cache",null),o([c({readOnly:!0})],Jt.prototype,"center",null),o([c({readOnly:!0})],Jt.prototype,"extent",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Jt.prototype,"hasM",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Jt.prototype,"hasZ",null),o([c({readOnly:!0})],Jt.prototype,"height",null),o([c({readOnly:!0})],Jt.prototype,"width",null),o([c({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Jt.prototype,"xmin",void 0),o([c({type:Number,json:{write:!0}})],Jt.prototype,"ymin",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Jt.prototype,"mmin",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Jt.prototype,"zmin",void 0),o([c({type:Number,json:{write:!0}})],Jt.prototype,"xmax",void 0),o([c({type:Number,json:{write:!0}})],Jt.prototype,"ymax",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Jt.prototype,"mmax",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Jt.prototype,"zmax",void 0),Jt=is=o([I("esri.geometry.Extent")],Jt),Jt.prototype.toJSON.isDefaultToJSON=!0;const jt=Jt;function zl(e,t,r=!1){let{hasM:s,hasZ:i}=e;Array.isArray(t)?t.length!==4||s||i?t.length===3&&r&&!s?(i=!0,s=!1):t.length===3&&s&&i&&(s=!1,i=!1):(s=!0,i=!0):(i=!i&&t.hasZ&&(!s||t.hasM),s=!s&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=s}var dg;function l3(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function fA(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let _n=dg=class extends uo{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):fA(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const s=r.points&&r.points[0];return s&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=s.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=s.length>3:r.hasM===void 0&&(r.hasM=s.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new jt,r=this.hasZ,s=this.hasM,i=r?3:2,n=e[0],a=l3(Math.min),u=l3(Math.max);let d,p,f,y,[v,b]=n,[$,k]=n;for(let E=0,P=e.length;E<P;E++){const Q=e[E],[Z,h]=Q;if(v=a(v,Z),b=a(b,h),$=u($,Z),k=u(k,h),r&&Q.length>2){const g=Q[2];d=a(d,g),f=u(f,g)}if(s&&Q.length>i){const g=Q[i];p=a(p,g),y=u(y,g)}}return t.xmin=v,t.ymin=b,t.xmax=$,t.ymax=k,t.spatialReference=this.spatialReference,r?(t.zmin=d,t.zmax=f):(t.zmin=null,t.zmax=null),s?(t.mmin=p,t.mmax=y):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=D(this.points)}addPoint(e){return zl(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:D(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new dg(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=t[2],s=3),this.hasM&&(r.m=t[s]),new ht(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new ht(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(zl(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};o([c({readOnly:!0})],_n.prototype,"cache",null),o([c()],_n.prototype,"extent",null),o([c({type:[[Number]],json:{write:{isRequired:!0}}})],_n.prototype,"points",void 0),o([ye("points")],_n.prototype,"writePoints",null),_n=dg=o([I("esri.geometry.Multipoint")],_n),_n.prototype.toJSON.isDefaultToJSON=!0;const Zf=_n;function yA(e,t){const r=t[0]-e[0],s=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+s*s+i*i)}return Math.sqrt(r*r+s*s)}function mA(e,t,r){const s=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[s,i,e[2]+r*(t[2]-e[2])]:[s,i]}function gA(e,t){return mA(e,t,.5)}function Px(e,t,r){const s=e.length;let i=0,n=0,a=0;for(let u=0;u<s;u++){const d=e[u],p=e[(u+1)%s];let f=2;i+=d[0]*p[1]-p[0]*d[1],d.length>2&&p.length>2&&r&&(n+=d[0]*p[2]-p[0]*d[2],f=3),d.length>f&&p.length>f&&t&&(a+=d[0]*p[f]-p[0]*d[f])}return i<=0&&n<=0&&a<=0}function vA(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Fx(e){return e?bA(e.rings,e.hasZ):null}function bA(e,t){if(!e||!e.length)return null;const r=[],s=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=e.length;n<a;n++){const u=wA(e[n],t,i);u&&s.push(u)}if(s.sort((n,a)=>{let u=n[2]-a[2];return u===0&&t&&(u=n[4]-a[4]),u}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?_A(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function wA(e,t,r){let s=0,i=0,n=0,a=0,u=0;const d=e.length?e[0][0]:0,p=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let v=0;v<e.length;v++){const b=e[v],$=e[(v+1)%e.length],[k,E,P]=b,Q=k-d,Z=E-p,h=t?P-f:void 0,[g,m,_]=$,x=g-d,T=m-p,S=t?_-f:void 0,C=Q*T-x*Z;if(a+=C,s+=(Q+x)*C,i+=(Z+T)*C,t&&b.length>2&&$.length>2){const J=Q*S-x*h;n+=(h+S)*J,u+=J}k<r[0]&&(r[0]=k),k>r[1]&&(r[1]=k),E<r[2]&&(r[2]=E),E>r[3]&&(r[3]=E),t&&(P<r[4]&&(r[4]=P),P>r[5]&&(r[5]=P))}if(a>0&&(a*=-1),u>0&&(u*=-1),!a)return null;a*=.5,u*=.5;const y=[s/(6*a)+d,i/(6*a)+p,a];return t&&(r[4]===r[5]||u===0?(y[3]=(r[4]+r[5])/2,y[4]=0):(y[3]=n/(6*u)+f,y[4]=u)),y}function _A(e,t){const r=t?[0,0,0]:[0,0],s=t?[0,0,0]:[0,0];let i=0,n=0,a=0,u=0;for(let d=0,p=e.length;d<p-1;d++){const f=e[d],y=e[d+1];if(f&&y){r[0]=f[0],r[1]=f[1],s[0]=y[0],s[1]=y[1],t&&f.length>2&&y.length>2&&(r[2]=f[2],s[2]=y[2]);const v=yA(r,s);if(v){i+=v;const b=gA(f,y);n+=v*b[0],a+=v*b[1],t&&b.length>2&&(u+=v*b[2])}}}return i>0?t?[n/i,a/i,u/i]:[n/i,a/i]:e.length?e[0]:null}function Lx(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Nx(e){return e.points!==void 0}function Dx(e){return e.x!==void 0&&e.y!==void 0}function zx(e){return e.paths!==void 0}function Vx(e){return e.rings!==void 0}function Ux(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}const Hn=Ux(Math.min),Jn=Ux(Math.max);function SA(e,t){return zx(t)?Vl(e,t.paths,!1,!1):Vx(t)?Vl(e,t.rings,!1,!1):Nx(t)?f1(e,t.points,!1,!1,!1,!1):Lx(t)?qx(e,t):(Dx(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function $A(e,t){return zx(t)?Vl(e,t.paths,!0,!1):Vx(t)?Vl(e,t.rings,!0,!1):Nx(t)?f1(e,t.points,!0,!1,!0,!1):Lx(t)?qx(e,t,!0,!1,!0,!1):(Dx(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Vl(e,t,r,s){const i=r?3:2;if(!t.length||!t[0].length)return null;let n,a,u,d,[p,f]=t[0][0],[y,v]=t[0][0];for(let b=0;b<t.length;b++){const $=t[b];for(let k=0;k<$.length;k++){const E=$[k],[P,Q]=E;if(p=Hn(p,P),f=Hn(f,Q),y=Jn(y,P),v=Jn(v,Q),r&&E.length>2){const Z=E[2];n=Hn(n,Z),a=Jn(a,Z)}if(s&&E.length>i){const Z=E[i];u=Hn(n,Z),d=Jn(a,Z)}}}return r?s?(e[0]=p,e[1]=f,e[2]=n,e[3]=u,e[4]=y,e[5]=v,e[6]=a,e[7]=d,e.length=8,e):(e[0]=p,e[1]=f,e[2]=n,e[3]=y,e[4]=v,e[5]=a,e.length=6,e):s?(e[0]=p,e[1]=f,e[2]=u,e[3]=y,e[4]=v,e[5]=d,e.length=6,e):(e[0]=p,e[1]=f,e[2]=y,e[3]=v,e.length=4,e)}function qx(e,t,r,s,i,n){const a=t.xmin,u=t.xmax,d=t.ymin,p=t.ymax;let f=t.zmin,y=t.zmax,v=t.mmin,b=t.mmax;return i?(f=f||0,y=y||0,n?(v=v||0,b=b||0,e[0]=a,e[1]=d,e[2]=f,e[3]=v,e[4]=u,e[5]=p,e[6]=y,e[7]=b,e):(e[0]=a,e[1]=d,e[2]=f,e[3]=u,e[4]=p,e[5]=y,e)):n?(v=v||0,b=b||0,e[0]=a,e[1]=d,e[2]=v,e[3]=u,e[4]=p,e[5]=b,e):(e[0]=a,e[1]=d,e[2]=u,e[3]=p,e)}function f1(e,t,r,s,i,n){const a=r?3:2,u=s&&n,d=r&&i;if(!t.length||!t[0].length)return null;let p,f,y,v,[b,$]=t[0],[k,E]=t[0];for(let P=0;P<t.length;P++){const Q=t[P],[Z,h]=Q;if(b=Hn(b,Z),$=Hn($,h),k=Jn(k,Z),E=Jn(E,h),d&&Q.length>2){const g=Q[2];p=Hn(p,g),f=Jn(f,g)}if(u&&Q.length>a){const g=Q[a];y=Hn(p,g),v=Jn(f,g)}}return i?(p=p||0,f=f||0,n?(y=y||0,v=v||0,e[0]=b,e[1]=$,e[2]=p,e[3]=y,e[4]=k,e[5]=E,e[6]=f,e[7]=v,e):(e[0]=b,e[1]=$,e[2]=p,e[3]=k,e[4]=E,e[5]=f,e)):n?(y=y||0,v=v||0,e[0]=b,e[1]=$,e[2]=y,e[3]=k,e[4]=E,e[5]=v,e):(e[0]=b,e[1]=$,e[2]=k,e[3]=E,e)}function xA(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function MA(e){return e.points!==void 0}function IA(e){return e.x!==void 0&&e.y!==void 0}function EA(e){return e.paths!==void 0}function OA(e){return e.rings!==void 0}const y1=[];function Bx(e,t,r,s){return{xmin:e,ymin:t,xmax:r,ymax:s}}function Gx(e,t,r,s,i,n){return{xmin:e,ymin:t,zmin:r,xmax:s,ymax:i,zmax:n}}function Hx(e,t,r,s,i,n){return{xmin:e,ymin:t,mmin:r,xmax:s,ymax:i,mmax:n}}function Jx(e,t,r,s,i,n,a,u){return{xmin:e,ymin:t,zmin:r,mmin:s,xmax:i,ymax:n,zmax:a,mmax:u}}function m1(e,t=!1,r=!1){return t?r?Jx(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):Gx(e[0],e[1],e[2],e[3],e[4],e[5]):r?Hx(e[0],e[1],e[2],e[3],e[4],e[5]):Bx(e[0],e[1],e[2],e[3])}function kA(e){return e?xA(e)?e:IA(e)?jA(e):OA(e)?g1(e):EA(e)?Wx(e):MA(e)?TA(e):null:null}function TA(e){const{hasZ:t,hasM:r,points:s}=e;return m1(f1(y1,s,t,r),t,r)}function jA(e){const{x:t,y:r,z:s,m:i}=e,n=i!=null;return s!=null?n?Jx(t,r,s,i,t,r,s,i):Gx(t,r,s,t,r,s):n?Hx(t,r,i,t,r,i):Bx(t,r,t,r)}function g1(e){const{hasZ:t,hasM:r,rings:s}=e,i=Vl(y1,s,t,r);return i?m1(i,t,r):null}function Wx(e){const{hasZ:t,hasM:r,paths:s}=e,i=Vl(y1,s,t,r);return i?m1(i,t,r):null}var qp;function u3(e){return!Array.isArray(e[0])}let si=qp=class extends uo{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let s=!1,i=!1;for(const a of t)a.hasZ&&(s=!0),a.hasM&&(i=!0);const n={rings:t.map(function(a){const u=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const d=a.zmin+.5*(a.zmax-a.zmin);for(let p=0;p<u.length;p++)u[p].push(d)}if(i&&a.hasM){const d=a.mmin+.5*(a.mmax-a.mmin);for(let p=0;p<u.length;p++)u[p].push(d)}return u}),spatialReference:r};return s&&(n.hasZ=!0),i&&(n.hasM=!0),new qp(n)}normalizeCtorArgs(e,t){let r,s,i=null,n=null;return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,s=e.hasM):i=e,i=i||[],t=t||ze.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),n=i[0]&&i[0][0],n&&(r===void 0&&s===void 0?(r=n.length>2,s=n.length>3):r===void 0?r=s?n.length>3:n.length>2:s===void 0&&(s=r?n.length>3:n.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Fx(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new ht;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=g1(this);if(!t)return null;const r=new jt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return pA(this.rings)}writeRings(e,t){t.rings=D(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(u3(e)){const s=[];for(let i=0,n=e.length;i<n;i++)s[i]=e[i].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new qp;return e.spatialReference=this.spatialReference,e.rings=D(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(we(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(q(t)!==q(r)||q(t)&&q(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const s=([i,n,a,u],[d,p,f,y])=>i===d&&n===p&&(a==null&&f==null||a===f)&&(u==null&&y==null||u===y);for(let i=0;i<this.rings.length;i++){const n=this.rings[i],a=e.rings[i];if(!Wb(n,a,s))return!1}return!0}contains(e){if(!e)return!1;const t=p1(e,this.spatialReference);return iA(this,q(t)?t:e)}isClockwise(e){let t;return t=u3(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,Px(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],s=this.hasZ,i=this.hasM;return s&&!i?new ht(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new ht(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new ht(r[0],r[1],r[2],r[3],this.spatialReference):new ht(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(zl(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ht(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,s=t.map(i=>new ht(i,r));return this.notifyChange("rings"),s}setPoint(e,t,r){return this._validateInputs(e,t)?(zl(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const s=this.rings[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],si.prototype,"cache",null),o([c({readOnly:!0})],si.prototype,"centroid",null),o([c({readOnly:!0})],si.prototype,"extent",null),o([c({readOnly:!0})],si.prototype,"isSelfIntersecting",null),o([c({type:[[[Number]]],json:{write:{isRequired:!0}}})],si.prototype,"rings",void 0),o([ye("rings")],si.prototype,"writeRings",null),si=qp=o([I("esri.geometry.Polygon")],si),si.prototype.toJSON.isDefaultToJSON=!0;const Ma=si;var pg;function CA(e){return!Array.isArray(e[0])}let Sn=pg=class extends uo{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,s,i=null,n=null;return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,s=e.hasM):i=e,i=i||[],t=t||ze.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),n=i[0]&&i[0][0],n&&(r===void 0&&s===void 0?(r=n.length>2,s=!1):r===void 0?r=!s&&n.length>3:s===void 0&&(s=!r&&n.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Wx(this);if(!t)return null;const r=new jt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=D(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(CA(e)){const s=[];for(let i=0,n=e.length;i<n;i++)s[i]=e[i].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new pg;return e.spatialReference=this.spatialReference,e.paths=D(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],s=this.hasZ,i=this.hasM;return s&&!i?new ht(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new ht(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new ht(r[0],r[1],r[2],r[3],this.spatialReference):new ht(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(zl(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,s=t.map(i=>new ht(i,r));return this.notifyChange("paths"),s}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ht(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(zl(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const s=this.paths[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],Sn.prototype,"cache",null),o([c({readOnly:!0})],Sn.prototype,"extent",null),o([c({type:[[[Number]]],json:{write:{isRequired:!0}}})],Sn.prototype,"paths",void 0),o([ye("paths")],Sn.prototype,"writePaths",null),Sn=pg=o([I("esri.geometry.Polyline")],Sn),Sn.prototype.toJSON.isDefaultToJSON=!0;const Xl=Sn;class Te{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=s=>this.fromJSON(s),this.write=(s,i,n)=>{const a=this.toJSON(s);a!==void 0&&Lr(n,a,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const r=this.apiToJSON[t];return this.options.useNumericKeys?+r:r}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const s in t)r[t[s]]=s;return r}_getKeysSorted(t){const r=[];for(const s in t)r.push(s);return r.sort(),r}}function rr(){return function(e,t){return new Te(e,z({ignoreUnknown:!0},t))}}const Kx=rr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),hg=rr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function v1(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function b1(e){return e.points!==void 0}function w1(e){return e.x!==void 0&&e.y!==void 0}function _1(e){return e.paths!==void 0}function Tl(e){return e.rings!==void 0}function Yr(e){return we(e)?null:e instanceof uo?e:w1(e)?ht.fromJSON(e):_1(e)?Xl.fromJSON(e):Tl(e)?Ma.fromJSON(e):b1(e)?Zf.fromJSON(e):v1(e)?jt.fromJSON(e):null}function no(e){return e?w1(e)?"esriGeometryPoint":_1(e)?"esriGeometryPolyline":Tl(e)?"esriGeometryPolygon":v1(e)?"esriGeometryEnvelope":b1(e)?"esriGeometryMultipoint":null:null}const AA={esriGeometryPoint:ht,esriGeometryPolyline:Xl,esriGeometryPolygon:Ma,esriGeometryEnvelope:jt,esriGeometryMultipoint:Zf};function Qx(e){return e&&AA[e]||null}const Ia={base:uo,key:"type",typeMap:{extent:jt,multipoint:Zf,point:ht,polyline:Xl,polygon:Ma}};wi(Ia);let Xy;function oo(){return Xy||(Xy=(async()=>{const e=await import("./arcadeUtils.20042625.js").then(function(t){return t.aA});return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Xy}const RA=(e,t,r)=>eu.create(e,t,r,null,["$feature"]),PA=(e,t,r)=>eu.create(e,t,r,null,["$feature","$view"]),FA=(e,t,r,s)=>eu.create(e,t,r,s,["$feature","$view"]);class eu{constructor(t,r,s,i,n,a,u,d){this.script=t,this.evaluate=n;const p=Array.isArray(u)?u:u.fields;this.fields=p,this._syntaxTree=i,this._arcade=r,this._arcadeDictionary=s,this._arcadeFeature=a,this._spatialReference=d,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,s,i,n,a){const{arcade:u,Feature:d,Dictionary:p}=await oo(),f=ze.fromJSON(r),y=u.parseScript(t,a),v=n.reduce((g,m)=>Oe(z({},g),{[m]:null}),{});let b=null;q(i)&&(b=new p(i),b.immutable=!0,v.$config=null);const $=u.scriptUsesGeometryEngine(y)&&u.enableGeometrySupport(),k=u.scriptUsesFeatureSet(y)&&u.enableFeatureSetSupport(),E=u.scriptIsAsync(y)&&u.enableAsyncSupport(),P={vars:v,spatialReference:f,useAsync:!!E},Q=new p;Q.immutable=!1,Q.setField("scale",0);const Z=u.compileScript(y,P),h=g=>("$view"in g&&g.$view&&(Q.setField("scale",g.$view.scale),g.$view=Q),b&&(g.$config=b),Z({vars:g,spatialReference:f}));return await Promise.all([$,k,E]),new eu(t,u,p,y,h,new d,s,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const LA=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],NA=["field","normalizationField"];function fg(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(c3(LA,r,t),"visualVariables"in r&&r.visualVariables)for(const s of r.visualVariables)c3(NA,s,t)}}function c3(e,t,r){if(e)for(const s of e){const i=wd(s,t),n=i&&typeof i!="function"&&r.get(i);n&&Lr(s,n.name,t)}}function S1(e,t){if(e!=null&&t!=null&&t.fields.length)if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=r&&r.name||null,e.endField=s&&s.name||null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=s&&s.name||null}}const em=new Set;function DA(e,t){return e&&t?(em.clear(),$1(em,e,t),Array.from(em).sort()):[]}function $1(e,t,r){var s;if(r)if(t!=null&&(s=t.fields)!=null&&s.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)Bs(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)e.add(i)}}function Bs(e,t,r){if(typeof r=="string")if(t){const s=t.get(r);s&&e.add(s.name)}else e.add(r)}async function cn(e,t,r){var s;if(!r)return;const{arcadeUtils:i}=await oo(),n=i.extractFieldNames(r,t==null||(s=t.fields)==null?void 0:s.map(a=>a.name));for(const a of n)Bs(e,t,a)}async function zA(e,t,r){if(r&&r!=="1=1"){const s=(await import("./WhereClause.3590f431.js")).WhereClause.create(r,t);if(!s.isStandardized)throw new H("fieldUtils:collectFilterFields","Where clause is not standardized");$1(e,t,s.fieldNames)}}function VA({displayField:e,fields:t}){return e||(t&&t.length?tm(t,"name-or-title")||tm(t,"unique-identifier")||tm(t,"type-or-category")||UA(t):null)}function UA(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}function tm(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function qA(e,t){const{labelingInfo:r,fieldsIndex:s}=t;r&&r.length&&await Promise.all(r.map(i=>BA(e,s,i)))}async function BA(e,t,r){if(!r)return;const s=r.getLabelExpression(),i=r.where;if(s.type==="arcade")await cn(e,t,s.expression);else{const n=s.expression.match(/{[^}]*}/g);n&&n.forEach(a=>{Bs(e,t,a.slice(1,-1))})}await zA(e,t,i)}function Zx(e){const t=e.defaultValue;return t!==void 0&&eM(e,t)?t:e.nullable?null:void 0}function Yx(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function GA(e){return e===null||Yx(e)}const x1="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function HA(e){return e===null||x1(e)}function Xx(e){return e!=null&&typeof e=="string"}function JA(e){return e===null||Xx(e)}function WA(){return!0}function eM(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?HA:x1;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?GA:Yx;break;case"string":case"esriFieldTypeString":r=e.nullable?JA:Xx;break;default:r=WA}return arguments.length===1?r:r(t)}const KA=["integer","small-integer","single","double"],QA=new Set([...KA,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function M1(e){return e!=null&&QA.has(e.type)}function ZA(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var sf,nf;function YA(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function XA(e,t){return e.nullable&&t===null?null:M1(e)&&!e9(e.type,Number(t))?sf.OUT_OF_RANGE:eM(e,t)?e.domain?VC(e.domain,t):null:nf.INVALID_TYPE}function e9(e,t){const r=typeof e=="string"?tM(e):e;return!!r&&(r.isInteger?x1(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}function tM(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return t9;case"esriFieldTypeInteger":case"integer":return r9;case"esriFieldTypeSingle":case"single":return s9;case"esriFieldTypeDouble":case"double":return i9}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(sf||(sf={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(nf||(nf={}));const t9={min:-32768,max:32767,isInteger:!0},r9={min:-2147483648,max:2147483647,isInteger:!0},s9={min:-34e37,max:12e37,isInteger:!1},i9={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function n9(e,t,r){switch(e){case Nl.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Nl.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case nf.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case sf.OUT_OF_RANGE:{const{min:s,max:i}=tM(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${s} to ${i}`}}}let Bp=class extends X{constructor(e){super(e),this.type=null}};o([c({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],Bp.prototype,"type",void 0),Bp=o([I("esri.popup.content.Content")],Bp);const Ea=Bp;var yg;let So=yg=class extends Ea{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new yg({description:this.description,displayType:this.displayType,title:this.title})}};o([c({type:String,json:{write:!0}})],So.prototype,"description",void 0),o([c({type:["auto","preview","list"],json:{write:!0}})],So.prototype,"displayType",void 0),o([c({type:String,json:{write:!0}})],So.prototype,"title",void 0),o([c({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],So.prototype,"type",void 0),So=yg=o([I("esri.popup.content.AttachmentsContent")],So);const rd=So;var mg;let $o=mg=class extends Ea{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new mg({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?D(this.outFields):null})}};o([c()],$o.prototype,"creator",void 0),o([c()],$o.prototype,"destroyer",void 0),o([c()],$o.prototype,"outFields",void 0),o([c({type:["custom"],readOnly:!0})],$o.prototype,"type",void 0),$o=mg=o([I("esri.popup.content.CustomContent")],$o);const o9=$o;var gg;let Ha=gg=class extends X{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new gg({title:this.title,expression:this.expression})}};o([c({type:String,json:{write:!0}})],Ha.prototype,"title",void 0),o([c({type:String,json:{write:!0}})],Ha.prototype,"expression",void 0),o([c({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Ha.prototype,"returnType",void 0),Ha=gg=o([I("esri.popup.ElementExpressionInfo")],Ha);const a9=Ha;var vg;let Pu=vg=class extends Ea{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new vg({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};o([c({type:a9,json:{write:!0}})],Pu.prototype,"expressionInfo",void 0),o([c({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Pu.prototype,"type",void 0),Pu=vg=o([I("esri.popup.content.ExpressionContent")],Pu);const I1=Pu;function $e(e,t={}){var r;const s=e instanceof Te?e:new Te(e,t),i={type:(r=t==null?void 0:t.ignoreUnknown)==null||r?s.apiValues:String,json:{type:s.jsonValues,read:(t==null||!t.readOnly)&&{reader:s.read},write:{writer:s.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(i.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(i.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(i.json.name=t.name),c(i)}const sd=rr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});sd.toJSON.bind(sd);sd.fromJSON.bind(sd);var d3,p3,h3;let l9,Oc;const f3=(d3=(p3=globalThis.esriConfig)==null?void 0:p3.locale)!=null?d3:(h3=globalThis.dojoConfig)==null?void 0:h3.locale;function rM(){var e,t;return(e=f3!=null?f3:(t=globalThis.navigator)==null?void 0:t.language)!=null?e:"en"}function Gs(){return Oc===void 0&&(Oc=rM()),Oc}const kc=[];function sM(e){return kc.push(e),{remove(){kc.splice(kc.indexOf(e),1)}}}const bg=[];function E1(e){return bg.push(e),{remove(){kc.splice(bg.indexOf(e),1)}}}function u9(){var e;const t=(e=l9)!=null?e:rM();Oc!==t&&(Oc=t,[...bg].forEach(r=>{r.call(null,t)}),[...kc].forEach(r=>{r.call(null,t)}))}globalThis.addEventListener==null||globalThis.addEventListener("languagechange",u9);const Xs={year:"numeric",month:"numeric",day:"numeric"},_u={year:"numeric",month:"long",day:"numeric"},Su={year:"numeric",month:"short",day:"numeric"},$u={year:"numeric",month:"long",weekday:"long",day:"numeric"},ns={hour:"numeric",minute:"numeric"},_s=Oe(z({},ns),{second:"numeric"}),O1={"short-date":Xs,"short-date-short-time":z(z({},Xs),ns),"short-date-short-time-24":Oe(z(z({},Xs),ns),{hour12:!1}),"short-date-long-time":z(z({},Xs),_s),"short-date-long-time-24":Oe(z(z({},Xs),_s),{hour12:!1}),"short-date-le":Xs,"short-date-le-short-time":z(z({},Xs),ns),"short-date-le-short-time-24":Oe(z(z({},Xs),ns),{hour12:!1}),"short-date-le-long-time":z(z({},Xs),_s),"short-date-le-long-time-24":Oe(z(z({},Xs),_s),{hour12:!1}),"long-month-day-year":_u,"long-month-day-year-short-time":z(z({},_u),ns),"long-month-day-year-short-time-24":Oe(z(z({},_u),ns),{hour12:!1}),"long-month-day-year-long-time":z(z({},_u),_s),"long-month-day-year-long-time-24":Oe(z(z({},_u),_s),{hour12:!1}),"day-short-month-year":Su,"day-short-month-year-short-time":z(z({},Su),ns),"day-short-month-year-short-time-24":Oe(z(z({},Su),ns),{hour12:!1}),"day-short-month-year-long-time":z(z({},Su),_s),"day-short-month-year-long-time-24":Oe(z(z({},Su),_s),{hour12:!1}),"long-date":$u,"long-date-short-time":z(z({},$u),ns),"long-date-short-time-24":Oe(z(z({},$u),ns),{hour12:!1}),"long-date-long-time":z(z({},$u),_s),"long-date-long-time-24":Oe(z(z({},$u),_s),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ns,"long-time":_s},id=rr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});id.apiValues;id.toJSON.bind(id);id.fromJSON.bind(id);const c9={ar:"ar-u-nu-latn-ca-gregory"};let Gp=new WeakMap,iM=O1["short-date-short-time"];function d9(e){const t=e||iM;if(!Gp.has(t)){const r=Gs(),s=c9[Gs()]||r;Gp.set(t,new Intl.DateTimeFormat(s,t))}return Gp.get(t)}function nM(e){return O1[e]||null}function Sa(e,t){return d9(t).format(e)}E1(()=>{Gp=new WeakMap,iM=O1["short-date-short-time"]});const p9={ar:"ar-u-nu-latn"};let Hp=new WeakMap,oM={};function h9(e){const t=e||oM;if(!Hp.has(t)){const r=Gs(),s=p9[Gs()]||r;Hp.set(t,new Intl.NumberFormat(s,e))}return Hp.get(t)}function f9(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Ul(e,t){return h9(t).format(e)}E1(()=>{Hp=new WeakMap,oM={}});var wg;let xo=wg=class extends X{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new wg({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?Sa(e,z(z({},nM(this.dateFormat)),this.dateTimeFormatOptions)):Ul(e,f9(this))}};o([$e(sd)],xo.prototype,"dateFormat",void 0),o([c({type:Object,json:{read:!1}})],xo.prototype,"dateTimeFormatOptions",void 0),o([c({type:Boolean,json:{write:!0}})],xo.prototype,"digitSeparator",void 0),o([c({type:zt,json:{write:!0}})],xo.prototype,"places",void 0),xo=wg=o([I("esri.popup.support.FieldInfoFormat")],xo);const Jp=xo;var _g;let $s=_g=class extends X{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new _g({fieldName:this.fieldName,format:this.format?D(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};o([c({type:String,json:{write:!0}})],$s.prototype,"fieldName",void 0),o([c({type:Jp,json:{write:!0}})],$s.prototype,"format",void 0),o([c({type:Boolean,json:{write:!0,default:!1}})],$s.prototype,"isEditable",void 0),o([c({type:String,json:{write:!0}})],$s.prototype,"label",void 0),o([$e(new Te({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],$s.prototype,"stringFieldOption",void 0),o([c({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],$s.prototype,"statisticType",void 0),o([c({type:String,json:{write:!0}})],$s.prototype,"tooltip",void 0),o([c({type:Boolean,json:{write:!0}})],$s.prototype,"visible",void 0),$s=_g=o([I("esri.popup.FieldInfo")],$s);const k1=$s;var Sg;let ji=Sg=class extends Ea{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new Sg(D({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};o([c({type:Object,json:{write:!0}})],ji.prototype,"attributes",void 0),o([c({type:String,json:{write:!0}})],ji.prototype,"description",void 0),o([c({type:[k1]})],ji.prototype,"fieldInfos",void 0),o([ye("fieldInfos")],ji.prototype,"writeFieldInfos",null),o([c({type:String,json:{write:!0}})],ji.prototype,"title",void 0),o([c({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],ji.prototype,"type",void 0),ji=Sg=o([I("esri.popup.content.FieldsContent")],ji);const nd=ji;let Mo=class extends X{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};o([c({type:String,json:{write:!0}})],Mo.prototype,"altText",void 0),o([c({type:String,json:{write:!0}})],Mo.prototype,"caption",void 0),o([c({type:String,json:{write:!0}})],Mo.prototype,"title",void 0),o([c({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Mo.prototype,"type",void 0),Mo=o([I("esri.popup.content.mixins.MediaInfo")],Mo);const T1=Mo;var $g;let Fu=$g=class extends wt{constructor(e){super(e),this.tooltip=null,this.value=null}clone(){return new $g({tooltip:this.tooltip,value:this.value})}};o([c()],Fu.prototype,"tooltip",void 0),o([c()],Fu.prototype,"value",void 0),Fu=$g=o([I("esri.popup.content.support.ChartMediaInfoValueSeries")],Fu);const y9=Fu;var xg;let Io=xg=class extends X{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new xg({fields:D(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};o([c({type:[String],json:{write:!0}})],Io.prototype,"fields",void 0),o([c({type:String,json:{write:!0}})],Io.prototype,"normalizeField",void 0),o([c({type:[y9],json:{read:!1}})],Io.prototype,"series",void 0),o([c({type:String,json:{write:!0}})],Io.prototype,"tooltipField",void 0),Io=xg=o([I("esri.popup.content.support.ChartMediaInfoValue")],Io);const m9=Io;let Lu=class extends T1{constructor(e){super(e),this.type=null,this.value=null}};o([c({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Lu.prototype,"type",void 0),o([c({type:m9,json:{write:!0}})],Lu.prototype,"value",void 0),Lu=o([I("esri.popup.content.mixins.ChartMediaInfo")],Lu);const Yf=Lu,Xf=rr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Mg;let Wp=Mg=class extends Yf{constructor(e){super(e),this.type="bar-chart"}clone(){return new Mg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:Xf.write}})],Wp.prototype,"type",void 0),Wp=Mg=o([I("esri.popup.content.BarChartMediaInfo")],Wp);const aM=Wp;var Ig;let Kp=Ig=class extends Yf{constructor(e){super(e),this.type="column-chart"}clone(){return new Ig({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:Xf.write}})],Kp.prototype,"type",void 0),Kp=Ig=o([I("esri.popup.content.ColumnChartMediaInfo")],Kp);const lM=Kp;var Eg;let Nu=Eg=class extends X{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new Eg({linkURL:this.linkURL,sourceURL:this.sourceURL})}};o([c({type:String,json:{write:!0}})],Nu.prototype,"linkURL",void 0),o([c({type:String,json:{write:!0}})],Nu.prototype,"sourceURL",void 0),Nu=Eg=o([I("esri.popup.content.support.ImageMediaInfoValue")],Nu);const g9=Nu;var Og;let Ja=Og=class extends T1{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new Og({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};o([c({type:Number,json:{write:!0}})],Ja.prototype,"refreshInterval",void 0),o([c({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Ja.prototype,"type",void 0),o([c({type:g9,json:{write:!0}})],Ja.prototype,"value",void 0),Ja=Og=o([I("esri.popup.content.ImageMediaInfo")],Ja);const uM=Ja;var kg;let Qp=kg=class extends Yf{constructor(e){super(e),this.type="line-chart"}clone(){return new kg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:Xf.write}})],Qp.prototype,"type",void 0),Qp=kg=o([I("esri.popup.content.LineChartMediaInfo")],Qp);const cM=Qp;var Tg;let Zp=Tg=class extends Yf{constructor(e){super(e),this.type="pie-chart"}clone(){return new Tg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:Xf.write}})],Zp.prototype,"type",void 0),Zp=Tg=o([I("esri.popup.content.PieChartMediaInfo")],Zp);const dM=Zp,pM={base:T1,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":aM,"column-chart":lM,"line-chart":cM,"pie-chart":dM,image:uM}};var jg;let xs=jg=class extends Ea{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?uM.fromJSON(t):t.type==="barchart"?aM.fromJSON(t):t.type==="columnchart"?lM.fromJSON(t):t.type==="linechart"?cM.fromJSON(t):t.type==="piechart"?dM.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new jg(D({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};o([c()],xs.prototype,"activeMediaInfoIndex",void 0),o([c({type:Object,json:{write:!0}})],xs.prototype,"attributes",void 0),o([c({type:String,json:{write:!0}})],xs.prototype,"description",void 0),o([c({types:[pM]})],xs.prototype,"mediaInfos",void 0),o([ce("mediaInfos")],xs.prototype,"readMediaInfos",null),o([ye("mediaInfos")],xs.prototype,"writeMediaInfos",null),o([c({type:String,json:{write:!0}})],xs.prototype,"title",void 0),o([c({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],xs.prototype,"type",void 0),xs=jg=o([I("esri.popup.content.MediaContent")],xs);const of=xs;var Cg;let Du=Cg=class extends Ea{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Cg({text:this.text})}};o([c({type:String,json:{write:!0}})],Du.prototype,"text",void 0),o([c({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Du.prototype,"type",void 0),Du=Cg=o([I("esri.popup.content.TextContent")],Du);const af=Du,v9={base:null,key:"type",typeMap:{attachment:rd,media:of,text:af,expression:I1,field:nd}};var Ag;let Eo=Ag=class extends X{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Ag({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};o([c({type:String,json:{write:!0}})],Eo.prototype,"name",void 0),o([c({type:String,json:{write:!0}})],Eo.prototype,"title",void 0),o([c({type:String,json:{write:!0}})],Eo.prototype,"expression",void 0),o([c({type:["string","number"],json:{write:!0}})],Eo.prototype,"returnType",void 0),Eo=Ag=o([I("esri.popup.ExpressionInfo")],Eo);const hM=Eo;var Rg;let zu=Rg=class extends X{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Rg({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};o([c({type:Boolean,json:{write:!0}})],zu.prototype,"returnTopmostRaster",void 0),o([c({type:Boolean,json:{write:!0}})],zu.prototype,"showNoDataRecords",void 0),zu=Rg=o([I("esri.popup.LayerOptions")],zu);const b9=zu;var Pg;let Vu=Pg=class extends X{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Pg({field:this.field,order:this.order})}};o([c({type:String,json:{write:!0}})],Vu.prototype,"field",void 0),o([c({type:["asc","desc"],json:{write:!0}})],Vu.prototype,"order",void 0),Vu=Pg=o([I("esri.popup.support.RelatedRecordsInfoFieldOrder")],Vu);const fM=Vu;var Fg;let Uu=Fg=class extends X{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Fg({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?D(this.orderByFields):null})}};o([c({type:Boolean,json:{write:!0}})],Uu.prototype,"showRelatedRecords",void 0),o([c({type:[fM],json:{write:!0}})],Uu.prototype,"orderByFields",void 0),Uu=Fg=o([I("esri.popup.RelatedRecordsInfo")],Uu);const w9=Uu;let _9=0;const Cd=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+_9++})}};return t=o([I("esri.core.Identifiable")],t),t};let y3=class extends Cd(class{}){};y3=o([I("esri.core.Identifiable")],y3);var Lg;let Ms=Lg=class extends Cd(wt){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Lg({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};o([c()],Ms.prototype,"active",void 0),o([c()],Ms.prototype,"className",void 0),o([c()],Ms.prototype,"disabled",void 0),o([c()],Ms.prototype,"id",void 0),o([c()],Ms.prototype,"indicator",void 0),o([c()],Ms.prototype,"title",void 0),o([c()],Ms.prototype,"type",void 0),o([c()],Ms.prototype,"visible",void 0),Ms=Lg=o([I("esri.support.actions.ActionBase")],Ms);const j1=Ms;var Ng;let Yp=Ng=class extends j1{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Ng({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};o([c()],Yp.prototype,"image",void 0),Yp=Ng=o([I("esri.support.Action.ActionButton")],Yp);const S9=Yp;var Dg;let qu=Dg=class extends j1{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new Dg({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};o([c()],qu.prototype,"image",void 0),o([c()],qu.prototype,"value",void 0),qu=Dg=o([I("esri.support.Action.ActionToggle")],qu);const $9=qu;var zg;const x9=gt.ofType({key:"type",defaultKeyValue:"button",base:j1,typeMap:{button:S9,toggle:$9}}),M9={base:Ea,key:"type",typeMap:{media:of,custom:o9,text:af,attachments:rd,fields:nd,expression:I1}},yM="esri.PopupTemplate",I9=fe.getLogger(yM),E9=["attachments","fields","media","text","expression"];let Ut=zg=class extends X{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>wi(M9,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Zl(e)?e:(I9.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,s){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(i=>E9.indexOf(i.type)!==-1).map(i=>i&&i.toJSON(s)),t.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(t):i.type==="media"?this._writeMediaContent(i,t):i.type==="text"&&this._writeTextContent(i,t)})):t.description=e}writeFieldInfos(e,t,r,s){const{content:i}=this,n=Array.isArray(i)?i:null;if(e){const a=n?n.filter(d=>d.type==="fields"):[],u=a.length&&a.every(d=>{var p;return(p=d.fieldInfos)==null?void 0:p.length});t.fieldInfos=e.filter(Boolean).map(d=>{const p=d.toJSON(s);return u&&(p.visible=!1),p})}if(n)for(const a of n)a.type==="fields"&&this._writeFieldsContent(a,t)}writeLayerOptions(e,t,r,s){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?D(e.toArray()):[];return new zg({actions:t,content:Array.isArray(this.content)?D(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?D(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?D(this.fieldInfos):null,layerOptions:this.layerOptions?D(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?D(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?D(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),$1(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=D(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(s=>{const i=t.fieldInfos.find(n=>n.fieldName.toLowerCase()===s.fieldName.toLowerCase());i?i.visible=!0:t.fieldInfos.push(s)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=D(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const s={description:!1,mediaInfos:!1};return r.map(i=>i.type==="media"?(i.mediaInfos||!t||s.mediaInfos||(i.mediaInfos=t,s.mediaInfos=!0),of.fromJSON(i)):i.type==="text"?(i.text||!e||s.description||(i.text=e,s.description=!0),af.fromJSON(i)):i.type==="attachments"?rd.fromJSON(i):i.type==="fields"?nd.fromJSON(i):i.type==="expression"?I1.fromJSON(i):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const s=[];return e?s.push(new af({text:e})):s.push(new nd),Array.isArray(t)&&t.length&&s.push(of.fromJSON({mediaInfos:t})),r&&s.push(rd.fromJSON({displayType:"auto"})),s.length?s:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((s,i)=>[...s,...this._getMediaInfoFields(i)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:s}=e,i=s||{},{fields:n=[],normalizeField:a,tooltipField:u,sourceURL:d,linkURL:p}=i,f=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(d),...this._extractFieldNames(p),...n];return a&&f.push(a),u&&f.push(u),f}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(s=>cn(e,t,s.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>t.indexOf("relationships/")===-1&&t.indexOf("expression/")===-1):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:s}=e,i=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const s=/\{(\w+):.+\}/,i=r.filter(n=>!(n.indexOf("{relationships/")===0||n.indexOf("{expression/")===0)).map(n=>n.replace(s,"{$1}"));return i?i.map(n=>n.slice(1,-1)):[]}};o([c({type:x9})],Ut.prototype,"actions",void 0),o([c()],Ut.prototype,"content",void 0),o([Tt("content")],Ut.prototype,"castContent",null),o([ce("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Ut.prototype,"readContent",null),o([ye("content",{popupElements:{type:gt.ofType(v9)},showAttachments:{type:Boolean},mediaInfos:{type:gt.ofType(pM)},description:{type:String}})],Ut.prototype,"writeContent",null),o([c({type:[hM],json:{write:!0}})],Ut.prototype,"expressionInfos",void 0),o([c({type:[k1]})],Ut.prototype,"fieldInfos",void 0),o([ye("fieldInfos")],Ut.prototype,"writeFieldInfos",null),o([c({type:b9})],Ut.prototype,"layerOptions",void 0),o([ye("layerOptions")],Ut.prototype,"writeLayerOptions",null),o([c({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ut.prototype,"lastEditInfoEnabled",void 0),o([c()],Ut.prototype,"outFields",void 0),o([c()],Ut.prototype,"overwriteActions",void 0),o([c()],Ut.prototype,"returnGeometry",void 0),o([c({json:{type:String}})],Ut.prototype,"title",void 0),o([ye("title")],Ut.prototype,"writeTitle",null),o([c({type:w9,json:{write:!0}})],Ut.prototype,"relatedRecordsInfo",void 0),Ut=zg=o([I(yM)],Ut);const Oa=Ut,lf={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function mM(e){return lf[e]||lf[e.toLowerCase()]}function C1(e){var t;return(t=lf[e])!=null?t:lf[e.toLowerCase()]}function O9(e){return[...C1(e)]}function rm(e,t,r){r<0&&++r,r>1&&--r;const s=6*r;return s<1?e+(t-e)*s:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function gM(e,t,r,s=1){const i=(e%360+360)%360/360,n=r<=.5?r*(t+1):r+t-r*t,a=2*r-n;return[Math.round(255*rm(a,n,i+1/3)),Math.round(255*rm(a,n,i)),Math.round(255*rm(a,n,i-1/3)),s]}function k9(e){const t=e.length>5,r=t?8:4,s=(1<<r)-1,i=t?1:17,n=t?e.length===9:e.length===5;let a=Number("0x"+e.substr(1));if(isNaN(a))return null;const u=[0,0,0,1];let d;return n&&(d=a&s,a>>=r,u[3]=i*d/255),d=a&s,a>>=r,u[2]=i*d,d=a&s,a>>=r,u[1]=i*d,d=a&s,a>>=r,u[0]=i*d,u}function ka(){return[0,0,0]}function vM(e){return[e[0],e[1],e[2]]}function Ta(e,t,r){return[e,t,r]}function bM(e){const t=ka(),r=Math.min(3,e.length);for(let s=0;s<r;++s)t[s]=e[s];return t}function wM(e,t){return new Float64Array(e,t,3)}function _M(){return ka()}function SM(){return Ta(1,1,1)}function $M(){return Ta(1,0,0)}function xM(){return Ta(0,1,0)}function MM(){return Ta(0,0,1)}const IM=_M(),EM=SM(),T9=$M(),j9=xM(),C9=MM();Object.freeze({__proto__:null,create:ka,clone:vM,fromValues:Ta,fromArray:bM,createView:wM,zeros:_M,ones:SM,unitX:$M,unitY:xM,unitZ:MM,ZEROS:IM,ONES:EM,UNIT_X:T9,UNIT_Y:j9,UNIT_Z:C9});const Ze=1e-6,Wn=Math.random,A9=Math.PI/180,R9=180/Math.PI;function P9(e){return e*A9}function F9(e){return e*R9}function L9(e,t){return Math.abs(e-t)<=Ze*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze({__proto__:null,EPSILON:Ze,RANDOM:Wn,toRadian:P9,toDegree:F9,equals:L9});function ey(e){const t=e[0],r=e[1],s=e[2];return Math.sqrt(t*t+r*r+s*s)}function uf(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function A1(e,t,r,s){return e[0]=t,e[1]=r,e[2]=s,e}function OM(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function R1(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function kM(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function P1(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function N9(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function D9(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function z9(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function V9(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function U9(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function TM(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function q9(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e}function F1(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+s*s+i*i)}function L1(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return r*r+s*s+i*i}function N1(e){const t=e[0],r=e[1],s=e[2];return t*t+r*r+s*s}function B9(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function G9(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function cf(e,t){const r=t[0],s=t[1],i=t[2];let n=r*r+s*s+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}function D1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jM(e,t,r){const s=t[0],i=t[1],n=t[2],a=r[0],u=r[1],d=r[2];return e[0]=i*d-n*u,e[1]=n*a-s*d,e[2]=s*u-i*a,e}function CM(e,t,r,s){const i=t[0],n=t[1],a=t[2];return e[0]=i+s*(r[0]-i),e[1]=n+s*(r[1]-n),e[2]=a+s*(r[2]-a),e}function H9(e,t,r,s,i,n){const a=n*n,u=a*(2*n-3)+1,d=a*(n-2)+n,p=a*(n-1),f=a*(3-2*n);return e[0]=t[0]*u+r[0]*d+s[0]*p+i[0]*f,e[1]=t[1]*u+r[1]*d+s[1]*p+i[1]*f,e[2]=t[2]*u+r[2]*d+s[2]*p+i[2]*f,e}function J9(e,t,r,s,i,n){const a=1-n,u=a*a,d=n*n,p=u*a,f=3*n*u,y=3*d*a,v=d*n;return e[0]=t[0]*p+r[0]*f+s[0]*y+i[0]*v,e[1]=t[1]*p+r[1]*f+s[1]*y+i[1]*v,e[2]=t[2]*p+r[2]*f+s[2]*y+i[2]*v,e}function W9(e,t){t=t||1;const r=2*Wn()*Math.PI,s=2*Wn()-1,i=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=s*t,e}function AM(e,t,r){const s=t[0],i=t[1],n=t[2];return e[0]=r[0]*s+r[4]*i+r[8]*n+r[12],e[1]=r[1]*s+r[5]*i+r[9]*n+r[13],e[2]=r[2]*s+r[6]*i+r[10]*n+r[14],e}function RM(e,t,r){const s=t[0],i=t[1],n=t[2];return e[0]=s*r[0]+i*r[3]+n*r[6],e[1]=s*r[1]+i*r[4]+n*r[7],e[2]=s*r[2]+i*r[5]+n*r[8],e}function PM(e,t,r){const s=r[0],i=r[1],n=r[2],a=r[3],u=t[0],d=t[1],p=t[2];let f=i*p-n*d,y=n*u-s*p,v=s*d-i*u,b=i*v-n*y,$=n*f-s*v,k=s*y-i*f;const E=2*a;return f*=E,y*=E,v*=E,b*=2,$*=2,k*=2,e[0]=u+f+b,e[1]=d+y+$,e[2]=p+v+k,e}function K9(e,t,r,s){const i=[],n=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],n[0]=i[0],n[1]=i[1]*Math.cos(s)-i[2]*Math.sin(s),n[2]=i[1]*Math.sin(s)+i[2]*Math.cos(s),e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e}function Q9(e,t,r,s){const i=[],n=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],n[0]=i[2]*Math.sin(s)+i[0]*Math.cos(s),n[1]=i[1],n[2]=i[2]*Math.cos(s)-i[0]*Math.sin(s),e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e}function Z9(e,t,r,s){const i=[],n=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],n[0]=i[0]*Math.cos(s)-i[1]*Math.sin(s),n[1]=i[0]*Math.sin(s)+i[1]*Math.cos(s),n[2]=i[2],e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e}function Y9(e,t){uf(lp,e),uf(up,t),cf(lp,lp),cf(up,up);const r=D1(lp,up);return r>1?0:r<-1?Math.PI:Math.acos(r)}const lp=ka(),up=ka();function X9(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function FM(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function eR(e,t){if(e===t)return!0;const r=e[0],s=e[1],i=e[2],n=t[0],a=t[1],u=t[2];return Math.abs(r-n)<=Ze*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(s-a)<=Ze*Math.max(1,Math.abs(s),Math.abs(a))&&Math.abs(i-u)<=Ze*Math.max(1,Math.abs(i),Math.abs(u))}function LM(e,t,r){const s=r[0]-t[0],i=r[1]-t[1],n=r[2]-t[2];let a=s*s+i*i+n*n;return a>0?(a=1/Math.sqrt(a),e[0]=s*a,e[1]=i*a,e[2]=n*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const tR=R1,rR=kM,sR=P1,iR=F1,nR=L1,NM=ey,oR=N1;Object.freeze({__proto__:null,length:ey,copy:uf,set:A1,add:OM,subtract:R1,multiply:kM,divide:P1,ceil:N9,floor:D9,min:z9,max:V9,round:U9,scale:TM,scaleAndAdd:q9,distance:F1,squaredDistance:L1,squaredLength:N1,negate:B9,inverse:G9,normalize:cf,dot:D1,cross:jM,lerp:CM,hermite:H9,bezier:J9,random:W9,transformMat4:AM,transformMat3:RM,transformQuat:PM,rotateX:K9,rotateY:Q9,rotateZ:Z9,angle:Y9,str:X9,exactEquals:FM,equals:eR,direction:LM,sub:tR,mul:rR,div:sR,dist:iR,sqrDist:nR,len:NM,sqrLen:oR});function DM(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function zM(e,t,r,s,i){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e}function VM(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function UM(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function qM(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function BM(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function aR(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function lR(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function uR(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function cR(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function dR(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function GM(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function pR(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e[3]=t[3]+r[3]*s,e}function HM(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2],n=t[3]-e[3];return Math.sqrt(r*r+s*s+i*i+n*n)}function JM(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2],n=t[3]-e[3];return r*r+s*s+i*i+n*n}function z1(e){const t=e[0],r=e[1],s=e[2],i=e[3];return Math.sqrt(t*t+r*r+s*s+i*i)}function V1(e){const t=e[0],r=e[1],s=e[2],i=e[3];return t*t+r*r+s*s+i*i}function hR(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function fR(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function WM(e,t){const r=t[0],s=t[1],i=t[2],n=t[3];let a=r*r+s*s+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=s*a,e[2]=i*a,e[3]=n*a),e}function KM(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function QM(e,t,r,s){const i=t[0],n=t[1],a=t[2],u=t[3];return e[0]=i+s*(r[0]-i),e[1]=n+s*(r[1]-n),e[2]=a+s*(r[2]-a),e[3]=u+s*(r[3]-u),e}function yR(e,t){let r,s,i,n,a,u;t=t||1;do r=2*Wn()-1,s=2*Wn()-1,a=r*r+s*s;while(a>=1);do i=2*Wn()-1,n=2*Wn()-1,u=i*i+n*n;while(u>=1);const d=Math.sqrt((1-a)/u);return e[0]=t*r,e[1]=t*s,e[2]=t*i*d,e[3]=t*n*d,e}function mR(e,t,r){const s=t[0],i=t[1],n=t[2],a=t[3];return e[0]=r[0]*s+r[4]*i+r[8]*n+r[12]*a,e[1]=r[1]*s+r[5]*i+r[9]*n+r[13]*a,e[2]=r[2]*s+r[6]*i+r[10]*n+r[14]*a,e[3]=r[3]*s+r[7]*i+r[11]*n+r[15]*a,e}function gR(e,t,r){const s=t[0],i=t[1],n=t[2],a=r[0],u=r[1],d=r[2],p=r[3],f=p*s+u*n-d*i,y=p*i+d*s-a*n,v=p*n+a*i-u*s,b=-a*s-u*i-d*n;return e[0]=f*p+b*-a+y*-d-v*-u,e[1]=y*p+b*-u+v*-a-f*-d,e[2]=v*p+b*-d+f*-u-y*-a,e[3]=t[3],e}function vR(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function ZM(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function YM(e,t){const r=e[0],s=e[1],i=e[2],n=e[3],a=t[0],u=t[1],d=t[2],p=t[3];return Math.abs(r-a)<=Ze*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-u)<=Ze*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(i-d)<=Ze*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(n-p)<=Ze*Math.max(1,Math.abs(n),Math.abs(p))}const bR=UM,wR=qM,_R=BM,SR=HM,$R=JM,xR=z1,MR=V1;Object.freeze({__proto__:null,copy:DM,set:zM,add:VM,subtract:UM,multiply:qM,divide:BM,ceil:aR,floor:lR,min:uR,max:cR,round:dR,scale:GM,scaleAndAdd:pR,distance:HM,squaredDistance:JM,length:z1,squaredLength:V1,negate:hR,inverse:fR,normalize:WM,dot:KM,lerp:QM,random:yR,transformMat4:mR,transformQuat:gR,str:vR,exactEquals:ZM,equals:YM,sub:bR,mul:wR,div:_R,dist:SR,sqrDist:$R,len:xR,sqrLen:MR});const m3=new Float32Array(1);function IR(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Ad(e,t,r){return Math.min(Math.max(e,t),r)}function ER(e){return(e&e-1)==0}function OR(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function kR(e,t,r){return e+(t-e)*r}function TR(e){return e*Math.PI/180}function jR(e){return 180*e/Math.PI}function CR(e){return Math.acos(Ad(e,-1,1))}function XM(e){return Math.asin(Ad(e,-1,1))}function AR(e){return e5(Math.max(-g3,Math.min(e,g3)))}function e5(e){return m3[0]=e,m3[0]}function RR(e,t){const r=ey(e),s=XM(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return A1(t,r,s,i),t}const g3=e5(34028234663852886e22);function cp(e){return Ad(Gf(e),0,255)}function dp(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class Dt{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,s,i=new Dt){return i.r=Math.round(t.r+(r.r-t.r)*s),i.g=Math.round(t.g+(r.g-t.g)*s),i.b=Math.round(t.b+(r.b-t.b)*s),i.a=t.a+(r.a-t.a)*s,i._sanitize()}static fromRgb(t,r){const s=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(s){const i=s[2].split(/\s*,\s*/),n=s[1];if(n==="rgb"&&i.length===3||n==="rgba"&&i.length===4){const a=i[0];if(a.charAt(a.length-1)==="%"){const u=i.map(d=>2.56*parseFloat(d));return i.length===4&&(u[3]=parseFloat(i[3])),Dt.fromArray(u,r)}return Dt.fromArray(i.map(u=>parseFloat(u)),r)}if(n==="hsl"&&i.length===3||n==="hsla"&&i.length===4)return Dt.fromArray(gM(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new Dt){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const s=t.length===4?4:8,i=(1<<s)-1;let n=Number("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach(a=>{const u=n&i;n>>=s,r[a]=s===4?17*u:u}),r.a=1,r)}static fromArray(t,r=new Dt){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const s=mM(t)?C1(t):null;return s&&Dt.fromArray(s,r)||Dt.fromRgb(t,r)||Dt.fromHex(t,r)}static fromJSON(t){return t&&new Dt([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return q(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return q(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if(typeof t=="string")Dt.fromString(t,this);else if(Array.isArray(t))Dt.fromArray(t,this);else{var r,s,i,n;this._set((r=t.r)!=null?r:0,(s=t.g)!=null?s:0,(i=t.b)!=null?i:0,(n=t.a)!=null?n:1),t instanceof Dt||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),s=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${s.length<2?"0"+s:s}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Dt.AlphaMode.ALWAYS){const r=cp(this.r),s=cp(this.g),i=cp(this.b);return t===Dt.AlphaMode.ALWAYS||this.a!==1?[r,s,i,cp(255*this.a)]:[r,s,i]}clone(){return new Dt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return q(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(dp(this.r,0,255)),this.g=Math.round(dp(this.g,0,255)),this.b=Math.round(dp(this.b,0,255)),this.a=dp(this.a,0,1),this}_set(t,r,s,i){this.r=t,this.g=r,this.b=s,this.a=i}}Dt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Dt||(Dt={}));const Ge=Dt,v3=new Te({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let PR=0,Wa=class extends X{constructor(e){super(e),this.id="sym"+PR++,this.type=null,this.color=new Ge([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};o([c({type:v3.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:v3.write}}})],Wa.prototype,"type",void 0),o([c({type:Ge,json:{write:{allowNull:!0}}})],Wa.prototype,"color",void 0),o([ce("color")],Wa.prototype,"readColor",null),Wa=o([I("esri.symbols.Symbol")],Wa);const Er=Wa;var Vg;let $n=Vg=class extends Er{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(i=>{const n=i.valueExpressionInfo;return cn(e,t,n.expression)});await Promise.all(s)}}}clone(){return new Vg({data:D(this.data)})}hash(){return Lf(JSON.stringify(this.data)).toString()}};o([c({json:{write:!1}})],$n.prototype,"color",void 0),o([c({json:{write:!0}})],$n.prototype,"data",void 0),o([ce("data",["symbol"])],$n.prototype,"readData",null),o([ye("data",{})],$n.prototype,"writeData",null),o([$e({CIMSymbolReference:"cim"},{readOnly:!0})],$n.prototype,"type",void 0),$n=Vg=o([I("esri.symbols.CIMSymbol")],$n);const Rd=$n;let Ka=class extends X{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};o([c({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Ka.prototype,"enabled",void 0),o([ye("enabled")],Ka.prototype,"writeEnabled",null),o([c({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Ka.prototype,"type",void 0),Ka=o([I("esri.symbols.Symbol3DLayer")],Ka);const $i=Ka,FR=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,LR="screenUtils.toPt: input not recognized!",t5=96;function NR(e){return e?e/72*t5:0}function on(e){return e?72*e/t5:0}function We(e){if(typeof e=="string"){const t=e.match(FR);if(t){const r=Number(t[1]),s=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",n=s==="px"?on(r):r;return i?-n:n}return console.warn(LR),null}return e}function DR(e=0,t=0){return{x:e,y:t}}function r5(e){const t=Gf(100*(1-e));return Math.max(0,Math.min(t,100))}function od(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function zR(e,t){const r=t.transparency!=null?od(t.transparency):1,s=t.color;return s&&Array.isArray(s)?new Ge([s[0]||0,s[1]||0,s[2]||0,r]):null}function VR(e,t){t.color=e.toJSON().slice(0,3);const r=r5(e.a);r!==0&&(t.transparency=r)}const co={type:Ge,json:{type:[zt],default:null,read:{source:["color","transparency"],reader:zR},write:{target:{color:{type:[zt]},transparency:{type:zt}},writer:VR}}},_i={type:Number,cast:We,json:{write:!0}};let Oo=class extends X{constructor(e){super(e),this.color=new Ge([0,0,0,1]),this.extensionLength=0,this.size=on(1)}clone(){}cloneProperties(){return{color:D(this.color),size:this.size,extensionLength:this.extensionLength}}};o([c({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Oo.prototype,"type",void 0),o([c(co)],Oo.prototype,"color",void 0),o([c(Oe(z({},_i),{json:{write:{overridePolicy:e=>({enabled:!!e})}}}))],Oo.prototype,"extensionLength",void 0),o([c(_i)],Oo.prototype,"size",void 0),Oo=o([I("esri.symbols.edges.Edges3D")],Oo);const U1=Oo;var Ug;let Xp=Ug=class extends U1{constructor(e){super(e),this.type="sketch"}clone(){return new Ug(this.cloneProperties())}};o([$e({sketch:"sketch"},{readOnly:!0})],Xp.prototype,"type",void 0),Xp=Ug=o([I("esri.symbols.edges.SketchEdges3D")],Xp);const UR=Xp;var qg;let eh=qg=class extends U1{constructor(e){super(e),this.type="solid"}clone(){return new qg(this.cloneProperties())}};o([$e({solid:"solid"},{readOnly:!0})],eh.prototype,"type",void 0),eh=qg=o([I("esri.symbols.support.SolidEdges3D")],eh);const qR=eh,q1={types:{key:"type",base:U1,typeMap:{solid:qR,sketch:UR}},json:{write:!0}};var Bg;let ms=Bg=class extends X{constructor(e){super(e),this.color=null}clone(){const e={color:q(this.color)?this.color.clone():null};return new Bg(e)}};o([c(co)],ms.prototype,"color",void 0),ms=Bg=o([I("esri.symbols.support.Symbol3DMaterial")],ms);var Gg;let xn=Gg=class extends $i{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Gg({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:q(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};o([$e({Extrude:"extrude"},{readOnly:!0})],xn.prototype,"type",void 0),o([c({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],xn.prototype,"size",void 0),o([c({type:ms,json:{write:!0}})],xn.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],xn.prototype,"castShadows",void 0),o([c(q1)],xn.prototype,"edges",void 0),xn=Gg=o([I("esri.symbols.ExtrudeSymbol3DLayer")],xn);const B1=xn;let Bu=class extends Er{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};o([$e({esriSLS:"simple-line"},{readOnly:!0})],Bu.prototype,"type",void 0),o([c({type:Number,cast:We,json:{write:!0}})],Bu.prototype,"width",void 0),Bu=o([I("esri.symbols.LineSymbol")],Bu);const BR=Bu,GR=["begin","end","begin-end"],s5=["arrow","circle","square","diamond","cross","x"];var Hg;let ii=Hg=class extends X{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,s){(s==null?void 0:s.origin)==="web-map"?t[r]="arrow":t[r]=e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,s){(s==null?void 0:s.origin)==="web-map"||(t[r]=e)}clone(){return new Hg({color:D(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};o([c({type:["begin","end","begin-end"],json:{write:!0}})],ii.prototype,"placement",void 0),o([$e({"line-marker":"line-marker"},{readOnly:!0}),c({json:{origins:{"web-map":{write:!1}}}})],ii.prototype,"type",void 0),o([c({type:s5})],ii.prototype,"style",void 0),o([ye("style")],ii.prototype,"writeStyle",null),o([c({type:Ge,value:null,json:{write:{allowNull:!0}}})],ii.prototype,"color",null),o([ce("color")],ii.prototype,"readColor",null),o([ye("color")],ii.prototype,"writeColor",null),ii=Hg=o([I("esri.symbols.LineSymbolMarker")],ii);const HR=ii;var Jg;const sm=new Te({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Ci=Jg=class extends BR{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,s,i,n){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=We(r)),s!=null&&(a.cap=s),i!=null&&(a.join=i),n!=null&&(a.miterLimit=We(n)),a}clone(){var e;return new Jg({color:D(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};o([$e({esriSLS:"simple-line"},{readOnly:!0})],Ci.prototype,"type",void 0),o([c({type:sm.apiValues,json:{read:sm.read,write:sm.write}})],Ci.prototype,"style",void 0),o([c({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Ci.prototype,"cap",void 0),o([c({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Ci.prototype,"join",void 0),o([c({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":HR}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ci.prototype,"marker",void 0),o([c({type:Number,json:{read:!1,write:!1}})],Ci.prototype,"miterLimit",void 0),Ci=Jg=o([I("esri.symbols.SimpleLineSymbol")],Ci);const Xr=Ci;let Gu=class extends Er{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};o([c({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Xr}},json:{default:null,write:!0}})],Gu.prototype,"outline",void 0),o([c({type:["simple-fill","picture-fill"],readOnly:!0})],Gu.prototype,"type",void 0),Gu=o([I("esri.symbols.FillSymbol")],Gu);const i5=Gu;let th=class extends X{constructor(e){super(e)}clone(){}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],th.prototype,"type",void 0),th=o([I("esri.symbols.patterns.LinePattern3D")],th);const n5=th,JR=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Wg;const WR=rr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Hu=Wg=class extends n5{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Wg(e)}};o([c({type:["style"]})],Hu.prototype,"type",void 0),o([$e(WR),c({type:JR})],Hu.prototype,"style",void 0),Hu=Wg=o([I("esri.symbols.patterns.LineStylePattern3D")],Hu);const G1=Hu;let rh=class extends X{constructor(e){super(e)}clone(){}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],rh.prototype,"type",void 0),rh=o([I("esri.symbols.patterns.Pattern3D")],rh);const o5=rh,KR=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Kg;let Ju=Kg=class extends o5{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Kg(e)}};o([c({type:["style"]})],Ju.prototype,"type",void 0),o([c({type:KR,json:{read:!0,write:!0}})],Ju.prototype,"style",void 0),Ju=Kg=o([I("esri.symbols.patterns.StylePattern3D")],Ju);const a5=Ju,QR={types:{key:"type",base:o5,typeMap:{style:a5}},json:{write:!0}},l5={types:{key:"type",base:n5,typeMap:{style:G1}},json:{write:!0}},Tc=new Ge("white");new Ge("black");const ZR=new Ge([255,255,255,0]);function YR(e){return e.r===0&&e.g===0&&e.b===0}var Qg;let jc=Qg=class extends ms{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:q(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new Qg(e)}};o([$e({multiply:"multiply",replace:"replace",tint:"tint"})],jc.prototype,"colorMixMode",void 0),jc=Qg=o([I("esri.symbols.support.Symbol3DFillMaterial")],jc);function ty(e=c7){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function H1(e,t,r,s,i,n,a=ty()){return a[0]=e,a[1]=t,a[2]=r,a[3]=s,a[4]=i,a[5]=n,a}function XR(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function e7(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function t7(e){return e[0]>=e[3]?0:e[3]-e[0]}function r7(e){return e[1]>=e[4]?0:e[4]-e[1]}function s7(e){return e[2]>=e[5]?0:e[5]-e[2]}function i7(e,t=[0,0,0]){return t[0]=t7(e),t[1]=r7(e),t[2]=s7(e),t}function n7(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function o7(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function u5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a7(e){return e?u5(e,Zg):ty(Zg)}function l7(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function b3(e){return e.length===6}function u7(e,t,r){if(we(e)||we(t))return e===t;if(!b3(e)||!b3(t))return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}const Zg=[1/0,1/0,1/0,-1/0,-1/0,-1/0],c7=[0,0,0,0,0,0];ty();function d7(e,{isPrimitive:t,width:r,depth:s,height:i}){const n=t?10:1;if(r==null&&i==null&&s==null)return[n*e[0],n*e[1],n*e[2]];const a=Ta(r,s,i);let u;for(let d=0;d<3;d++){const p=a[d];if(p!=null){u=p/e[d];break}}for(let d=0;d<3;d++)a[d]==null&&(a[d]=e[d]*u);return a}const p7=H1(-.5,-.5,-.5,.5,.5,.5),h7=H1(-.5,-.5,0,.5,.5,1),f7=H1(-.5,-.5,0,.5,.5,.5);function y7(e){switch(e){case"sphere":case"cube":case"diamond":return p7;case"cylinder":case"cone":case"inverted-cone":return h7;case"tetrahedron":return f7;default:return}}const J1=["butt","square","round"],m7=[...J1,"none"],c5=["miter","bevel","round"];var Yg;let ko=Yg=class extends X{constructor(e){super(e),this.color=new Ge([0,0,0,1]),this.size=on(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:q(this.color)?this.color.clone():null,size:this.size,pattern:q(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new Yg(e)}};o([c(co)],ko.prototype,"color",void 0),o([c(_i)],ko.prototype,"size",void 0),o([c(l5)],ko.prototype,"pattern",void 0),o([c({type:J1,json:{default:"butt",write:{overridePolicy(){return{enabled:q(this.pattern)}}}}})],ko.prototype,"patternCap",void 0),ko=Yg=o([I("esri.symbols.support.Symbol3DOutline")],ko);var sh;let Ai=sh=class extends $i{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:q(this.edges)?this.edges.clone():null,enabled:this.enabled,material:q(this.material)?this.material.clone():null,pattern:q(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:q(this.outline)?this.outline.clone():null};return new sh(e)}static fromSimpleFillSymbol(e){var t,r,s,i,n,a;const u=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new G1({style:e.outline.style}):null,d={size:(t=(r=e.outline)==null?void 0:r.width)!=null?t:0,color:((s=(i=e.outline)==null?void 0:i.color)!=null?s:Tc).clone(),pattern:u};return u&&(n=e.outline)!=null&&n.cap&&(d.patternCap=e.outline.cap),new sh({material:new jc({color:((a=e.color)!=null?a:ZR).clone()}),pattern:e.style&&e.style!=="solid"?new a5({style:e.style}):null,outline:d})}};o([$e({Fill:"fill"},{readOnly:!0})],Ai.prototype,"type",void 0),o([c({type:jc,json:{write:!0}})],Ai.prototype,"material",void 0),o([c(QR)],Ai.prototype,"pattern",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ai.prototype,"castShadows",void 0),o([c({type:ko,json:{write:!0}})],Ai.prototype,"outline",void 0),o([c(q1)],Ai.prototype,"edges",void 0),Ai=sh=o([I("esri.symbols.FillSymbol3DLayer")],Ai);const Pd=Ai,g7=["none","underline","line-through"],v7=["normal","italic","oblique"],b7=["normal","lighter","bold","bolder"],d5={type:Number,cast:e=>{const t=Od(e);return t===0?1:Ad(t,.1,4)},nonNullable:!0},w7=["left","right","center","justify"],_7=["left","right","center"],S7=["baseline","top","middle","bottom"],$7={type:w7,nonNullable:!0},x7={type:_7,nonNullable:!0},p5={type:S7,nonNullable:!0};var Xg;let Ri=Xg=class extends X{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return We(e)}clone(){return new Xg({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};o([c({type:g7,json:{default:"none",write:!0}})],Ri.prototype,"decoration",void 0),o([c({type:String,json:{write:!0}})],Ri.prototype,"family",void 0),o([c({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Ri.prototype,"size",void 0),o([Tt("size")],Ri.prototype,"castSize",null),o([c({type:v7,json:{default:"normal",write:!0}})],Ri.prototype,"style",void 0),o([c({type:b7,json:{default:"normal",write:!0}})],Ri.prototype,"weight",void 0),Ri=Xg=o([I("esri.symbols.Font")],Ri);const ry=Ri,M7=fe.getLogger("esri.core.urlUtils"),tu=Xe.request,w3="esri/config: esriConfig.request.proxyUrl is not set.",h5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,f5=/^\s*http:/i,I7=/^\s*https:/i,E7=/^\s*file:/i,O7=/:\d+$/,k7=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,T7=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),j7=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class da{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(T7);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(j7),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}const pp={},C7=new da(Xe.applicationUrl);let yr=C7;const A7=P7();let W1=A7;const y5=()=>yr,R7=()=>W1;function P7(){const e=yr.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${yr.scheme}://${yr.host}${yr.port!=null?`:${yr.port}`:""}`}${t}`}function Dr(e){const t={path:null,query:null},r=new da(e),s=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,s),t.query=K1(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function K1(e){const t=e.split("&"),r={};for(const s of t){if(!s)continue;const i=s.indexOf("=");let n,a;i<0?(n=decodeURIComponent(s),a=""):(n=decodeURIComponent(s.slice(0,i)),a=decodeURIComponent(s.slice(i+1)));let u=r[n];typeof u=="string"&&(u=r[n]=[u]),Array.isArray(u)?u.push(a):r[n]=a}return r}function _3(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function ql(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const s=e[r];if(s==null)return"";const i=encodeURIComponent(r)+"=",n=t&&t[r];return n?i+encodeURIComponent(n(s)):Array.isArray(s)?s.map(a=>_3(a)?i+encodeURIComponent(JSON.stringify(a)):i+encodeURIComponent(a)).join("&"):_3(s)?i+encodeURIComponent(JSON.stringify(s)):i+encodeURIComponent(s)}).filter(r=>r).join("&"):""}function F7(e=!1){let t,r=tu.proxyUrl;if(typeof e=="string"){t=w5(e);const s=Fd(e);s&&(r=s.proxyUrl)}else t=!!e;if(!r)throw M7.warn(w3),new H("urlutils:proxy-not-set",w3);return t&&e0()&&(r=iy(r)),Dr(r)}function L7(e){const t=Fd(e);let r,s;if(t){const i=Q1(t.proxyUrl);r=i.path,s=i.query?K1(i.query):null}if(r){const i=Dr(e);e=r+"?"+i.path;const n=ql(z(z({},s),i.query));n&&(e=`${e}?${n}`)}return e}const xu={path:"",query:""};function Q1(e){const t=e.indexOf("?");return t!==-1?(xu.path=e.slice(0,t),xu.query=e.slice(t+1)):(xu.path=e,xu.query=null),xu}function m5(e){return e=(e=df(e=Z7(e=Q1(e).path),!0)).toLowerCase()}function N7(e){const t={proxyUrl:e.proxyUrl,urlPrefix:m5(e.urlPrefix)},r=tu.proxyRules,s=t.urlPrefix;let i=r.length;for(let n=0;n<r.length;n++){const a=r[n].urlPrefix;if(s.indexOf(a)===0){if(s.length===a.length)return-1;i=n;break}a.indexOf(s)===0&&(i=n+1)}return r.splice(i,0,t),i}function Fd(e){const t=tu.proxyRules,r=m5(e);for(let s=0;s<t.length;s++)if(r.indexOf(t[s].urlPrefix)===0)return t[s]}function g5(e,t){return e=S3(e),t=S3(t),df(e)===df(t)}function S3(e){const t=(e=gs(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function v5(e){const t=s=>s==null||s instanceof RegExp&&s.test(e)||typeof s=="string"&&e.startsWith(s),r=tu.interceptors;if(r){for(const s of r)if(Array.isArray(s.urls)){if(s.urls.some(t))return s}else if(t(s.urls))return s}return null}function ad(e,t,r=!1){const s=r0(e),i=r0(t);return!(!r&&s.scheme!==i.scheme)&&s.host!=null&&i.host!=null&&s.host.toLowerCase()===i.host.toLowerCase()&&s.port===i.port}function Z1(e){if(typeof e=="string"){if(!Fr(e))return!0;e=r0(e)}if(ad(e,yr))return!0;const t=tu.trustedServers||[];for(let r=0;r<t.length;r++){const s=D7(t[r]);for(let i=0;i<s.length;i++)if(ad(e,s[i]))return!0}return!1}function D7(e){return pp[e]||(X1(e)||dn(e)?pp[e]=[new da(fs(e))]:pp[e]=[new da(`http://${e}`),new da(`https://${e}`)]),pp[e]}function fs(e,t=W1,r){return dn(e)?r&&r.preserveProtocolRelative?e:yr.scheme==="http"&&yr.authority===ja(e).slice(2)?`http:${e}`:`https:${e}`:X1(e)?e:$a(e[0]==="/"?K7(t):t,e)}function sy(e,t=W1,r){if(!Fr(e))return e;const s=gs(e),i=s.toLowerCase(),n=gs(t).toLowerCase().replace(/\/+$/,""),a=r?gs(r).toLowerCase().replace(/\/+$/,""):null;if(a&&n.indexOf(a)!==0)return e;const u=(y,v,b)=>(b=y.indexOf(v,b))===-1?y.length:b;let d=u(i,"/",i.indexOf("//")+2),p=-1;for(;i.slice(0,d+1)===n.slice(0,d)+"/"&&(p=d+1,d!==i.length);)d=u(i,"/",d+1);if(p===-1||a&&p<a.length)return e;e=s.slice(p);const f=n.slice(p-1).replace(/[^/]+/g,"").length;if(f>0)for(let y=0;y<f;y++)e=`../${e}`;else e=`./${e}`;return e}function gs(e){return e=eP(e=X7(e=Y7(e=fs(e=e.trim()))))}function $a(...e){const t=e.filter(q);if(!t||!t.length)return;const r=[];if(Fr(t[0])){const i=t[0],n=i.indexOf("//");n!==-1&&(r.push(i.slice(0,n+1)),J7(t[0])&&(r[0]+="/"),t[0]=i.slice(n+2))}else t[0][0]==="/"&&r.push("");const s=t.reduce((i,n)=>n?i.concat(n.split("/")):i,[]);for(let i=0;i<s.length;i++){const n=s[i];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&i===s.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function ja(e,t=!1){if(Ld(e)||po(e))return null;let r=e.indexOf("://");if(r===-1&&dn(e))r=2;else{if(r===-1)return null;r+=3}const s=e.indexOf("/",r);return s!==-1&&(e=e.slice(0,s)),t&&(e=df(e,!0)),e}function Fr(e){return dn(e)||X1(e)}function Ld(e){return e!=null&&e.slice(0,5)==="blob:"}function po(e){return e.slice(0,5)==="data:"}function z7(e){const t=Y1(e);if(!t||!t.isBase64)return null;const r=atob(t.data),s=new Uint8Array(r.length);for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return s.buffer}function V7(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const U7=/^data:(.*?)(;base64)?,(.*)$/;function Y1(e){const t=e.match(U7);if(!t)return null;const[,r,s,i]=t;return{mediaType:r,isBase64:!!s,data:i}}function b5(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function q7(e,t){B7(e,t)||G7(e,t)}function B7(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const s=URL.createObjectURL(e);return r.download=t,r.href=s,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),!0}function G7(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function dn(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function X1(e){return h5.test(e)}function w5(e){return I7.test(e)||yr.scheme==="https"&&dn(e)}function H7(e){return f5.test(e)||yr.scheme==="http"&&dn(e)}function J7(e){return E7.test(e)}function iy(e){return dn(e)?`https:${e}`:e.replace(f5,"https:")}function W7(){return yr.scheme==="http"}function e0(){return yr.scheme==="https"}function df(e,t=!1){return dn(e)?e.slice(2):(e=e.replace(h5,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function K7(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function _5(e){let t=0;if(Fr(e)){const s=e.indexOf("//");s!==-1&&(t=s+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function Q7(e,t){if(!e)return"";const r=Dr(e).path.replace(/\/+$/,""),s=r.substring(r.lastIndexOf("/")+1);if(t==null||!t.length)return s;const i=new RegExp(`.(${t.join("|")})$`,"ig");return s.replace(i,"")}function Z7(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function ew(e){return e.replace(/\/+$/,"")}function Y7(e){if(/^https?:\/\//i.test(e)){const t=Q1(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function X7(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function eP(e){const t=tu.httpsDomains;if(!H7(e))return e;const r=e.indexOf("/",7);let s;if(s=r===-1?e:e.slice(0,r),s=s.toLowerCase().slice(7),O7.test(s)){if(!s.endsWith(":80"))return e;s=s.slice(0,-3),e=e.replace(":80","")}return W7()&&s===yr.authority&&!k7.test(e)||(e0()&&s===yr.authority||t&&t.some(i=>s===i||s.endsWith(`.${i}`))||e0()&&!Fd(e))&&(e=iy(e)),e}function t0(e,t,r){if(!(t&&r&&e&&Fr(e)))return e;const s=e.indexOf("//"),i=e.indexOf("/",s+2),n=e.indexOf(":",s+2),a=Math.min(i<0?e.length:i,n<0?e.length:n);return e.slice(s+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,s+2)}${r}${e.slice(a)}`}function r0(e){return typeof e=="string"?new da(fs(e)):(e.scheme||(e.scheme=yr.scheme),e)}function S5(e,t){const r=Dr(e),s=Object.keys(r.query||{});return s.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${s.join(", ")}.`),r.path}function $5(e,t,r){const s=Dr(e),i=s.query||{};return i[t]=String(r),`${s.path}?${ql(i)}`}function s0(e,t){const r=Dr(e),s=r.query||{};for(const n in t)s[n]=t[n];const i=ql(s);return i?`${r.path}?${i}`:r.path}function tP(e){if(we(e))return null;const t=e.match(rP);return t?t[1]:null}const rP=/.*?\.([^\/]*)$/;function Ca(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=fs(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=sy(e,t.portalItem.itemUrl);iP.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return i0(e,t&&t.portal)}function ru(e,t,r=Bl.YES){if(!e)return e;!Fr(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=fs(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const n=i0(i,t.portal);s=sy(i0(s,t.portal),n,n),s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=nP(s,t&&t.portal),Fr(s)&&(s=gs(s)),t!=null&&t.resources&&t!=null&&t.portalItem&&!Fr(s)&&!po(s)&&r===Bl.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s)}),s}function ny(e,t,r){return Ca(e,r)}function ao(e,t,r,s){const i=ru(e,s);i!==void 0&&(t[r]=i)}const sP=/\/items\/([^\/]+)\/resources\//,iP=/^\.\/resources\//;function x5(e){const t=q(e)?e.match(sP):null;return q(t)?t[1]:null}function nP(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?t0(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function i0(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=y5();return ad(s,`${s.scheme}://${r}`)?t0(e,t.portalHostname,r):t0(e,r,t.portalHostname)}var Bl;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Bl||(Bl={}));const oP=Object.freeze({__proto__:null,fromJSON:Ca,toJSON:ru,read:ny,write:ao,itemIdFromResourceUrl:x5,get MarkKeep(){return Bl}});var n0;const aP=rr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let To=n0=class extends X{constructor(e){super(e)}readHref(e,t,r){return e?Ca(e,r):t.dataURI}writeHref(e,t,r,s){e&&(po(e)?t.dataURI=e:(t.href=ru(e,s),Fr(t.href)&&(t.href=gs(t.href))))}clone(){return new n0({href:this.href,primitive:this.primitive})}};o([c({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],To.prototype,"href",void 0),o([ce("href")],To.prototype,"readHref",null),o([ye("href",{href:{type:String},dataURI:{type:String}})],To.prototype,"writeHref",null),o([$e(aP)],To.prototype,"primitive",void 0),To=n0=o([I("esri.symbols.support.IconSymbol3DLayerResource")],To);var o0;let ml=o0=class extends wt{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new o0({x:this.x,y:this.y})}};o([c({type:Number})],ml.prototype,"x",void 0),o([c({type:Number})],ml.prototype,"y",void 0),ml=o0=o([I("esri.symbols.support.Symbol3DAnchorPosition2D")],ml);var a0;let Wu=a0=class extends X{constructor(e){super(e),this.color=new Ge([0,0,0,1]),this.size=on(1)}clone(){const e={color:q(this.color)?this.color.clone():null,size:this.size};return new a0(e)}};o([c(co)],Wu.prototype,"color",void 0),o([c(_i)],Wu.prototype,"size",void 0),Wu=a0=o([I("esri.symbols.support.Symbol3DIconOutline")],Wu);var Qa;const lP=fe.getLogger("esri.symbols.IconSymbol3DLayer");let ni=Qa=class extends $i{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new Qa({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:q(this.material)?this.material.clone():null,outline:q(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Tc,r=$3(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Tc).clone()}:null;return new Qa({size:e.size,resource:{primitive:cP(e.style)},material:{color:t},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||YR(e.color)?Tc:e.color,r=$3(e);return new Qa({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Qa({resource:{href:b5({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function $3(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,s=x3(e.xoffset),i=x3(e.yoffset);return(s||i)&&t&&r?{x:-s/t,y:i/r}:null}function x3(e){return isFinite(e)?e:0}o([c({type:ms,json:{write:!0}})],ni.prototype,"material",void 0),o([c({type:To,json:{write:!0}})],ni.prototype,"resource",void 0),o([$e({Icon:"icon"},{readOnly:!0})],ni.prototype,"type",void 0),o([c(_i)],ni.prototype,"size",void 0),o([$e({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),c({json:{default:"center"}})],ni.prototype,"anchor",void 0),o([c({type:ml,json:{type:[Number],read:{reader:e=>new ml({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ni.prototype,"anchorPosition",void 0),o([c({type:Wu,json:{write:!0}})],ni.prototype,"outline",void 0),ni=Qa=o([I("esri.symbols.IconSymbol3DLayer")],ni);const uP={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function cP(e){return uP[e]||(lP.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Kn=ni;function M5(e,t,r=gt){return t||(t=new r),t===e||(t.removeAll(),dP(e)?t.addMany(e):e&&t.add(e)),t}function I5(e){return e}function dP(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}const E5="20220404",O5="ecb69ff5e08a61c162de0ddc0b1f397ed5d4071b",tw="4.23",pP={async request(e,t){var r;const{default:s}=await Promise.resolve().then(function(){return C5}),i=e.options,n=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":["blob","json","text"].includes(n)&&(r=v5(e.url))!=null&&r.after?n:"array-buffer";const a=await s(e.url,i),u={data:a.data,ssl:a.ssl};switch(a.requestOptions.responseType){case"native-request-init":return delete u.data.signal,u;case"blob":u.data=await u.data.arrayBuffer();break;case"json":u.data=new TextEncoder().encode(JSON.stringify(u.data)).buffer;break;case"text":u.data=new TextEncoder().encode(u.data).buffer}return{result:u,transferList:[u.data]}}};let kt;function hP(e){kt=e}function fP(e){const t=kt&&kt.findCredential(e);return t&&t.token?$5(e,"token",t.token):e}K("host-webworker")||(K("edge")||K("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const yP=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function rw(e){const t=ja(e,!0);return t&&t.endsWith(".arcgis.com")&&!yP.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function k5(e,t,r=!1,s){return new Promise((i,n)=>{if(io(s))return void n(M3());let a=()=>{p(),n(new Error(`Unable to load ${t}`))},u=()=>{const f=e;p(),i(f)},d=()=>{if(!e)return;const f=e;p(),f.src="",n(M3())};const p=()=>{K("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",u)),a=null,u=null,e=null,q(s)&&s.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};q(s)&&s.addEventListener("abort",d),K("esri-image-decode")?e.decode().then(u,a):(e.addEventListener("error",a),e.addEventListener("load",u))})}function M3(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function $t(e,t){var r;const s=po(e),i=Ld(e);i||s||(e=gs(e));const n={url:e,requestOptions:z({},t)};let a=v5(e);if(a){const f=await $P(a,n);if(f!=null)return{data:f,getHeader:sw,requestOptions:n.requestOptions,url:n.url};a.after||a.error||(a=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"){if(K("host-webworker")||K("host-node"))throw Vs("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n)}else if(s)throw Vs("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),n);if(t.method==="head"){if(t.body)throw Vs("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(s||i)throw Vs("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await wP(),pf)return pf.execute(e,t);const u=new AbortController;nn(t,()=>u.abort());const d={controller:u,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:Gi.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=await MP(d);return(r=a)==null||r.after==null||r.after(p),p}let pf;const Gi=Xe.request,T5="FormData"in globalThis,mP=[499,498,403,401],gP=["COM_0056","COM_0057","SB_0008"],vP=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],sw=()=>null,l0=Symbol();function bP(e){const t=ja(e);t&&!$t._corsServers.includes(t)&&$t._corsServers.push(t)}function I3(e){const t=ja(e);return!t||t.endsWith(".arcgis.com")||$t._corsServers.includes(t)||Z1(t)}function Vs(e,t,r,s){let i="Error";const n={url:r.url,requestOptions:r.requestOptions,getHeader:sw,ssl:!1};if(t instanceof H)return t.details?(t.details=D(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const a=s&&(p=>s.headers.get(p)),u=s&&s.status,d=t.message;d&&(i=d),a&&(n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||u||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=l0 in t?t[l0]:t}return Ws(t)?ur():new H(e,i,n)}async function wP(){K("host-webworker")?pf||(pf=await import("./request.717be47a.js")):$t._abortableFetch||($t._abortableFetch=globalThis.fetch.bind(globalThis))}async function u0(){kt||await import("./IdentityManager.80d1cc98.js")}async function _P(e){const t=e.params.url,r=e.params.requestOptions,s=e.controller.signal,i=r.body;let n=null,a=null,u=null;if(T5&&"HTMLFormElement"in globalThis&&(i instanceof FormData?n=i:i instanceof HTMLFormElement&&(a=i,n=new FormData(a))),typeof i=="string"&&(u=i),e.fetchOptions={cache:r.cacheBust&&!$t._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",redirect:"follow",signal:s},(n||u)&&(e.fetchOptions.body=n||u),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||n&&n.get&&n.get("token")||a&&a.elements.token),!e.hasToken&&Xe.apiKey&&rw(t)&&(r.query||(r.query={}),r.query.token=Xe.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!j5(t)&&!io(s)){let d;r.authMode==="immediate"?(await u0(),d=await kt.getCredential(t,{signal:s}),e.credential=d):r.authMode==="no-prompt"?(await u0(),d=await kt.getCredential(t,{prompt:!1,signal:s}).catch(()=>{}),e.credential=d):kt&&(d=kt.findCredential(t)),d&&(e.credentialToken=d.token,e.useSSL=!!d.ssl)}}function j5(e){return vP.some(t=>t.test(e))}async function SP(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions,i=Ld(t)||po(t),n=r.responseType||"json",a=i?0:r.timeout!=null?r.timeout:Gi.timeout;let u=!1;if(!i){e.useSSL&&(t=iy(t)),r.cacheBust&&s.cache==="default"&&(t=$5(t,"request.preventCache",Date.now()));let v=z({},r.query);e.credentialToken&&(v.token=e.credentialToken);let b=ql(v);K("esri-url-encodes-apostrophe")&&(b=b.replace(/'/g,"%27"));const $=t.length+1+b.length;let k;u=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||$>Gi.maxUrlLength;const E=r.useProxy||!!Fd(t);if(E){const P=F7(t);k=P.path,!u&&k.length+1+$>Gi.maxUrlLength&&(u=!0),P.query&&(v=z(z({},P.query),v))}if(s.method==="HEAD"&&(u||E)){if(u)throw $>Gi.maxUrlLength?Vs("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Vs("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(E)throw Vs("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=s0(t,v):(s.body=ql(v),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=s0(t,v),E&&(e.useProxy=!0,t=`${k}?${t}`),v.token&&T5&&s.body instanceof FormData){const P=s.body;P.set?P.set("token",v.token):P.append("token",v.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!ad(t,y5())){if(Z1(t))e.withCredentials=!0;else if(kt){const P=kt.findServerInfo(t);P&&P.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(s.credentials="include")}let d,p,f=0,y=!1;a>0&&(f=setTimeout(()=>{y=!0,e.controller.abort()},a));try{if(r.responseType==="native-request-init")p=s,p.url=t;else if(r.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||u||xP(r.headers)||!i&&!e.useProxy&&Gi.proxyUrl&&!I3(t)){if(d=await $t._abortableFetch(t,s),e.useProxy||bP(t),r.responseType==="native")p=d;else if(s.method!=="HEAD")if(d.ok){switch(n){case"array-buffer":p=await d.arrayBuffer();break;case"blob":case"image":p=await d.blob();break;default:p=await d.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(p)switch(n){case"json":p=JSON.parse(p);break;case"xml":p=E3(p,"application/xml");break;case"document":p=E3(p,"text/html")}else p=null;if(p){if(n==="array-buffer"||n==="blob"){const v=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(v)&&p[n==="blob"?"size":"byteLength"]<=750)try{const b=await new Response(p).json();b.error&&(p=b)}catch{}}n==="image"&&p instanceof Blob&&(p=await O3(URL.createObjectURL(p),e,!0))}}else p=await d.text()}else p=await O3(t,e)}catch(v){if(v.name==="AbortError")throw y?new Error("Timeout exceeded"):ur("Request canceled");if(!(!d&&v instanceof TypeError&&Gi.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||I3(t))throw v;e.redoRequest=!0,N7({proxyUrl:Gi.proxyUrl,urlPrefix:ja(t)})}finally{f&&clearTimeout(f)}return[d,p]}async function $P(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers=z(z({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=z(z({},t.requestOptions.query),e.query)),e.before){let r,s;try{s=await e.before(t)}catch(i){r=Vs("request:interceptor",i,t)}if((s instanceof Error||s instanceof H)&&(r=Vs("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}function xP(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function E3(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function MP(e){var t,r;let s,i;await _P(e);try{do[s,i]=await SP(e);while(!await IP(e,s,i))}catch(u){const d=Vs("request:server",u,e.params,s);throw d.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(d),d}const n=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)&&!e.hasToken&&!e.credentialToken&&(t=i)!=null&&(r=t.user)!=null&&r.username&&!Z1(n)){const u=ja(n,!0);u&&Gi.trustedServers.push(u)}const a=e.credential;if(a&&kt){const u=kt.findServerInfo(a.server);let d=u&&u.owningSystemUrl;if(d){d=d.replace(/\/?$/,"/sharing");const p=kt.findCredential(d,a.userId);p&&kt._getIdenticalSvcIdx(d,p)===-1&&p.resources.unshift(d)}}return{data:i,getHeader:s?u=>s.headers.get(u):sw,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function IP(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||s.responseType==="native"||s.responseType==="native-request-init")return!0;let i,n,a,u;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[l0]=r,i;r!=null&&r.error&&(i=r.error),i&&(n=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,u=i.messageCode,u=u&&u.toUpperCase());const d=s.authMode;if(n===403&&(a===4||i.message&&i.message.toLowerCase().indexOf("ssl")>-1&&i.message.toLowerCase().indexOf("permission")===-1)){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(d!=="no-prompt"||n===498)&&mP.indexOf(n)!==-1&&!j5(e.params.url)&&(n!==403||gP.indexOf(u)===-1&&(a==null||a===2&&e.credentialToken))){await u0();try{const p=await kt.getCredential(e.params.url,{error:Vs("request:server",i,e.params),prompt:d!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=p,e.credentialToken=p.token,e.useSSL=e.useSSL||p.ssl,!1}catch(p){if(d==="no-prompt")return e.credential=null,e.credentialToken=null,!1;i=p}}if(i)throw i;return!0}function O3(e,t,r=!1){const s=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,k5(i,e,r,s)}$t._abortableFetch=null,$t._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var C5=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"})),qn;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(qn||(qn={}));class EP{constructor(t){this.instance=t,this._resolver=ya(),this._status=qn.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=qn.RESOLVED,this._cleanUp()},()=>{this._status=qn.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===qn.RESOLVED}isRejected(){return this._status===qn.REJECTED}isFulfilled(){return this._status!==qn.PENDING}abort(){this._resolver.reject(ur())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=ya(),r=[...this._resolvingPromises,t.promise],s=this._allPromise=Promise.all(r);s.then(()=>{this.isFulfilled()||this._allPromise!==s||this._resolver.resolve(this.instance)},i=>{this.isFulfilled()||this._allPromise!==s||Ws(i)||this._resolver.reject(i)}),t.resolve()}}const oy=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new EP(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,s){return new Promise((i,n)=>{this._promiseProps.when(i,n)}).then(r,s)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=o([I("esri.core.Promise")],t),t};let c0=class extends oy(wt){};c0=o([I("esri.core.Promise")],c0);const OP="not-loaded",kP="loading",TP="failed",k3="loaded",A5=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(s=>{const i=this.load.bind(this);this.load=n=>{const a=new Promise((u,d)=>{const p=Uf(n,d);this.destroyed&&d(new H("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(u,d).finally(()=>{p&&p.remove()})});if(this.loadStatus===OP){this._set("loadStatus",kP);const u=this._loadController=new AbortController;i({signal:u.signal}),nn(u.signal,()=>{this._promiseProps.abort()})}return s(),a}})),this.when(()=>{this._set("loadStatus",k3),this._loadController=null},s=>{this._set("loadStatus",TP),this._set("loadError",s),this._loadController=null})}get loaded(){return this.loadStatus===k3}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new H("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return o([c({readOnly:!0})],t.prototype,"loaded",null),o([c({readOnly:!0})],t.prototype,"loadError",void 0),o([c({clonable:!1})],t.prototype,"loadStatus",void 0),o([c({type:[Nr],readOnly:!0})],t.prototype,"loadWarnings",null),t=o([I("esri.core.Loadable")],t),t};let Ku=class extends A5(c0){};Ku=o([I("esri.core.Loadable")],Ku),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=A5,e.isLoadable=t}(Ku||(Ku={}));const Nd=Ku;var d0;const jP=new Te({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let os=d0=class extends wt{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new d0({categories:this.categories?D(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,s;if(this.categories&&(r=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a)),this.extent){const a=p1(this.extent,ze.WGS84);q(a)&&(s=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const n={categories:r,bbox:s,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(a=>jP.toJSON(a.trim())).join(","),n.sortOrder=this.sortOrder),{query:z(z({},t),n)}}};o([c()],os.prototype,"categories",void 0),o([c()],os.prototype,"disableExtraQuery",void 0),o([c({type:jt})],os.prototype,"extent",void 0),o([c()],os.prototype,"filter",void 0),o([c()],os.prototype,"num",void 0),o([c()],os.prototype,"query",void 0),o([c()],os.prototype,"sortField",void 0),o([c()],os.prototype,"sortOrder",null),o([c()],os.prototype,"start",void 0),os=d0=o([I("esri.portal.PortalQueryParams")],os);const Qi=os;let jo=class extends wt{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};o([c()],jo.prototype,"nextQueryParams",void 0),o([c()],jo.prototype,"queryParams",void 0),o([c()],jo.prototype,"results",void 0),o([c()],jo.prototype,"total",void 0),jo=o([I("esri.portal.PortalQueryResult")],jo);const CP=jo;let Pi=class extends X{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new H("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};o([c({type:Date})],Pi.prototype,"created",void 0),o([c()],Pi.prototype,"id",void 0),o([c()],Pi.prototype,"portal",void 0),o([c()],Pi.prototype,"title",void 0),o([c({readOnly:!0})],Pi.prototype,"url",null),o([c()],Pi.prototype,"username",void 0),Pi=o([I("esri.portal.PortalFolder")],Pi);const AP=Pi;let Wt=class extends X{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(s=>s.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new H("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=ct(Qi,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new Qi,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Qi,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const i=new Qi;return i.disableExtraQuery=!0,i.num=1,i.query=s,this.portal.queryGroups(i,t)}throw new H("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],i=new Qi;return i.num=1,i.query=`typekeywords:"${e}"`,s.queryItems(i,t)}throw new H("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const i=s&&s.categorySchema;return i&&i.length?i:[]}):[])}};o([c()],Wt.prototype,"access",void 0),o([c({type:Date})],Wt.prototype,"created",void 0),o([c()],Wt.prototype,"description",void 0),o([c()],Wt.prototype,"id",void 0),o([c()],Wt.prototype,"isInvitationOnly",void 0),o([c({type:Date})],Wt.prototype,"modified",void 0),o([c()],Wt.prototype,"owner",void 0),o([c()],Wt.prototype,"portal",void 0),o([c()],Wt.prototype,"snippet",void 0),o([c()],Wt.prototype,"sortField",void 0),o([c()],Wt.prototype,"sortOrder",void 0),o([c()],Wt.prototype,"tags",void 0),o([c()],Wt.prototype,"thumbnail",void 0),o([c({readOnly:!0})],Wt.prototype,"thumbnailUrl",null),o([c()],Wt.prototype,"title",void 0),o([c({readOnly:!0})],Wt.prototype,"url",null),Wt=o([I("esri.portal.PortalGroup")],Wt);const p0=Wt;var RP=Object.freeze(Object.defineProperty({__proto__:null,default:p0},Symbol.toStringTag,{value:"Module"})),h0;let vt=h0=class extends X{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,s=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let n=this.userContentUrl;return s&&(n+="/"+(typeof s=="string"?s:s.id)),this.portal._request(n+"/addItem",i).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal._request(t,s).then(()=>{e.forEach(i=>{i.id=null,i.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let r;return r=t&&t.folders?t.folders.map(s=>{const i=AP.fromJSON(s);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const s=p0.fromJSON(r);return s.portal=this.portal,s}):[],t})}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),Promise.resolve().then(function(){return G4}).then(({default:s})=>{t=s;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:i})}).then(s=>{let i;return s&&s.items?(i=s.items.map(n=>{const a=t.fromJSON(n);return a.portal=this.portal,a}),Promise.all(i.map(n=>n.load())).catch(n=>n).then(()=>({items:i,nextStart:s.nextStart,total:s.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new p0({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new H("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new H("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new h0;return t.sourceJSON=e,t.read(e),t}};o([c()],vt.prototype,"access",void 0),o([c({type:Date})],vt.prototype,"created",void 0),o([c()],vt.prototype,"culture",void 0),o([c()],vt.prototype,"description",void 0),o([c()],vt.prototype,"email",void 0),o([c()],vt.prototype,"favGroupId",void 0),o([c()],vt.prototype,"fullName",void 0),o([c({type:Date})],vt.prototype,"modified",void 0),o([c()],vt.prototype,"orgId",void 0),o([c()],vt.prototype,"portal",void 0),o([c()],vt.prototype,"preferredView",void 0),o([c()],vt.prototype,"privileges",void 0),o([c()],vt.prototype,"region",void 0),o([c()],vt.prototype,"role",void 0),o([c()],vt.prototype,"roleId",void 0),o([c()],vt.prototype,"sourceJSON",void 0),o([c()],vt.prototype,"thumbnail",void 0),o([c({readOnly:!0})],vt.prototype,"thumbnailUrl",null),o([c()],vt.prototype,"units",void 0),o([c({readOnly:!0})],vt.prototype,"userContentUrl",null),o([c({readOnly:!0})],vt.prototype,"url",null),o([c()],vt.prototype,"username",void 0),o([c()],vt.prototype,"userType",void 0),vt=h0=o([I("esri.portal.PortalUser")],vt);const iw=vt;var PP=Object.freeze(Object.defineProperty({__proto__:null,default:iw},Symbol.toStringTag,{value:"Module"})),Ur;let im;const T3={PortalGroup:()=>Promise.resolve().then(function(){return RP}),PortalItem:()=>Promise.resolve().then(function(){return G4}),PortalUser:()=>Promise.resolve().then(function(){return PP})};let ae=Ur=class extends Wf(Nd){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Xe.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Xe.request.trustedServers.indexOf(t)===-1&&Xe.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return Jc(fe.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=iw.fromJSON(e),t.portal=this),t}load(e){const t=import("./Basemap.0bf4b68e.js").then(({default:r})=>{Hs(e),im=r}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(r=>{if(kt){const s=kt;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==Ur.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=s.on("credential-create",()=>{s.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){Ga(fe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(await import("./ClosestFacilityTask.5895f40f.js")).default(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await import("./ElevationLayer.60f455f9.js")).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async createGeometryService(){Ga(fe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(await import("./GeometryService.cfdaa760.js")).default({url:e})}async createPrintTask(){Ga(fe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(await import("./PrintTask.d162d983.js")).default(e)}async createRouteTask(){Ga(fe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(await import("./RouteTask.5a030918.js")).default(e)}async createServiceAreaTask(){Ga(fe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(await import("./ServiceAreaTask.82fd35a5.js")).default(e)}fetchBasemaps(e,t){const r=new Qi;return r.query=e||(Xe.apiKey&&rw(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(s=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',s.total){const i=s.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,t)}return null}).then(s=>{let i;return i=s&&s.total?s.results.filter(n=>n.type==="Web Map").map(n=>new im({portalItem:n})):[],i})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):io(e)?Promise.reject(ur()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Qi;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const i of t)s.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return io(e)?Promise.reject(ur()):Promise.resolve([])}fetchRegions(e){var t;const r=((t=this.user)==null?void 0:t.culture)||this.culture||Gs();return this._request(this.restUrl+"/portals/regions",Oe(z({},e),{query:{culture:r}}))}fetchSettings(e){var t;const r=((t=this.user)==null?void 0:t.culture)||this.culture||Gs();return this._request(this.restUrl+"/portals/self/settings",Oe(z({},e),{query:{culture:r}}))}static getDefault(){return Ur._default&&!Ur._default.destroyed||(Ur._default=new Ur),Ur._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new H("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ur({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new H("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new H("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i=z({authMode:e,query:{culture:Gs().toLowerCase()}},r);return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(s,i)}_queryPortal(e,t,r,s){const i=ct(Qi,t),n=a=>this._request(this.restUrl+e,z(z({},i.toRequestOptions(this)),s)).then(u=>{const d=i.clone();return d.start=u.nextStart,new CP({nextQueryParams:d,queryParams:i,total:u.total,results:Ur._resultsToTypedArray(a,{portal:this},u,s)})}).then(u=>Promise.all(u.results.map(d=>typeof d.when=="function"?d.when():u)).then(()=>u,d=>(Ql(d),u)));return r&&T3[r]?T3[r]().then(({default:a})=>(Hs(s),n(a))):n()}_signIn(){if(this.authMode===Ur.AUTH_MODE_ANONYMOUS)return Promise.reject(new H("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return kt?kt.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then(s=>{const i=Ur._resultsToTypedArray(r,{portal:this},s);return Promise.all(i.map(n=>typeof n.when=="function"?n.when():s)).then(()=>i,()=>i)})}_readBasemap(e){if(e){const t=im.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r=z({f:"json"},t.query),{authMode:s=this.authMode===Ur.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:i=null,cacheBust:n=!1,method:a="auto",responseType:u="json",signal:d}=t,p={authMode:s,body:i,cacheBust:n,method:a,query:r,responseType:u,timeout:0,signal:d};return $t(this._normalizeSSL(e),p).then(f=>f.data)}static _resultsToTypedArray(e,t,r,s){let i;if(r){const n=q(s)?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(a=>{const u=Object.assign(e?e.fromJSON(a):a,t);return typeof u.load=="function"&&u.load(n),u}))}else i=[];return i}};ae.AUTH_MODE_ANONYMOUS="anonymous",ae.AUTH_MODE_AUTO="auto",ae.AUTH_MODE_IMMEDIATE="immediate",o([c()],ae.prototype,"access",void 0),o([c()],ae.prototype,"allSSL",void 0),o([c()],ae.prototype,"authMode",void 0),o([c()],ae.prototype,"authorizedCrossOriginDomains",void 0),o([ce("authorizedCrossOriginDomains")],ae.prototype,"readAuthorizedCrossOriginDomains",null),o([c()],ae.prototype,"basemapGalleryGroupQuery",void 0),o([c()],ae.prototype,"bingKey",void 0),o([c()],ae.prototype,"canListApps",void 0),o([c()],ae.prototype,"canListData",void 0),o([c()],ae.prototype,"canListPreProvisionedItems",void 0),o([c()],ae.prototype,"canProvisionDirectPurchase",void 0),o([c()],ae.prototype,"canSearchPublic",void 0),o([c()],ae.prototype,"canShareBingPublic",void 0),o([c()],ae.prototype,"canSharePublic",void 0),o([c()],ae.prototype,"canSignInArcGIS",void 0),o([c()],ae.prototype,"canSignInIDP",void 0),o([c()],ae.prototype,"colorSetsGroupQuery",void 0),o([c()],ae.prototype,"commentsEnabled",void 0),o([c({type:Date})],ae.prototype,"created",void 0),o([c()],ae.prototype,"credential",void 0),o([c()],ae.prototype,"culture",void 0),o([c()],ae.prototype,"currentVersion",void 0),o([c()],ae.prototype,"customBaseUrl",void 0),o([c()],ae.prototype,"defaultBasemap",void 0),o([ce("defaultBasemap")],ae.prototype,"readDefaultBasemap",null),o([c()],ae.prototype,"defaultDevBasemap",void 0),o([ce("defaultDevBasemap")],ae.prototype,"readDefaultDevBasemap",null),o([c({type:jt})],ae.prototype,"defaultExtent",void 0),o([c()],ae.prototype,"defaultVectorBasemap",void 0),o([ce("defaultVectorBasemap")],ae.prototype,"readDefaultVectorBasemap",null),o([c()],ae.prototype,"description",void 0),o([c()],ae.prototype,"devBasemapGalleryGroupQuery",void 0),o([c()],ae.prototype,"eueiEnabled",void 0),o([c({readOnly:!0})],ae.prototype,"extraQuery",null),o([c()],ae.prototype,"featuredGroups",void 0),o([c()],ae.prototype,"featuredItemsGroupQuery",void 0),o([c()],ae.prototype,"galleryTemplatesGroupQuery",void 0),o([c()],ae.prototype,"livingAtlasGroupQuery",void 0),o([c()],ae.prototype,"hasCategorySchema",void 0),o([c()],ae.prototype,"helpBase",void 0),o([c()],ae.prototype,"helperServices",void 0),o([c()],ae.prototype,"helpMap",void 0),o([c()],ae.prototype,"homePageFeaturedContent",void 0),o([c()],ae.prototype,"homePageFeaturedContentCount",void 0),o([c()],ae.prototype,"httpPort",void 0),o([c()],ae.prototype,"httpsPort",void 0),o([c()],ae.prototype,"id",void 0),o([c()],ae.prototype,"ipCntryCode",void 0),o([c({readOnly:!0})],ae.prototype,"isOrganization",null),o([c()],ae.prototype,"isPortal",void 0),o([c()],ae.prototype,"isReadOnly",void 0),o([c()],ae.prototype,"layerTemplatesGroupQuery",void 0),o([c()],ae.prototype,"maxTokenExpirationMinutes",void 0),o([c({type:Date})],ae.prototype,"modified",void 0),o([c()],ae.prototype,"name",void 0),o([c()],ae.prototype,"portalHostname",void 0),o([c()],ae.prototype,"portalMode",void 0),o([c()],ae.prototype,"portalProperties",void 0),o([c()],ae.prototype,"region",void 0),o([c({readOnly:!0})],ae.prototype,"restUrl",null),o([c()],ae.prototype,"rotatorPanels",void 0),o([c()],ae.prototype,"showHomePageDescription",void 0),o([c()],ae.prototype,"sourceJSON",void 0),o([c()],ae.prototype,"staticImagesUrl",void 0),o([c({readOnly:!0,json:{read:!1}})],ae.prototype,"stylesGroupQuery",null),o([c({json:{name:"2DStylesGroupQuery"}})],ae.prototype,"stylesGroupQuery2d",void 0),o([c({json:{name:"stylesGroupQuery"}})],ae.prototype,"stylesGroupQuery3d",void 0),o([c()],ae.prototype,"supportsHostedServices",void 0),o([c()],ae.prototype,"symbolSetsGroupQuery",void 0),o([c()],ae.prototype,"templatesGroupQuery",void 0),o([c()],ae.prototype,"thumbnail",void 0),o([c({readOnly:!0})],ae.prototype,"thumbnailUrl",null),o([c()],ae.prototype,"units",void 0),o([c()],ae.prototype,"url",void 0),o([c()],ae.prototype,"urlKey",void 0),o([ce("urlKey")],ae.prototype,"readUrlKey",null),o([c()],ae.prototype,"user",void 0),o([ce("user")],ae.prototype,"readUser",null),o([c()],ae.prototype,"useStandardizedQuery",void 0),o([c()],ae.prototype,"useVectorBasemaps",void 0),o([c()],ae.prototype,"vectorBasemapGalleryGroupQuery",void 0),ae=Ur=o([I("esri.portal.Portal")],ae);const Ir=ae;fe.getLogger("esri.core.Clonable");const pn=e=>{let t=class extends e{clone(){const r=v$(mr(this),"unable to clone instance of non-accessor class"),s=r.metadatas,i=r.store,n={},a=new Map;for(const p in s){const f=s[p],y=i==null?void 0:i.originOf(p),v=f.clonable;if(f.readOnly||v===!1||y!==De.USER&&y!==De.DEFAULTS&&y!==De.WEB_MAP&&y!==De.WEB_SCENE)continue;const b=this[p];let $=null;$=typeof v=="function"?v(b):v==="reference"?b:Km(b),b!=null&&$==null||(y===De.DEFAULTS?a.set(p,$):n[p]=$)}const u=new(Object.getPrototypeOf(this)).constructor(n);if(a.size){var d;const p=(d=mr(u))==null?void 0:d.store;if(p)for(const[f,y]of a)p.set(f,y,De.DEFAULTS)}return u}};return t=o([I("esri.core.Clonable")],t),t};let j3=class extends pn(wt){};j3=o([I("esri.core.Clonable")],j3);let Co=class extends pn(X){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return q(e)&&e.placement===this.placement&&e.style===this.style&&(we(this.color)&&we(e.color)||q(this.color)&&q(e.color)&&this.color.toJSON()===e.color.toJSON())}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Co.prototype,"type",void 0),o([c({type:GR,json:{default:"begin-end",write:!0}})],Co.prototype,"placement",void 0),o([c({type:s5,json:{default:"arrow",write:!0}})],Co.prototype,"style",void 0),o([c({type:Ge,json:{type:[zt],default:null,write:!0}})],Co.prototype,"color",void 0),Co=o([I("esri.symbols.LineStyleMarker3D")],Co);const f0=Co;var ih;let oi=ih=class extends $i{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=on(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:q(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:q(this.pattern)?this.pattern.clone():null,marker:q(this.marker)?this.marker.clone():null};return new ih(e)}static fromSimpleLineSymbol(e){var t,r,s;const i={enabled:!0,size:(t=e.width)!=null?t:on(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new G1({style:e.style}):null,material:new ms({color:(e.color||Tc).clone()}),marker:e.marker?new f0({placement:e.marker.placement,style:e.marker.style,color:(r=(s=e.marker.color)==null?void 0:s.clone())!=null?r:null}):null};return new ih(i)}};o([c({type:ms,json:{write:!0}})],oi.prototype,"material",void 0),o([$e({Line:"line"},{readOnly:!0})],oi.prototype,"type",void 0),o([c({type:c5,json:{write:!0,default:"miter"}})],oi.prototype,"join",void 0),o([c({type:J1,json:{write:!0,default:"butt"}})],oi.prototype,"cap",void 0),o([c(_i)],oi.prototype,"size",void 0),o([c(l5)],oi.prototype,"pattern",void 0),o([c({types:{key:"type",base:f0,typeMap:{style:f0}},json:{write:!0}})],oi.prototype,"marker",void 0),oi=ih=o([I("esri.symbols.LineSymbol3DLayer")],oi);const su=oi;var y0;const FP=rr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Qu=y0=class extends X{clone(){return new y0({href:this.href,primitive:this.primitive})}};o([c({type:String,json:{read:ny,write:ao}})],Qu.prototype,"href",void 0),o([$e(FP)],Qu.prototype,"primitive",void 0),Qu=y0=o([I("esri.symbols.support.ObjectSymbol3DLayerResource")],Qu);var m0;let Yo=m0=class extends wt{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new m0({x:this.x,y:this.y,z:this.z})}};o([c({type:Number})],Yo.prototype,"x",void 0),o([c({type:Number})],Yo.prototype,"y",void 0),o([c({type:Number})],Yo.prototype,"z",void 0),Yo=m0=o([I("esri.symbols.support.Symbol3DAnchorPosition3D")],Yo);var g0;let dr=g0=class extends $i{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new g0({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:q(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};o([c({type:ms,json:{write:!0}})],dr.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],dr.prototype,"castShadows",void 0),o([c({type:Qu,json:{write:!0}})],dr.prototype,"resource",void 0),o([$e({Object:"object"},{readOnly:!0})],dr.prototype,"type",void 0),o([c({type:Number,json:{write:!0}})],dr.prototype,"width",void 0),o([c({type:Number,json:{write:!0}})],dr.prototype,"height",void 0),o([c({type:Number,json:{write:!0}})],dr.prototype,"depth",void 0),o([$e({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),c({json:{default:"origin"}})],dr.prototype,"anchor",void 0),o([c({type:Yo,json:{type:[Number],read:{reader:e=>new Yo({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],dr.prototype,"anchorPosition",void 0),o([c({type:Number,json:{write:!0}})],dr.prototype,"heading",void 0),o([c({type:Number,json:{write:!0}})],dr.prototype,"tilt",void 0),o([c({type:Number,json:{write:!0}})],dr.prototype,"roll",void 0),o([c({readOnly:!0})],dr.prototype,"isPrimitive",null),dr=g0=o([I("esri.symbols.ObjectSymbol3DLayer")],dr);const ay=dr;var v0;let _r=v0=class extends $i{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e!=null?e:t.height==null&&t.size!=null?t.size:void 0}readHeight(e,t){return e!=null?e:t.width==null&&t.size!=null?t.size:void 0}clone(){return new v0({enabled:this.enabled,material:q(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};o([c({type:ms,json:{write:!0}})],_r.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_r.prototype,"castShadows",void 0),o([$e({Path:"path"},{readOnly:!0})],_r.prototype,"type",void 0),o([c({type:["circle","quad"],json:{write:!0,default:"circle"}})],_r.prototype,"profile",void 0),o([c({type:c5,json:{write:!0,default:"miter"}})],_r.prototype,"join",void 0),o([c({type:m7,json:{write:!0,default:"butt"}})],_r.prototype,"cap",void 0),o([c({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],_r.prototype,"width",void 0),o([ce("width",["width","size","height"])],_r.prototype,"readWidth",null),o([c({type:Number,json:{write:!0}})],_r.prototype,"height",void 0),o([ce("height",["height","size","width"])],_r.prototype,"readHeight",null),o([c({type:["center","bottom","top"],json:{write:!0,default:"center"}})],_r.prototype,"anchor",void 0),o([c({type:["heading","all"],json:{write:!0,default:"all"}})],_r.prototype,"profileRotation",void 0),_r=v0=o([I("esri.symbols.PathSymbol3DLayer")],_r);const nw=_r;var b0;let gl=b0=class extends X{constructor(){super(...arguments),this.color=new Ge([0,0,0,1]),this.size=0}clone(){const e={color:D(this.color),size:this.size};return new b0(e)}};o([c(co)],gl.prototype,"color",void 0),o([c(_i)],gl.prototype,"size",void 0),gl=b0=o([I("esri.symbols.support.Symbol3DHalo")],gl);let Cc=class extends pn(X){constructor(e){super(e),this.color=null}};o([c(co)],Cc.prototype,"color",void 0),Cc=o([I("esri.symbols.support.Symbol3DTextBackground")],Cc);var nh;let kr=nh=class extends $i{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){q(e)&&q(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,s){const i=Oe(z({},s),{textSymbol3D:!0});t.font=e.write({},i),delete t.font.size}get size(){return q(this._userSize)?this._userSize:q(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,q(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new nh({enabled:this.enabled,font:this.font&&D(this.font),halo:this.halo&&D(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:q(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:D(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new nh({font:q(e.font)?e.font.clone():new ry,halo:LP(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ms({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Cc({color:e.backgroundColor.clone()}):null})}};function LP(e,t){return e&&t>0?new gl({color:D(e),size:t}):null}o([c({type:ry,json:{write:!0}})],kr.prototype,"font",null),o([ye("font")],kr.prototype,"writeFont",null),o([c({type:gl,json:{write:!0}})],kr.prototype,"halo",void 0),o([c(Oe(z({},x7),{json:{default:"center",write:!0}}))],kr.prototype,"horizontalAlignment",void 0),o([c(Oe(z({},d5),{json:{default:1,write:!0}}))],kr.prototype,"lineHeight",void 0),o([c({type:ms,json:{write:!0}})],kr.prototype,"material",void 0),o([c({type:Cc,json:{write:!0}})],kr.prototype,"background",void 0),o([c(_i)],kr.prototype,"size",null),o([c({type:String,json:{write:!0}})],kr.prototype,"text",void 0),o([$e({Text:"text"},{readOnly:!0})],kr.prototype,"type",void 0),o([c(Oe(z({},p5),{json:{default:"baseline",write:!0}}))],kr.prototype,"verticalAlignment",void 0),kr=nh=o([I("esri.symbols.TextSymbol3DLayer")],kr);const iu=kr;var w0;let Mn=w0=class extends $i{constructor(e){super(e),this.color=_0.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new w0({color:D(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};o([c({type:Ge,nonNullable:!0,json:{type:[zt],write:(e,t,r)=>t[r]=e.toArray(Ge.AlphaMode.UNLESS_OPAQUE),default:()=>_0.clone(),defaultEquals:e=>e.toCss(!0)===_0.toCss(!0)}})],Mn.prototype,"color",void 0),o([$e({Water:"water"},{readOnly:!0})],Mn.prototype,"type",void 0),o([c({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Mn.prototype,"waterbodySize",void 0),o([c({type:Number,json:{write:!0,default:null}})],Mn.prototype,"waveDirection",void 0),o([c({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Mn.prototype,"waveStrength",void 0),Mn=w0=o([I("esri.symbols.WaterSymbol3DLayer")],Mn);const _0=new Ge([0,119,190]),ow=Mn;var S0;let Ao=S0=class extends wt{constructor(){super(...arguments),this.portal=null}clone(){return new S0({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};o([c({type:String})],Ao.prototype,"name",void 0),o([c({type:String})],Ao.prototype,"styleUrl",void 0),o([c({type:String})],Ao.prototype,"styleName",void 0),o([c({type:Ir})],Ao.prototype,"portal",void 0),Ao=S0=o([I("esri.symbols.support.StyleOrigin")],Ao);const hf=Ao;var $0;let jl=$0=class extends wt{clone(){return new $0({url:this.url})}};o([c({type:String})],jl.prototype,"url",void 0),jl=$0=o([I("esri.symbols.support.Thumbnail")],jl);const R5={icon:Kn,object:ay,line:su,path:nw,fill:Pd,extrude:B1,text:iu,water:ow},NP=gt.ofType({base:$i,key:"type",typeMap:R5,errorContext:"symbol-layer"}),DP=fe.getLogger("esri.symbols.Symbol3D");let ai=class extends Er{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||gt;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.initialized&&DP.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){M5(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const s=Ca(e.styleUrl,r);return new hf({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new hf({portal:r&&r.portal||Ir.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new Nr("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,s){if(e.styleUrl&&e.name){let i=ru(e.styleUrl,s);Fr(i)&&(i=gs(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&s&&s.portal&&!g5(e.portal.restUrl,s.portal.restUrl)?s&&s.messages&&s.messages.push(new Nr("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof $i||e&&R5[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};o([c({json:{read:!1,write:!1}})],ai.prototype,"color",null),o([c({type:NP,nonNullable:!0,json:{write:!0}}),Tt(I5)],ai.prototype,"symbolLayers",null),o([c({type:hf})],ai.prototype,"styleOrigin",void 0),o([ce("styleOrigin")],ai.prototype,"readStyleOrigin",null),o([ye("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ai.prototype,"writeStyleOrigin",null),o([c({type:jl,json:{read:!1}})],ai.prototype,"thumbnail",void 0),o([c({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ai.prototype,"type",void 0),ai=o([I("esri.symbols.Symbol3D")],ai);const nu=ai;let Zu=class extends X{constructor(e){super(e),this.visible=!0}clone(){}};o([c({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Zu.prototype,"type",void 0),o([c({readOnly:!0})],Zu.prototype,"visible",void 0),Zu=o([I("esri.symbols.callouts.Callout3D")],Zu);const P5=Zu;var x0;let Ac=x0=class extends X{constructor(){super(...arguments),this.color=new Ge("white")}clone(){return new x0({color:D(this.color)})}};o([c(co)],Ac.prototype,"color",void 0),Ac=x0=o([I("esri.symbols.callouts.LineCallout3DBorder")],Ac);const F5=Ac;Object.freeze({__proto__:null,get LineCallout3DBorder(){return Ac},default:F5});var M0;let In=M0=class extends P5{constructor(e){super(e),this.type="line",this.color=new Ge([0,0,0,1]),this.size=on(1),this.border=null}get visible(){return this.size>0&&q(this.color)&&this.color.a>0}clone(){return new M0({color:D(this.color),size:this.size,border:D(this.border)})}};o([$e({line:"line"},{readOnly:!0})],In.prototype,"type",void 0),o([c(co)],In.prototype,"color",void 0),o([c(_i)],In.prototype,"size",void 0),o([c({type:F5,json:{write:!0}})],In.prototype,"border",void 0),o([c({readOnly:!0})],In.prototype,"visible",null),In=M0=o([I("esri.symbols.callouts.LineCallout3D")],In);const zP=In;function aw(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function L5(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!aw(e)}const N5={types:{key:"type",base:P5,typeMap:{line:zP}},json:{write:!0}};var I0;let Xo=I0=class extends X{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new I0({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};o([c(_i)],Xo.prototype,"screenLength",void 0),o([c({type:Number,json:{write:!0,default:0}})],Xo.prototype,"minWorldLength",void 0),o([c({type:Number,json:{write:!0}})],Xo.prototype,"maxWorldLength",void 0),Xo=I0=o([I("esri.symbols.support.Symbol3DVerticalOffset")],Xo);var oh;const D5=gt.ofType({base:null,key:"type",typeMap:{text:iu}});let En=oh=class extends nu{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new D5,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return L5(this)}hasVisibleVerticalOffset(){return aw(this)}clone(){return new oh({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail),callout:D(this.callout),verticalOffset:D(this.verticalOffset)})}static fromTextSymbol(e){return new oh({symbolLayers:[iu.fromTextSymbol(e)]})}};o([c({type:Xo,json:{write:!0}})],En.prototype,"verticalOffset",void 0),o([c(N5)],En.prototype,"callout",void 0),o([c({json:{read:!1,write:!1}})],En.prototype,"styleOrigin",void 0),o([c({type:D5})],En.prototype,"symbolLayers",void 0),o([$e({LabelSymbol3D:"label-3d"},{readOnly:!0})],En.prototype,"type",void 0),En=oh=o([I("esri.symbols.LabelSymbol3D")],En);const ly=En;var ah;const z5=gt.ofType({base:null,key:"type",typeMap:{line:su,path:nw}}),VP=gt.ofType({base:null,key:"type",typeMap:{line:su,path:nw}});let Yu=ah=class extends nu{constructor(e){super(e),this.symbolLayers=new z5,this.type="line-3d"}clone(){return new ah({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleLineSymbol(e){return new ah({symbolLayers:[su.fromSimpleLineSymbol(e)]})}};o([c({type:z5,json:{type:VP}})],Yu.prototype,"symbolLayers",void 0),o([$e({LineSymbol3D:"line-3d"},{readOnly:!0})],Yu.prototype,"type",void 0),Yu=ah=o([I("esri.symbols.LineSymbol3D")],Yu);const uy=Yu;let On=class extends Er{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};o([c({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],On.prototype,"angle",void 0),o([c({type:["simple-marker","picture-marker"],readOnly:!0})],On.prototype,"type",void 0),o([c({type:Number,cast:We,json:{write:!0}})],On.prototype,"xoffset",void 0),o([c({type:Number,cast:We,json:{write:!0}})],On.prototype,"yoffset",void 0),o([c({type:Number,cast:e=>e==="auto"?e:We(e),json:{write:!0}})],On.prototype,"size",void 0),On=o([I("esri.symbols.MarkerSymbol")],On);const V5=On;var E0;const U5=gt.ofType({base:null,key:"type",typeMap:{fill:Pd}});let Xu=E0=class extends nu{constructor(e){super(e),this.symbolLayers=new U5,this.type="mesh-3d"}clone(){return new E0({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}};o([c({type:U5})],Xu.prototype,"symbolLayers",void 0),o([$e({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Xu.prototype,"type",void 0),Xu=E0=o([I("esri.symbols.MeshSymbol3D")],Xu);const lw=Xu;function UP(e,t,r){return t.imageData?b5({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):q5(t.url,r)}function q5(e,t){return BP(t)&&!Fr(e)&&t.layer.parsedUrl?$a(t.layer.parsedUrl.path,"images",e):Ca(e,t)}function qP(e,t,r,s){if(po(e)){const i=Y1(e);t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&ao(r.url,t,"url",s)}else ao(e,t,"url",s)}const B5={json:{read:{source:["imageData","url"],reader:UP},write:{writer(e,t,r,s){qP(e,t,this.source,s)}}}},G5={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const s={};return t.imageData&&(s.imageData=t.imageData),t.contentType&&(s.contentType=t.contentType),t.url&&(s.url=q5(t.url,r)),s}}}};function BP(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var O0;let as=O0=class extends i5{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=We(r)),s!=null&&(i.height=We(s)),i}clone(){const e=new O0({color:D(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",D(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};o([$e({esriPFS:"picture-fill"},{readOnly:!0})],as.prototype,"type",void 0),o([c(B5)],as.prototype,"url",void 0),o([c({type:Number,json:{write:!0}})],as.prototype,"xscale",void 0),o([c({type:Number,json:{write:!0}})],as.prototype,"yscale",void 0),o([c({type:Number,cast:We,json:{write:!0}})],as.prototype,"width",void 0),o([c({type:Number,cast:We,json:{write:!0}})],as.prototype,"height",void 0),o([c({type:Number,cast:We,json:{write:!0}})],as.prototype,"xoffset",void 0),o([c({type:Number,cast:We,json:{write:!0}})],as.prototype,"yoffset",void 0),o([c(G5)],as.prototype,"source",void 0),as=O0=o([I("esri.symbols.PictureFillSymbol")],as);const H5=as;var k0;let Is=k0=class extends V5{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t!=null&&(s.width=We(t)),r!=null&&(s.height=We(r)),s}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new k0({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};o([c({json:{write:!1}})],Is.prototype,"color",void 0),o([$e({esriPMS:"picture-marker"},{readOnly:!0})],Is.prototype,"type",void 0),o([c(B5)],Is.prototype,"url",void 0),o([c(G5)],Is.prototype,"source",void 0),o([c({type:Number,cast:We,json:{write:!0}})],Is.prototype,"height",void 0),o([ce("height",["height","size"])],Is.prototype,"readHeight",null),o([c({type:Number,cast:We,json:{write:!0}})],Is.prototype,"width",void 0),o([c({json:{write:!1}})],Is.prototype,"size",void 0),Is=k0=o([I("esri.symbols.PictureMarkerSymbol")],Is);const ou=Is;var kn;const J5=gt.ofType({base:null,key:"type",typeMap:{icon:Kn,object:ay,text:iu}});let Ro=kn=class extends nu{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new J5,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return L5(this)}hasVisibleVerticalOffset(){return aw(this)}clone(){return new kn({verticalOffset:D(this.verticalOffset),callout:D(this.callout),styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new kn({symbolLayers:[Kn.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new kn({symbolLayers:[Kn.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var t,r;return((t=e.data)==null||(r=t.symbol)==null?void 0:r.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new kn({symbolLayers:[Kn.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new kn({symbolLayers:[Kn.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new kn({symbolLayers:[iu.fromTextSymbol(e)]})}};o([c({type:Xo,json:{write:!0}})],Ro.prototype,"verticalOffset",void 0),o([c(N5)],Ro.prototype,"callout",void 0),o([c({type:J5,json:{origins:{"web-scene":{write:!0}}}})],Ro.prototype,"symbolLayers",void 0),o([$e({PointSymbol3D:"point-3d"},{readOnly:!0})],Ro.prototype,"type",void 0),Ro=kn=o([I("esri.symbols.PointSymbol3D")],Ro);const ia=Ro;var ec;const W5=gt.ofType({base:null,key:"type",typeMap:{extrude:B1,fill:Pd,icon:Kn,line:su,object:ay,text:iu,water:ow}}),GP=gt.ofType({base:null,key:"type",typeMap:{extrude:B1,fill:Pd,icon:Kn,line:su,object:ay,water:ow}});let Za=ec=class extends nu{constructor(e){super(e),this.symbolLayers=new W5,this.type="polygon-3d"}writeSymbolLayers(e,t,r,s){const i=e.filter(n=>n.type!=="text");if(s&&s.messages&&i.length<e.length){const n=e.find(a=>a.type==="text");s.messages.push(new H("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:n}))}t[r]=i.map(n=>n.write({},s)).toArray()}clone(){return new ec({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromJSON(e){const t=new ec;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),s=t.symbolLayers.getItemAt(1);!s.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:q(s.material)?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new ec({symbolLayers:[Pd.fromSimpleFillSymbol(e)]})}};o([c({type:W5,json:{type:GP}})],Za.prototype,"symbolLayers",void 0),o([ye("web-scene","symbolLayers")],Za.prototype,"writeSymbolLayers",null),o([$e({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Za.prototype,"type",void 0),Za=ec=o([I("esri.symbols.PolygonSymbol3D")],Za);const Dd=Za;var T0;const nm=new Te({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Po=T0=class extends i5{constructor(...e){super(...e),this.color=new Ge([0,0,0,.25]),this.outline=new Xr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t&&(s.outline=t),r&&(s.color=r),s}clone(){return new T0({color:D(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};o([c()],Po.prototype,"color",void 0),o([c()],Po.prototype,"outline",void 0),o([$e({esriSFS:"simple-fill"},{readOnly:!0})],Po.prototype,"type",void 0),o([c({type:nm.apiValues,json:{read:nm.read,write:nm.write}})],Po.prototype,"style",void 0),Po=T0=o([I("esri.symbols.SimpleFillSymbol")],Po);const ho=Po;var j0;const om=new Te({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let li=j0=class extends V5{constructor(...e){super(...e),this.color=new Ge([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Xr}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=We(t)),r&&(i.outline=r),s&&(i.color=s),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new j0({angle:this.angle,color:D(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};o([c()],li.prototype,"color",void 0),o([ye("color")],li.prototype,"writeColor",null),o([$e({esriSMS:"simple-marker"},{readOnly:!0})],li.prototype,"type",void 0),o([c()],li.prototype,"size",void 0),o([c({type:om.apiValues,json:{read:om.read,write:om.write}})],li.prototype,"style",void 0),o([c({type:String,json:{write:!0}})],li.prototype,"path",null),o([c({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Xr}},json:{default:null,write:!0}})],li.prototype,"outline",void 0),li=j0=o([I("esri.symbols.SimpleMarkerSymbol")],li);const Aa=li;var C0;let St=C0=class extends Er{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new ry,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.text=e),t&&(s.font=t),r&&(s.color=r),s}writeLineWidth(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}castLineWidth(e){return We(e)}writeLineHeight(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}clone(){return new C0({angle:this.angle,backgroundColor:D(this.backgroundColor),borderLineColor:D(this.borderLineColor),borderLineSize:this.borderLineSize,color:D(this.color),font:this.font&&this.font.clone(),haloColor:D(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};o([c({type:Ge,json:{write:!0}})],St.prototype,"backgroundColor",void 0),o([c({type:Ge,json:{write:!0}})],St.prototype,"borderLineColor",void 0),o([c({type:Number,json:{write:!0}})],St.prototype,"borderLineSize",void 0),o([c({type:ry,json:{write:!0}})],St.prototype,"font",void 0),o([c(Oe(z({},$7),{json:{write:!0}}))],St.prototype,"horizontalAlignment",void 0),o([c({type:Boolean,json:{write:!0}})],St.prototype,"kerning",void 0),o([c({type:Ge,json:{write:!0}})],St.prototype,"haloColor",void 0),o([c({type:Number,cast:We,json:{write:!0}})],St.prototype,"haloSize",void 0),o([c({type:Boolean,json:{write:!0}})],St.prototype,"rightToLeft",void 0),o([c({type:Boolean,json:{write:!0}})],St.prototype,"rotated",void 0),o([c({type:String,json:{write:!0}})],St.prototype,"text",void 0),o([$e({esriTS:"text"},{readOnly:!0})],St.prototype,"type",void 0),o([c(Oe(z({},p5),{json:{write:!0}}))],St.prototype,"verticalAlignment",void 0),o([c({type:Number,cast:We,json:{write:!0}})],St.prototype,"xoffset",void 0),o([c({type:Number,cast:We,json:{write:!0}})],St.prototype,"yoffset",void 0),o([c({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],St.prototype,"angle",void 0),o([c({type:Number,json:{write:!0}})],St.prototype,"width",void 0),o([c({type:Number})],St.prototype,"lineWidth",void 0),o([ye("lineWidth")],St.prototype,"writeLineWidth",null),o([Tt("lineWidth")],St.prototype,"castLineWidth",null),o([c(d5)],St.prototype,"lineHeight",void 0),o([ye("lineHeight")],St.prototype,"writeLineHeight",null),St=C0=o([I("esri.symbols.TextSymbol")],St);const fo=St;var A0;const HP=fe.getLogger("esri.symbols.WebStyleSymbol");let ui=A0=class extends Er{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new A0({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=await JP();Hs(t);const s=r.resolveWebStyleSymbol(this,{portal:this.portal},e,t);return s.catch(i=>{HP.error("#fetchSymbol()","Failed to create symbol from style",i)}),s}};function JP(){return import("./webStyleSymbolUtils.f9d0a1c3.js")}o([c({json:{write:!1}})],ui.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],ui.prototype,"styleName",void 0),o([c({type:Ir,json:{write:!1}})],ui.prototype,"portal",void 0),o([c({type:String,json:{read:ny,write:ao}})],ui.prototype,"styleUrl",void 0),o([c({type:jl,json:{read:!1}})],ui.prototype,"thumbnail",void 0),o([c({type:String,json:{write:!0}})],ui.prototype,"name",void 0),o([$e({styleSymbolReference:"web-style"},{readOnly:!0})],ui.prototype,"type",void 0),ui=A0=o([I("esri.symbols.WebStyleSymbol")],ui);const Ra=ui;function WP(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function R0(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const to={base:Er,key:"type",typeMap:{"simple-fill":ho,"picture-fill":H5,"picture-marker":ou,"simple-line":Xr,"simple-marker":Aa,text:fo,"label-3d":ly,"line-3d":uy,"mesh-3d":lw,"point-3d":ia,"polygon-3d":Dd,"web-style":Ra,cim:Rd},errorContext:"symbol"},KP={base:Er,key:"type",typeMap:{"picture-marker":ou,"simple-marker":Aa,text:fo,"web-style":Ra,cim:Rd},errorContext:"symbol"},QP=xa({types:to}),uw={base:Er,key:"type",typeMap:{"simple-fill":ho,"picture-fill":H5,"picture-marker":ou,"simple-line":Xr,"simple-marker":Aa,text:fo,"line-3d":uy,"mesh-3d":lw,"point-3d":ia,"polygon-3d":Dd,"web-style":Ra,cim:Rd},errorContext:"symbol"},ZP={base:Er,key:"type",typeMap:{text:fo,"label-3d":ly},errorContext:"symbol"},C3={base:Er,key:"type",typeMap:{"line-3d":uy,"mesh-3d":lw,"point-3d":ia,"polygon-3d":Dd,"web-style":Ra,cim:Rd},errorContext:"symbol"},YP={base:Er,key:"type",typeMap:{"label-3d":ly},errorContext:"symbol"},K5=wi(to);var P0;let tc=P0=class extends X{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new P0({minValue:this.minValue,maxValue:this.maxValue})}};o([c({type:Number,json:{write:!0}})],tc.prototype,"minValue",void 0),o([c({type:Number,json:{write:!0}})],tc.prototype,"maxValue",void 0),tc=P0=o([I("esri.renderer.support.AuthoringInfoClassBreakInfo")],tc);const XP=tc;var F0;let Fo=F0=class extends X{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new F0({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:D(this.classBreakInfos)})}};o([c({type:String,json:{write:!0}})],Fo.prototype,"field",void 0),o([c({type:String,json:{write:!0}})],Fo.prototype,"normalizationField",void 0),o([c({type:String,json:{write:!0}})],Fo.prototype,"label",void 0),o([c({type:[XP],json:{write:!0}})],Fo.prototype,"classBreakInfos",void 0),Fo=F0=o([I("esri.renderers.support.AuthoringInfoFieldInfo")],Fo);const A3=Fo;var L0;const hp=new Te({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),fp=new Te({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),R3={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},P3=["high-to-low","above-and-below","centered-on","extremes"],F3=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],L3=["seconds","minutes","hours","days","months","years"];let Tr=L0=class extends X{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new L0({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};o([c({types:R3,json:{write:!0}})],Tr.prototype,"endTime",void 0),o([Tt("endTime")],Tr.prototype,"castEndTime",null),o([c({type:String,json:{write:!0}})],Tr.prototype,"field",void 0),o([c({type:Number,json:{write:!0}})],Tr.prototype,"maxSliderValue",void 0),o([c({type:Number,json:{write:!0}})],Tr.prototype,"minSliderValue",void 0),o([c({types:R3,json:{write:!0}})],Tr.prototype,"startTime",void 0),o([Tt("startTime")],Tr.prototype,"castStartTime",null),o([c({type:hp.apiValues,value:null,json:{type:hp.jsonValues,read:hp.read,write:hp.write}})],Tr.prototype,"style",null),o([c({type:F3,value:null,json:{type:F3,origins:{"web-scene":{type:P3,write:{writer:(e,t)=>{P3.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],Tr.prototype,"theme",null),o([c({type:fp.apiValues,json:{type:fp.jsonValues,read:fp.read,write:fp.write}})],Tr.prototype,"type",void 0),o([c({type:L3,json:{type:L3,write:!0}})],Tr.prototype,"units",void 0),Tr=L0=o([I("esri.renderers.support.AuthoringInfoVisualVariable")],Tr);const eF=Tr;let lh=class extends X{constructor(e){super(e),this.type=null}};o([c({readOnly:!0,json:{read:!1,write:!0}})],lh.prototype,"type",void 0),lh=o([I("esri.rest.support.ColorRamp")],lh);const cw=lh;var N0;let Lo=N0=class extends cw{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new N0({fromColor:D(this.fromColor),toColor:D(this.toColor),algorithm:this.algorithm})}};o([$e({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Lo.prototype,"algorithm",void 0),o([c({type:Ge,json:{type:[zt],write:!0}})],Lo.prototype,"fromColor",void 0),o([c({type:Ge,json:{type:[zt],write:!0}})],Lo.prototype,"toColor",void 0),o([c({type:["algorithmic"]})],Lo.prototype,"type",void 0),Lo=N0=o([I("esri.rest.support.AlgorithmicColorRamp")],Lo);const dw=Lo;var D0;let rc=D0=class extends cw{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new D0({colorRamps:D(this.colorRamps)})}};o([c({type:[dw],json:{write:!0}})],rc.prototype,"colorRamps",void 0),o([c({type:["multipart"]})],rc.prototype,"type",void 0),rc=D0=o([I("esri.rest.support.MultipartColorRamp")],rc);const pw=rc,Q5={key:"type",base:cw,typeMap:{algorithmic:dw,multipart:pw}};function Z5(e){return e&&e.type?e.type==="algorithmic"?dw.fromJSON(e):e.type==="multipart"?pw.fromJSON(e):null:null}var z0;const bo=new Te({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),yp=new Te({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),N3=new Te({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),D3=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],tF=["high-to-low","above-and-below","above","below","90-10"],rF=["flow-line","wave-front"],sF=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Lt=z0=class extends X{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return Z5(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new z0({classificationMethod:this.classificationMethod,colorRamp:D(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:D(this.field1),field2:D(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};o([c({type:bo.apiValues,value:null,json:{type:bo.jsonValues,read:bo.read,write:bo.write,origins:{"web-document":{default:"manual",type:bo.jsonValues,read:bo.read,write:bo.write}}}})],Lt.prototype,"classificationMethod",null),o([c({types:Q5,json:{write:!0}})],Lt.prototype,"colorRamp",void 0),o([ce("colorRamp")],Lt.prototype,"readColorRamp",null),o([c({type:[String],value:null,json:{write:!0}})],Lt.prototype,"fields",null),o([c({type:A3,value:null,json:{write:!0}})],Lt.prototype,"field1",null),o([c({type:A3,value:null,json:{write:!0}})],Lt.prototype,"field2",null),o([c({type:rF,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"flowTheme",null),o([c({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Lt.prototype,"focus",null),o([c({type:Number,value:null,json:{type:zt,write:!0}})],Lt.prototype,"numClasses",null),o([c({type:D3,json:{type:D3,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Lt.prototype,"lengthUnit",void 0),o([c({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Lt.prototype,"maxSliderValue",void 0),o([c({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Lt.prototype,"minSliderValue",void 0),o([c({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Lt.prototype,"statistics",null),o([c({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Lt.prototype,"standardDeviationInterval",null),o([c({type:yp.apiValues,value:null,json:{type:yp.jsonValues,read:yp.read,write:yp.write,origins:{"web-scene":{type:N3.jsonValues,write:{writer:N3.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Lt.prototype,"type",null),o([c({type:[eF],json:{write:!0}})],Lt.prototype,"visualVariables",void 0),o([c({type:sF,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"univariateSymbolStyle",null),o([c({type:tF,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"univariateTheme",null),Lt=z0=o([I("esri.renderers.support.AuthoringInfo")],Lt);const Y5=Lt,am=new Te({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let sc=class extends X{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};o([c({type:Y5,json:{write:!0}})],sc.prototype,"authoringInfo",void 0),o([c({type:am.apiValues,readOnly:!0,json:{type:am.jsonValues,read:!1,write:{writer:am.write,ignoreOrigin:!0}}})],sc.prototype,"type",void 0),sc=o([I("esri.renderers.Renderer")],sc);const yo=sc;var V0;let uh=V0=class extends X{constructor(){super(...arguments),this.title=null}clone(){return new V0({title:this.title})}};o([c({type:String,json:{write:!0}})],uh.prototype,"title",void 0),uh=V0=o([I("esri.renderers.support.LegendOptions")],uh);const cy=uh;var U0;let ch=U0=class extends cy{constructor(){super(...arguments),this.showLegend=null}clone(){return new U0({title:this.title,showLegend:this.showLegend})}};o([c({type:Boolean,json:{write:!0}})],ch.prototype,"showLegend",void 0),ch=U0=o([I("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],ch);const X5=ch,iF=fe.getLogger("esri.renderers.visualVariables.VisualVariable"),lm=new Te({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Es=class extends X{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(iF.error(".field: field must be a string value"),null):Ed(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};o([c()],Es.prototype,"index",void 0),o([c({type:lm.apiValues,readOnly:!0,json:{read:lm.read,write:lm.write}})],Es.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Es.prototype,"field",void 0),o([Tt("field")],Es.prototype,"castField",null),o([c({type:String,json:{write:!0}})],Es.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Es.prototype,"valueExpressionTitle",void 0),o([c({readOnly:!0})],Es.prototype,"arcadeRequired",null),o([c({type:X5,json:{write:!0}})],Es.prototype,"legendOptions",void 0),Es=o([I("esri.renderers.visualVariables.VisualVariable")],Es);const zd=Es;var q0;let No=q0=class extends X{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e==null?0:e}clone(){return new q0({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};o([c({type:Ge,json:{type:[zt],write:!0}})],No.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],No.prototype,"label",void 0),o([c({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],No.prototype,"value",void 0),o([ye("value")],No.prototype,"writeValue",null),No=q0=o([I("esri.renderers.visualVariables.support.ColorStop")],No);const e6=No;var B0;let Do=B0=class extends zd{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new B0({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],Do.prototype,"cache",null),o([c({type:["color"],json:{type:["colorInfo"]}})],Do.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Do.prototype,"normalizationField",void 0),o([c({type:[e6],json:{write:!0}})],Do.prototype,"stops",null),Do=B0=o([I("esri.renderers.visualVariables.ColorVariable")],Do);const t6=Do;var G0;let Tn=G0=class extends X{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return od(t.transparency)}writeOpacity(e,t,r){t[r]=r5(e)}clone(){return new G0({label:this.label,opacity:this.opacity,value:this.value})}};o([c({type:String,json:{write:!0}})],Tn.prototype,"label",void 0),o([c({type:Number,json:{type:zt,write:{target:"transparency"}}})],Tn.prototype,"opacity",void 0),o([ce("opacity",["transparency"])],Tn.prototype,"readOpacity",null),o([ye("opacity")],Tn.prototype,"writeOpacity",null),o([c({type:Number,json:{write:!0}})],Tn.prototype,"value",void 0),Tn=G0=o([I("esri.renderers.visualVariables.support.OpacityStop")],Tn);const nF=Tn;var H0;let zo=H0=class extends zd{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new H0({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],zo.prototype,"cache",null),o([c({type:["opacity"],json:{type:["transparencyInfo"]}})],zo.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],zo.prototype,"normalizationField",void 0),o([c({type:[nF],json:{write:!0}})],zo.prototype,"stops",null),zo=H0=o([I("esri.renderers.visualVariables.OpacityVariable")],zo);const r6=zo;var J0;let Fi=J0=class extends zd{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,s){if(s&&s.messages){const i=`visualVariables[${this.index}]`;s.messages.push(new H("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:s}))}}clone(){return new J0({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};o([c({readOnly:!0})],Fi.prototype,"cache",null),o([c({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Fi.prototype,"axis",void 0),o([c({type:["rotation"],json:{type:["rotationInfo"]}})],Fi.prototype,"type",void 0),o([c({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Fi.prototype,"rotationType",void 0),o([c({type:String,json:{write:!0}})],Fi.prototype,"valueExpressionTitle",void 0),o([ye("web-scene","valueExpressionTitle")],Fi.prototype,"writeValueExpressionTitleWebScene",null),Fi=J0=o([I("esri.renderers.visualVariables.RotationVariable")],Fi);const hw=Fi;var W0;let Ya=W0=class extends X{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new W0({label:this.label,size:this.size,value:this.value})}};o([c({type:String,json:{write:!0}})],Ya.prototype,"label",void 0),o([c({type:Number,cast:We,json:{write:!0}})],Ya.prototype,"size",void 0),o([c({type:Number,json:{write:!0}})],Ya.prototype,"value",void 0),Ya=W0=o([I("esri.renderers.visualVariables.support.SizeStop")],Ya);const oF=Ya;var K0;let dh=K0=class extends X5{constructor(){super(...arguments),this.customValues=null}clone(){return new K0({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};o([c({type:[Number],json:{write:!0}})],dh.prototype,"customValues",void 0),dh=K0=o([I("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],dh);const aF=dh;var Xi,Qt;function na(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function ld(e){return e!=null&&!isNaN(e)&&isFinite(e)}function s6(e){return e.valueExpression?Xi.Expression:e.field&&typeof e.field=="string"?Xi.Field:Xi.Unknown}function lF(e,t){const r=t||s6(e),s=e.valueUnit||"unknown";return r===Xi.Unknown?Qt.Constant:e.stops?Qt.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Qt.ClampedLinear:s==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Qt.Proportional:Qt.Additive:Qt.Identity:Qt.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(Xi||(Xi={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Qt||(Qt={}));function uF(e){if(!e)return null;const t={};for(const r in e){const s=Yr(e[r]);s&&(t[r]=s)}return Object.keys(t).length!==0?t:null}function cF(e){if(!q(e))return null;const t={};for(const r in e){const s=e[r];s&&(t[r]=s.toJSON())}return Object.keys(t).length!==0?t:null}let jr=class extends pn(X){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Ml(),configurable:!0})}normalizeCtorArgs(e,t,r,s){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:s}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&q(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:cF(this.aggregateGeometries),geometry:q(this.geometry)?this.geometry.toJSON():null,symbol:q(this.symbol)?this.symbol.toJSON():null,attributes:z({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){q(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,r,s){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="attributes"&&(i.attributeName=s),this.layer.graphicChanged(i)}};o([c({value:null,json:{read:uF}})],jr.prototype,"aggregateGeometries",null),o([c({value:null})],jr.prototype,"attributes",null),o([c({value:null,types:Ia,json:{read:Yr}})],jr.prototype,"geometry",null),o([c({type:Boolean})],jr.prototype,"isAggregate",void 0),o([c({clonable:"reference"})],jr.prototype,"layer",void 0),o([c({type:Oa})],jr.prototype,"popupTemplate",void 0),o([c({clonable:"reference"})],jr.prototype,"sourceLayer",void 0),o([c({value:null,types:to})],jr.prototype,"symbol",null),o([c({type:Boolean,value:!0})],jr.prototype,"visible",null),jr=o([I("esri.Graphic")],jr),function(e){e.generateUID=Ml}(jr||(jr={}));const an=jr;function dF(e){}function fw(e){return new ze({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const i6=fw(Zr),ff=fw(Td),yf=fw(jd),pF=new ze({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Zr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function hF(e){return e&&(Kf(e)||e===ff)?ff:e&&(Qf(e)||e===yf)?yf:i6}function fF(e){return e&&(Kf(e)||e===ff)?Td:e&&(Qf(e)||e===yf)?jd:Zr}function yF(e){return u1(e)?Td:c1(e)?jd:Zr}const n6=39.37,mF=Zr.radius*Math.PI/200,o6=/UNIT\[([^\]]+)\]\]$/i,pa=w,a6=/UNIT\[([^\]]+)\]/i,gF=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),vF=rr()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),ei=e=>e*e,bn=e=>e*e*e,ud={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ei(.001)},"square-centimeters":{inBaseUnits:ei(.01)},"square-decimeters":{inBaseUnits:ei(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ei(1e3)},"square-inches":{inBaseUnits:ei(.0254)},"square-feet":{inBaseUnits:ei(.3048)},"square-yards":{inBaseUnits:ei(.9144)},"square-miles":{inBaseUnits:ei(1609.344)},"square-us-feet":{inBaseUnits:ei(1200/3937)},acres:{inBaseUnits:.0015625*ei(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*bn(.001)},"cubic-centimeters":{inBaseUnits:1e3*bn(.01)},"cubic-decimeters":{inBaseUnits:1e3*bn(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*bn(1e3)},"cubic-inches":{inBaseUnits:1e3*bn(.0254)},"cubic-feet":{inBaseUnits:1e3*bn(.3048)},"cubic-yards":{inBaseUnits:1e3*bn(.9144)},"cubic-miles":{inBaseUnits:1e3*bn(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},bF=function(){const e={};for(const t in ud)for(const r in ud[t].units)e[r]=t;return e}();function wF(e,t,r){return e*ud[r].units[t].inBaseUnits}function _F(e,t,r){return e/ud[r].units[t].inBaseUnits}function Q0(e){const t=bF[e];if(t)return t;throw new Error("unknown type")}function z3(e,t=null){return t=t||Q0(e),ud[t].baseUnit===e}function Hr(e,t,r){if(t===r)return e;const s=Q0(t);if(s!==Q0(r))throw new Error("incompatible units");const i=z3(t,s)?e:wF(e,t,s);return z3(r,s)?i:_F(i,r,s)}function SF(e,t,r){return Hr(e,t,"meters")/(r*Math.PI/180)}function l6(e){return vF.fromJSON(e.toLowerCase())||null}function cd(e){if(e&&typeof e=="object"&&!BC(e))return 1;const t=au(e);return t>1e5?1:t}function $F(e){return au(e)>=(e instanceof ze?fF(e).metersPerDegree:1e5)?"meters":d6(e)}function au(e,t=Zr.metersPerDegree){return u6(e,!0)||t}function u6(e,t=!1){let r,s,i=null;if(e!=null&&(typeof e=="object"?(r=e.wkid,s=e.wkt):typeof e=="number"?r=e:typeof e=="string"&&(s=e)),r){if(u1(r))return Td.metersPerDegree;if(c1(r))return jd.metersPerDegree;i=pa.values[pa[r]],!i&&t&&gF.has(r)&&(i=mF)}else s&&(h6(s)?i=V3(o6.exec(s),i):p6(s)&&(i=V3(a6.exec(s),i)));return i}function V3(e,t){return e&&e[1]?c6(e[1]):t}function c6(e){return parseFloat(e.split(",")[1])}function d6(e){let t,r,s=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,r=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(r=e)),t)s=pa.units[pa[t]];else if(r){const i=h6(r)?o6:p6(r)?a6:null;if(i){const n=i.exec(r);n&&n[1]&&(s=MF(n[1]))}}return q(s)?l6(s):null}function p6(e){return/^GEOCCS/i.test(e)}function h6(e){return/^PROJCS/i.test(e)}const xF=1e-7;function MF(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||pa.units.indexOf(r)===-1){const s=c6(e);r=null;const i=pa.values;for(let n=0;n<i.length;++n)if(Math.abs(s-i[n])<xF){r=pa.units[n];break}}return r}const f6={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},y6={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},IF=rr()(f6),EF=rr()(y6);rr()(z(z({},f6),y6));const m6={inches:Hr(1,"meters","inches"),feet:Hr(1,"meters","feet"),"us-feet":Hr(1,"meters","us-feet"),yards:Hr(1,"meters","yards"),miles:Hr(1,"meters","miles"),"nautical-miles":Hr(1,"meters","nautical-miles"),millimeters:Hr(1,"meters","millimeters"),centimeters:Hr(1,"meters","centimeters"),decimeters:Hr(1,"meters","decimeters"),meters:Hr(1,"meters","meters"),kilometers:Hr(1,"meters","kilometers"),"decimal-degrees":1/SF(1,"meters",Zr.radius)},lo=fe.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),U3=new an,ph=Math.PI,OF=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function kF(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find($=>$.type==="color"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void lo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const i=typeof t=="number",n=i?null:t,a=n&&n.attributes;let u=i?t:null;const d=s.field,{ipData:p,hasExpression:f}=s.cache;let y=s.cache.compiledFunc;if(!d&&!f){const $=s.stops;return $&&$[0]&&$[0].color}if(typeof u!="number")if(f){if(!q(r)||!q(r.arcade))return void lo.error("Use of arcade expressions requires an arcade context");const $={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},k=r.arcade.arcadeUtils,E=k.getViewInfo($),P=k.createExecContext(n,E);if(!y){const Q=k.createSyntaxTree(s.valueExpression);y=k.createFunction(Q),s.cache.compiledFunc=y}u=k.executeFunction(y,P)}else a&&(u=a[d]);const v=s.normalizationField,b=a?parseFloat(a[v]):void 0;if(u!=null&&(!v||i||!isNaN(b)&&b!==0)){isNaN(b)||i||(u/=b);const $=mw(u,p);if($){const k=$[0],E=$[1],P=k===E?s.stops[k].color:Ge.blendColors(s.stops[k].color,s.stops[E].color,$[2],q(r)?r.color:void 0);return new Ge(P)}}}function TF(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find($=>$.type==="opacity"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void lo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const i=typeof t=="number",n=i?null:t,a=n&&n.attributes;let u=i?t:null;const d=s.field,{ipData:p,hasExpression:f}=s.cache;let y=s.cache.compiledFunc;if(!d&&!f){const $=s.stops;return $&&$[0]&&$[0].opacity}if(typeof u!="number")if(f){if(we(r)||we(r.arcade))return void lo.error("Use of arcade expressions requires an arcade context");const $={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},k=r.arcade.arcadeUtils,E=k.getViewInfo($),P=k.createExecContext(n,E);if(!y){const Q=k.createSyntaxTree(s.valueExpression);y=k.createFunction(Q),s.cache.compiledFunc=y}u=k.executeFunction(y,P)}else a&&(u=a[d]);const v=s.normalizationField,b=a?parseFloat(a[v]):void 0;if(u!=null&&(!v||i||!isNaN(b)&&b!==0)){isNaN(b)||i||(u/=b);const $=mw(u,p);if($){const k=$[0],E=$[1];if(k===E)return s.stops[k].opacity;{const P=s.stops[k].opacity;return P+(s.stops[E].opacity-P)*$[2]}}}}function jF(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="rotation"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void lo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const i=s.axis||"heading",n=i==="heading"&&s.rotationType==="arithmetic"?90:0,a=i==="heading"&&s.rotationType==="arithmetic"?-1:1,u=typeof t=="number"?null:t,d=u&&u.attributes,p=s.field,{hasExpression:f}=s.cache;let y=s.cache.compiledFunc,v=0;if(!p&&!f)return v;if(f){if(we(r)||we(r.arcade))return void lo.error("Use of arcade expressions requires an arcade context");const b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},$=r.arcade.arcadeUtils,k=$.getViewInfo(b),E=$.createExecContext(u,k);if(!y){const P=$.createSyntaxTree(s.valueExpression);y=$.createFunction(P),s.cache.compiledFunc=y}v=$.executeFunction(y,E)}else d&&(v=d[p]||0);return v=typeof v!="number"||isNaN(v)?null:n+a*v,v}function CF(e,t,r){const s=typeof t=="number",i=s?null:t,n=i&&i.attributes;let a=s?t:null;const{isScaleDriven:u}=e.cache;let d=e.cache.compiledFunc;if(u){const f=q(r)?r.scale:void 0,y=q(r)?r.view:void 0;a=f==null||y==="3d"?AF(e):f}else if(!s)switch(e.inputValueType){case Xi.Expression:{if(we(r)||we(r.arcade))return void lo.error("Use of arcade expressions requires an arcade context");const f={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(f),b=y.createExecContext(i,v);if(!d){const $=y.createSyntaxTree(e.valueExpression);d=y.createFunction($),e.cache.compiledFunc=d}a=y.executeFunction(d,b);break}case Xi.Field:n&&(a=n[e.field]);break;case Xi.Unknown:a=null}if(!ld(a))return null;if(s||!e.normalizationField)return a;const p=n?parseFloat(n[e.normalizationField]):null;return ld(p)&&p!==0?a/p:null}function AF(e){let t=null,r=null;const s=e.stops;return s?(t=s[0].value,r=s[s.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function yw(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(n=>n.type==="size"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void lo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const i=zF(CF(s,t,r),s,t,r,s.cache.ipData);return i==null||isNaN(i)?0:i}function Kr(e,t,r){return e==null?null:na(e)?yw(e,t,r):ld(e)?e:null}function g6(e,t,r){return ld(r)&&e>r?r:ld(t)&&e<t?t:e}function RF(e,t,r,s){return e+(Kr(t.minSize,r,s)||t.minDataValue)}function PF(e,t,r){const s=e.stops;let i=s&&s.length&&s[0].size;return i==null&&(i=e.minSize),Kr(i,t,r)}function FF(e,t,r,s){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=Kr(t.minSize,r,s),a=Kr(t.maxSize,r,s),u=q(s)?s.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return a;if(t.scaleBy==="area"&&u){const d=u==="circle",p=d?ph*(n/2)**2:n*n,f=p+i*((d?ph*(a/2)**2:a*a)-p);return d?2*Math.sqrt(f/ph):Math.sqrt(f)}return n+i*(a-n)}function LF(e,t,r,s){const i=q(s)?s.shape:void 0,n=e/t.minDataValue,a=Kr(t.minSize,r,s),u=Kr(t.maxSize,r,s);let d=null;return d=i==="circle"?2*Math.sqrt(n*(a/2)**2):i==="square"||i==="diamond"||i==="image"?Math.sqrt(n*a**2):n*a,g6(d,a,u)}function NF(e,t,r,s,i){const[n,a,u]=mw(e,i);if(n===a)return Kr(t.stops[n].size,r,s);{const d=Kr(t.stops[n].size,r,s);return d+(Kr(t.stops[a].size,r,s)-d)*u}}function DF(e,t,r,s){const i=(q(s)&&s.resolution?s.resolution:1)*m6[t.valueUnit],n=Kr(t.minSize,r,s),a=Kr(t.maxSize,r,s),{valueRepresentation:u}=t;let d=null;return d=u==="area"?2*Math.sqrt(e/ph)/i:u==="radius"||u==="distance"?2*e/i:e/i,g6(d,n,a)}function zF(e,t,r,s,i){switch(t.transformationType){case Qt.Additive:return RF(e,t,r,s);case Qt.Constant:return PF(t,r,s);case Qt.ClampedLinear:return FF(e,t,r,s);case Qt.Proportional:return LF(e,t,r,s);case Qt.Stops:return NF(e,t,r,s,i);case Qt.RealWorldSize:return DF(e,t,r,s);case Qt.Identity:return e;case Qt.Unknown:return null}}function VF(e,t,r){const{isScaleDriven:s}=e.cache;if(!(s&&r==="3d"||t))return null;const i={scale:t,view:r};let n=Kr(e.minSize,U3,i),a=Kr(e.maxSize,U3,i);if(n!=null||a!=null){if(n>a){const u=a;a=n,n=u}return{minSize:n,maxSize:a}}}function mw(e,t){if(!t)return;let r=0,s=t.length-1;return t.some((i,n)=>e<i?(s=n,!0):(r=n,!1)),[r,s,(e-t[r])/(t[s]-t[r])]}function UF(e,t,r){const s=["proportional","proportional","proportional"];for(const i of e){const n=i.useSymbolValue?"symbol-value":yw(i,t,r);switch(i.axis){case"width":s[0]=n;break;case"depth":s[1]=n;break;case"height":s[2]=n;break;case"width-and-depth":s[0]=n,s[1]=n;break;case"all":case void 0:case null:s[0]=n,s[1]=n,s[2]=n;break;default:i.axis}}return s}var Z0;const Ua=fe.getLogger("esri.renderers.visualVariables.SizeVariable"),mp=new Te({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),Y0=new Te({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function q3(e){if(e!=null)return typeof e=="string"||typeof e=="number"?We(e):e.type==="size"?na(e)?e:(delete(e=z({},e)).type,new Je(e)):void 0}function B3(e,t,r){if(typeof e!="object")return e;const s=new Je;return s.read(e,r),s}let Je=Z0=class extends zd{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:OF.test(this.valueExpression)}}set expression(e){Ua.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){na(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),na(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return s6(this)}set maxDataValue(e){e&&this.stops&&(Ua.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Ua.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return q3(e)}readMaxSize(e,t,r){return B3(e,t,r)}set minDataValue(e){e&&this.stops&&(Ua.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Ua.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return q3(e)}readMinSize(e,t,r){return B3(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(Ua.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return lF(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,s){if(e==="$view.scale"){if(s&&s.messages){const i=this.index,n=typeof i=="string"?i:`visualVariables[${i}]`;s.messages.push(new H("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:s}))}}else t[r]=e}readValueUnit(e){return e?Y0.read(e):null}clone(){return new Z0({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:na(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:na(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===Qt.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Qt.Stops){const e=this.stops,t=e.map(s=>s.size).reverse(),r=e.length;for(let s=0;s<r;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],Je.prototype,"cache",null),o([c({type:mp.apiValues,json:{type:mp.jsonValues,origins:{"web-map":{read:!1}},read:mp.read,write:mp.write}})],Je.prototype,"axis",void 0),o([c({type:String,value:null,json:{read:!1}})],Je.prototype,"expression",null),o([c()],Je.prototype,"index",null),o([c({type:String,readOnly:!0})],Je.prototype,"inputValueType",null),o([c({type:aF,json:{write:!0}})],Je.prototype,"legendOptions",void 0),o([c({type:Number,value:null,json:{write:!0}})],Je.prototype,"maxDataValue",null),o([c({type:Number,value:null,json:{write:!0}})],Je.prototype,"maxSize",null),o([Tt("maxSize")],Je.prototype,"castMaxSize",null),o([ce("maxSize")],Je.prototype,"readMaxSize",null),o([c({type:Number,value:null,json:{write:!0}})],Je.prototype,"minDataValue",null),o([c({type:Number,value:null,json:{write:!0}})],Je.prototype,"minSize",null),o([Tt("minSize")],Je.prototype,"castMinSize",null),o([ce("minSize")],Je.prototype,"readMinSize",null),o([c({type:String,json:{write:!0}})],Je.prototype,"normalizationField",void 0),o([c({readOnly:!0})],Je.prototype,"arcadeRequired",null),o([c({type:String})],Je.prototype,"scaleBy",void 0),o([c({type:[oF],value:null,json:{write:!0}})],Je.prototype,"stops",null),o([c({type:["outline"],json:{write:!0}})],Je.prototype,"target",void 0),o([c({type:String,readOnly:!0})],Je.prototype,"transformationType",null),o([c({type:["size"],json:{type:["sizeInfo"]}})],Je.prototype,"type",void 0),o([c({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Je.prototype,"useSymbolValue",void 0),o([c({type:String,json:{write:!0}})],Je.prototype,"valueExpression",void 0),o([ce("valueExpression",["valueExpression","expression"])],Je.prototype,"readValueExpression",null),o([ye("web-scene","valueExpression")],Je.prototype,"writeValueExpressionWebScene",null),o([c({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Je.prototype,"valueRepresentation",void 0),o([c({type:Y0.apiValues,json:{write:Y0.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Je.prototype,"valueUnit",void 0),o([ce("valueUnit")],Je.prototype,"readValueUnit",null),Je=Z0=o([I("esri.renderers.visualVariables.SizeVariable")],Je);const gw=Je,qF=fe.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),BF={color:t6,size:gw,opacity:r6,rotation:hw},GF=new Te({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),HF=/^\[([^\]]+)\]$/i;let hh=class extends wt{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,r)=>{let s=null;return s=t.target===r.target?0:t.target?1:-1,s});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:s,rotationType:i}=t,n=s&&s.match(HF),a=n&&n[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:a})),e)return e.map(u=>{const d=GF.read(u.type),p=BF[d];p||(qF.warn(`Unknown variable type: ${d}`),r&&r.messages&&r.messages.push(new Nr("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:u,context:r})));const f=new p;return f.read(u,r),f})}writeVariables(e,t){const r=[];for(const s of e){const i=s.toJSON(t);i&&r.push(i)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};o([c()],hh.prototype,"visualVariables",null),hh=o([I("esri.renderers.visualVariables.VisualVariableFactory")],hh);const JF=hh,WF={base:zd,key:"type",typeMap:{opacity:r6,color:t6,rotation:hw,size:gw}},lu=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new JF}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,s,i){return this._vvFactory.readVariables(r,s,i)}writeVisualVariables(r,s,i,n){s[i]=this._vvFactory.writeVariables(r,n)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,s){return r?this.getVisualVariablesForType(r,s).length>0:this.getVisualVariablesForType("size",s).length>0||this.getVisualVariablesForType("color",s).length>0||this.getVisualVariablesForType("opacity",s).length>0||this.getVisualVariablesForType("rotation",s).length>0}getVisualVariablesForType(r,s){const i=this.visualVariables;return i?i.filter(n=>n.type===r&&(typeof s=="string"?n.target===s:s!==!1||!n.target)):[]}async collectVVRequiredFields(r,s){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const n of i)n&&(n.field&&Bs(r,s,n.field),n.normalizationField&&Bs(r,s,n.normalizationField),n.valueExpression&&await cn(r,s,n.valueExpression))}};return o([c({types:[WF],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),o([ce("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),o([ye("visualVariables")],t.prototype,"writeVisualVariables",null),t=o([I("esri.renderers.mixins.VisualVariablesMixin")],t),t},Mu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function KF(e,t=Mu){if(!e)return{symbol:null};const{retainId:r=Mu.retainId,ignoreDrivers:s=Mu.ignoreDrivers,hasLabelingContext:i=Mu.hasLabelingContext,retainCIM:n=Mu.retainCIM}=t;let a;if(R0(e)||e instanceof Ra)a=e.clone();else if(e.type==="cim"){var u,d;const p=(u=e.data)==null||(d=u.symbol)==null?void 0:d.type;if(p!=="CIMPointSymbol")return{error:new H("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${p||"unknown"}' is unsupported in 3D`,{symbol:e})};a=n?e.clone():ia.fromCIMSymbol(e)}else if(e instanceof Xr)a=uy.fromSimpleLineSymbol(e);else if(e instanceof Aa)a=ia.fromSimpleMarkerSymbol(e);else if(e instanceof ou)a=ia.fromPictureMarkerSymbol(e);else if(e instanceof ho)a=Dd.fromSimpleFillSymbol(e);else{if(!(e instanceof fo))return{error:new H("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?ly.fromTextSymbol(e):ia.fromTextSymbol(e)}if(r&&a.type!=="cim"&&(a.id=e.id),s&&R0(a))for(let p=0;p<a.symbolLayers.length;++p)a.symbolLayers.getItemAt(p)._ignoreDrivers=!0;return{symbol:a}}function mf(e,t,r,s){const i=v6(e,{},{context:s,isLabelSymbol:!1});q(i)&&(t[r]=i)}function G3(e,t,r,s){const i=v6(e,{},{context:s,isLabelSymbol:!0});q(i)&&(t[r]=i)}function v6(e,t,r){if(we(e))return null;const{context:s,isLabelSymbol:i}=r;if(s&&s.origin==="web-scene"&&!(e instanceof nu)&&!(e instanceof Ra)){const n=KF(e,{retainCIM:!0,hasLabelingContext:i});return q(n.symbol)?n.symbol.write(t,s):(s.messages&&s.messages.push(new H("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:s,error:n.error})),null)}return s&&s.origin==="web-map"&&e.type==="web-style"?(s.messages&&s.messages.push(new H("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:s})),null):e.write(t,s)}function QF(e,t){return QP(e,null,t)}const Vd={types:uw,json:{write:{writer:mf},origins:{"web-scene":{types:C3,write:{writer:mf},read:{reader:xa({types:C3})}}}}},b6={types:{base:Er,key:"type",typeMap:{"simple-fill":to.typeMap["simple-fill"],"picture-fill":to.typeMap["picture-fill"],"polygon-3d":to.typeMap["polygon-3d"]}},json:{write:{writer:mf},origins:{"web-scene":{type:Dd,write:{writer:mf}}}}};var X0;let jn=X0=class extends X{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new X0({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};o([c({type:String,json:{write:!0}})],jn.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],jn.prototype,"label",void 0),o([c({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],jn.prototype,"minValue",void 0),o([c({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],jn.prototype,"maxValue",void 0),o([c(Vd)],jn.prototype,"symbol",void 0),jn=X0=o([I("esri.renderers.support.ClassBreakInfo")],jn);const dd=jn;var ev;const gp=fe.getLogger("esri.renderers.ClassBreaksRenderer"),w6="log",fh="percent-of-total",yh="field",vp=new Te({esriNormalizeByLog:w6,esriNormalizeByPercentOfTotal:fh,esriNormalizeByField:yh}),ZF=ct(dd);let qt=ev=class extends lu(yo){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let s=t.minValue;return e.map(i=>{const n=new dd;return n.read(i,r),n.minValue==null&&(n.minValue=s),n.maxValue==null&&(n.maxValue=n.minValue),s=n.maxValue,n})}writeClassBreakInfos(e,t,r,s){const i=e.map(n=>n.write({},s));this._areClassBreaksConsecutive()&&i.forEach(n=>delete n.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(gp.error(".field: field must be a string value"),null):Ed(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&yh||r&&fh||null,t&&r&&gp.warn("warning: both normalizationField and normalizationTotal are set!")):e!==yh&&e!==fh||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let s=null;s=typeof e=="number"?new dd({minValue:e,maxValue:t,symbol:K5(r)}):ZF(D(e)),this.classBreakInfos.push(s),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let s=0;s<r;s++){const i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(s,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(we(t)||we(t.arcade))&&gp.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(we(t)||we(t.arcade))&&(r=Oe(z({},r),{arcade:await oo()}));const s=this.getBreakIndex(e,r);return s!==-1?this.classBreakInfos[s]:null}getSymbol(e,t){if(this.valueExpression&&(we(t)||we(t.arcade)))return void gp.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(we(t)||we(t.arcade))){const i=await oo(),{arcadeUtils:n}=i;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r=Oe(z({},r),{arcade:i})}const s=this.getBreakIndex(e,r);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((s,i)=>s+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new ev({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:D(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(s=>s.collectRequiredFields(e,t)),cn(e,t,this.valueExpression)];Bs(e,t,this.field),Bs(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:n}=Jb(t,{});let a=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const u=n.arcadeUtils;if(!a){const p=u.createSyntaxTree(this.valueExpression);a=u.createFunction(p),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=this.valueExpression;const d=u.executeFunction(a,u.createExecContext(e,u.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._getBreakIndexfromInfos(d)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,s=this.normalizationType;let i=parseFloat(r[t]);if(s){const n=this.normalizationTotal,a=parseFloat(r[this.normalizationField]);if(s===w6)i=Math.log(i)*Math.LOG10E;else if(s!==fh||isNaN(n)){if(s===yh&&!isNaN(a)){if(isNaN(i)||isNaN(a))return-1;i/=a}}else i=i/n*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]<=e&&(t?e<=s[1]:e<s[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};o([c(b6)],qt.prototype,"backgroundFillSymbol",void 0),o([c({type:[dd]})],qt.prototype,"classBreakInfos",void 0),o([ce("classBreakInfos")],qt.prototype,"readClassBreakInfos",null),o([ye("classBreakInfos")],qt.prototype,"writeClassBreakInfos",null),o([c({type:String,json:{write:!0}})],qt.prototype,"defaultLabel",void 0),o([c(Vd)],qt.prototype,"defaultSymbol",void 0),o([c({type:String,json:{write:!0}})],qt.prototype,"field",void 0),o([Tt("field")],qt.prototype,"castField",null),o([c({type:Boolean})],qt.prototype,"isMaxInclusive",void 0),o([c({type:cy,json:{write:!0}})],qt.prototype,"legendOptions",void 0),o([c({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],qt.prototype,"minValue",null),o([c({type:String,json:{write:!0}})],qt.prototype,"normalizationField",void 0),o([c({type:Number,cast:e=>Od(e),json:{write:!0}})],qt.prototype,"normalizationTotal",void 0),o([c({type:vp.apiValues,value:null,json:{type:vp.jsonValues,read:vp.read,write:vp.write}})],qt.prototype,"normalizationType",null),o([$e({classBreaks:"class-breaks"})],qt.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],qt.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],qt.prototype,"valueExpressionTitle",void 0),qt=ev=o([I("esri.renderers.ClassBreaksRenderer")],qt);const vw=qt,um=-3;var Bn;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Bn||(Bn={}));class YF{constructor(t,r,s){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,s,i=0){this._storage.put(this._namespace+t,r,s,i)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,s){this._storage.updateSize(this._namespace+t,r,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class _6{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Qc,this._users=new Qc}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,s,i){const n=this._db.get(t);if(n&&(this._size-=n.size,this._db.delete(t),n.entry!==r&&this._notifyRemove(t,n.entry,Bn.ALL)),s>this._maxSize)return void this._notifyRemove(t,r,Bn.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return void console.warn("Refusing to cache entry with invalid size "+s);const a=1+Math.max(i,um)-um;this._db.set(t,{entry:r,size:s,lifetime:a,lives:a}),this._size+=s,this._checkSizeLimit()}updateSize(t,r,s){const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size;s>this._maxSize;){const n=this._notifyRemove(t,r,Bn.SOME);if(!(q(n)&&n>0))return void this._db.delete(t);s=n}i.size=s,this._size+=s,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},s=new Array;this._db.forEach((a,u)=>{const d=a.lifetime;s[d]=(s[d]||0)+a.size,this._users.forAll(p=>{const f=p.namespace;if(u.startsWith(f)){const y=r[f]||0;r[f]=y+a.size}})});const i={};this._users.forAll(a=>{const u=a.namespace;if(!isNaN(a.hitRate)&&a.hitRate>0){const d=r[u]||0;r[u]=d,i[u]=Math.round(100*a.hitRate)+"%"}else i[u]="0%"});const n=Object.keys(r);n.sort((a,u)=>r[u]-r[a]),n.forEach(a=>t[a]=Math.round(r[a]/2**20)+"MB / "+i[a]);for(let a=s.length-1;a>=0;--a){const u=s[a];u&&(t["Priority "+(a+um-1)]=Math.round(u/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,s)=>{s.startsWith(t)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,Bn.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,Bn.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,s){let i;return this._removeFuncs.some(n=>{if(t.startsWith(n[0])){const a=n[1](r,s);return typeof a=="number"&&(i=a),!0}return!1}),i}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const s=this._notifyRemove(t,r.entry,Bn.SOME);q(s)&&s>0&&(this._size+=s,r.lives=r.lifetime,r.size=s,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}}class S6{constructor(t,r){this._storage=new _6,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,s){this._storage.put(t,r,s,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const H3=fe.getLogger("esri.renderers.support.DictionaryLoader"),XF={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class bw{constructor(t,r,s){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new S6(100),this.url=t,this.config=r,this.fieldMap=s}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let s;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{s=await this._dictionaryPromise}catch(b){if(Ws(b))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const b of this._symbolFields){const $=this.fieldMap[b];if($&&t.attributes[$]!=null){const k=""+t.attributes[$];i[b]=k}else i[b]=""}const n=s(i,r);if(!n||typeof n!="string")return null;const a=Lf(n).toString(),u=this._symbolCache.get(a);if(u)return u.catch(()=>{this._symbolCache.pop(a)}),u;const d=n.split(";"),p=[],f=[];for(const b of d)if(b)if(b.includes("po:")){const $=b.substr(3).split("|");if($.length===3){const k=$[0],E=$[1];let P=$[2];if(E==="DashTemplate")P=P.split(" ").map(Q=>Number(Q));else if(E==="Color"){const Q=new Ge(P).toRgba();P=[Q[0],Q[1],Q[2],255*Q[3]]}else P=Number(P);f.push({primitiveName:k,propertyName:E,value:P})}}else if(b.includes("|")){for(const $ of b.split("|"))if(this._itemNames.has($)){p.push($);break}}else this._itemNames.has(b)&&p.push(b);const y=!q(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",v=this._cimPartsToCIMSymbol(p,f,y,r);return this._symbolCache.put(a,v,1),v}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void H3.error("no valid URL!");const r=q(t)?t.abortOptions:null,s=$t(this.url+"/resources/styles/dictionary-info.json",z({responseType:"json",query:{f:"json"}},r)),[{data:i}]=await Promise.all([s,oo()]);if(!i)throw this._dictionaryPromise=null,new H("esri.renderers.DictionaryRenderer","Bad dictionary data!");const n=i.expression,a=i.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=a.symbol;const u={};if(this.config){const p=this.config;for(const f in p)u[f]=p[f]}if(a.configuration)for(const p of a.configuration)u.hasOwnProperty(p.name)||(u[p.name]=p.value);const d=[];if(q(t)&&t.fields&&this.fieldMap)for(const p of this._symbolFields){const f=this.fieldMap[p],y=t.fields.filter(v=>v.name===f);y.length>0&&d.push(Oe(z({},y[0]),{name:p}))}return this._dictionaryPromise=FA(n,q(t)?t.spatialReference:null,d,u).then(p=>{const f={scale:0};return(y,v)=>{const b=p.repurposeFeature({geometry:null,attributes:y});return f.scale=q(v)?v.scale:void 0,p.evaluate({$feature:b,$view:f})}}).catch(p=>(H3.error("Creating dictinoary expression failed:",p),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,r,s,i){const n=new Array(t.length);for(let d=0;d<t.length;d++)n[d]=this._getSymbolPart(t[d],i);const a=await Promise.all(n),u=this.fieldMap;for(const d of a)$6(d,u);return new Rd({data:this._combineSymbolParts(a,r,s)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(n=>n.data);const s=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=$t(s,z({responseType:"json",query:{f:"json"}},r));this._ongoingRequests.set(t,i);try{return(await i).data}catch(n){return this._ongoingRequests.delete(t),Promise.reject(n)}}_combineSymbolParts(t,r,s){if(!t||t.length===0)return null;const i=z({},t[0]);if(t.length>1){i.symbolLayers=[];for(const n of t){const a=n;i.symbolLayers.unshift(...a.symbolLayers)}}return s&&(i.callout=XF),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:r}}}function $6(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let s=r.length;for(;s--;){const i=r[s];i&&i.enable!==!1&&i.type==="CIMVectorMarker"&&eL(i,t)}}function eL(e,t){const r=e.markerGraphics;if(r)for(const s of r){if(!s)continue;const i=s.symbol;if(i)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":$6(i,t);break;case"CIMTextSymbol":i.fieldMap=t}}}var tL=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:bw},Symbol.toStringTag,{value:"Module"})),tv;let Os=tv=class extends lu(yo){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new bw(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,s){s!=null&&s.origin||super.writeVisualVariables(e,t,r,s)}clone(){return new tv({config:D(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:D(this.fieldMap),url:D(this.url),visualVariables:D(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await cn(e,t,this.scaleExpression);for(const r in this.fieldMap){const s=this.fieldMap[r];t.has(s)&&e.add(s)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};o([c({type:bw})],Os.prototype,"_loader",null),o([c({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Os.prototype,"config",void 0),o([c({type:Object,json:{write:!0}})],Os.prototype,"fieldMap",void 0),o([c({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Os.prototype,"scaleExpression",void 0),o([ye("scaleExpression")],Os.prototype,"writeData",null),o([c({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Os.prototype,"scaleExpressionTitle",void 0),o([c({type:String,json:{write:!0}})],Os.prototype,"url",void 0),o([ye("visualVariables")],Os.prototype,"writeVisualVariables",null),Os=tv=o([I("esri.renderers.DictionaryRenderer")],Os);const rL=Os;function it(e,t){const r=t?Oe(z({},t),{source:e}):e;return c({aliasOf:r})}var rv;const sL=fe.getLogger("esri.renderers.support.AttributeColorInfo");let Li=rv=class extends X{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(sL.error(".field: field must be a string value"),null):Ed(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new rv({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};o([c({type:Ge,json:{type:[Number],write:!0}})],Li.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],Li.prototype,"field",void 0),o([Tt("field")],Li.prototype,"castField",null),o([c({type:String,json:{write:!0}})],Li.prototype,"label",void 0),o([c({type:String,json:{write:!0}})],Li.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Li.prototype,"valueExpressionTitle",void 0),Li=rv=o([I("esri.renderers.support.AttributeColorInfo")],Li);const iL=Li;var sv;let mh=sv=class extends X{constructor(){super(...arguments),this.unit=null}clone(){return new sv({unit:this.unit})}};o([c({type:String,json:{write:!0}})],mh.prototype,"unit",void 0),mh=sv=o([I("esri.renderers.support.DotDensityLegendOptions")],mh);const nL=mh;var iv;let pr=iv=class extends lu(yo){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Ge([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Xr,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new ho({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new iv({attributes:D(this.attributes),backgroundColor:D(this.backgroundColor),dotBlendingEnabled:D(this.dotBlendingEnabled),dotShape:D(this.dotShape),dotSize:D(this.dotSize),dotValue:D(this.dotValue),legendOptions:D(this.legendOptions),outline:D(this.outline),referenceScale:D(this.referenceScale),visualVariables:D(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await cn(e,t,r.valueExpression),r.field&&e.add(r.field)}};o([c({type:[iL],json:{write:!0}})],pr.prototype,"attributes",void 0),o([c({type:Ge,json:{write:!0}})],pr.prototype,"backgroundColor",void 0),o([c({type:Boolean}),it("dotBlendingEnabled")],pr.prototype,"blendDots",void 0),o([c({type:Boolean,json:{write:!0}})],pr.prototype,"dotBlendingEnabled",void 0),o([c({type:String,json:{write:!1}})],pr.prototype,"dotShape",void 0),o([c({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],pr.prototype,"dotSize",void 0),o([c({type:nL,json:{write:!0}})],pr.prototype,"legendOptions",void 0),o([c({type:Xr,json:{default:null,write:!0}})],pr.prototype,"outline",void 0),o([c({type:Number,json:{write:!0}})],pr.prototype,"dotValue",void 0),o([c({type:Number}),it("dotValue")],pr.prototype,"referenceDotValue",void 0),o([c({type:Number,json:{write:!0}})],pr.prototype,"referenceScale",void 0),o([c({type:Number,json:{write:!0}})],pr.prototype,"seed",void 0),o([$e({dotDensity:"dot-density"})],pr.prototype,"type",void 0),pr=iv=o([I("esri.renderers.DotDensityRenderer")],pr);const oL=pr;var nv;let ic=nv=class extends X{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new nv({color:this.color,ratio:this.ratio})}};o([c({type:Ge,json:{write:!0}})],ic.prototype,"color",void 0),o([c({type:Number,json:{write:!0}})],ic.prototype,"ratio",void 0),ic=nv=o([I("esri.renderers.support.HeatmapColorStop")],ic);const gh=ic;var ov;let ks=ov=class extends yo{constructor(e){super(e),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new gh({ratio:0,color:new Ge("rgba(255, 140, 0, 0)")}),new gh({ratio:.75,color:new Ge("rgba(255, 140, 0, 1)")}),new gh({ratio:.9,color:new Ge("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const r=this.field;r&&typeof r=="string"&&Bs(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new ov({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:D(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};o([c({type:Number,json:{write:!0}})],ks.prototype,"blurRadius",void 0),o([c({type:Number})],ks.prototype,"referenceScale",void 0),o([c({type:[gh],json:{write:!0}})],ks.prototype,"colorStops",void 0),o([c({type:String,json:{write:!0}})],ks.prototype,"field",void 0),o([c({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})}}})],ks.prototype,"fieldOffset",void 0),o([c({type:Number,json:{write:!0}})],ks.prototype,"maxPixelIntensity",void 0),o([c({type:Number,json:{write:!0}})],ks.prototype,"minPixelIntensity",void 0),o([$e({heatmap:"heatmap"})],ks.prototype,"type",void 0),ks=ov=o([I("esri.renderers.HeatmapRenderer")],ks);const aL=ks;var av;let Vo=av=class extends lu(yo){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new av({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:D(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};o([c({type:String,json:{write:!0}})],Vo.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Vo.prototype,"label",void 0),o([c(Vd)],Vo.prototype,"symbol",void 0),o([$e({simple:"simple"})],Vo.prototype,"type",void 0),Vo=av=o([I("esri.renderers.SimpleRenderer")],Vo);const dy=Vo,lL=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function lv(e){return e instanceof wt}function J3(e){return e instanceof gt?Object.keys(e.items):lv(e)?mr(e).keys():e?Object.keys(e):[]}function bp(e,t){return e instanceof gt?e.items[t]:e[t]}function uL(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Rc(e){return e?e.declaredClass:null}function x6(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const s=J3(e),i=J3(t);if(s.length===0&&i.length===0)return;if(!s.length||!i.length||uL(e,t))return{type:"complete",oldValue:e,newValue:t};const n=i.filter(y=>s.indexOf(y)===-1),a=s.filter(y=>i.indexOf(y)===-1),u=s.filter(y=>i.indexOf(y)>-1&&bp(e,y)!==bp(t,y)).concat(n,a).sort(),d=Rc(e);if(d&&lL.indexOf(d)>-1&&u.length)return{type:"complete",oldValue:e,newValue:t};let p;const f=lv(e)&&lv(t);for(const y of u){const v=bp(e,y),b=bp(t,y);let $;(f||typeof v!="function"&&typeof b!="function")&&v!==b&&(v==null&&b==null||($=r&&r[y]&&typeof r[y]=="function"?r[y](v,b):typeof v=="object"&&typeof b=="object"&&Rc(v)===Rc(b)?x6(v,b):{type:"complete",oldValue:v,newValue:b},q($)&&(q(p)?p.diff[y]=$:p={type:"partial",diff:{[y]:$}})))}return p}function M6(e,t){if(we(e))return!1;const r=t.split(".");let s=e;for(const i of r){if(s.type==="complete")return!0;if(s.type!=="partial")return!1;{const n=s.diff[i];if(!n)return!1;s=n}}return!0}function cL(e,t){for(const r of t)if(M6(e,r))return!0;return!1}function I6(e,t){if(!(typeof e=="function"||typeof t=="function"||we(e)&&we(t)))return we(e)||we(t)||typeof e=="object"&&typeof t=="object"&&Rc(e)!==Rc(t)?{type:"complete",oldValue:e,newValue:t}:x6(e,t)}var uv;let Cn=uv=class extends X{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new uv({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};o([c({type:String,json:{write:!0}})],Cn.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Cn.prototype,"label",void 0),o([c(Vd)],Cn.prototype,"symbol",void 0),o([c({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],Cn.prototype,"value",void 0),o([Tt("value")],Cn.prototype,"castValue",null),Cn=uv=o([I("esri.renderers.support.UniqueValueInfo")],Cn);const pd=Cn,dL=()=>!!K("enable-feature:force-wosr"),cm={};async function pL(e,t){try{return{data:(await O6(e,t)).data,baseUrl:_5(e),styleUrl:e}}catch(r){return Ql(r),null}}function hL(e,t,r){const s=t&&t.portal||Ir.getDefault();let i;const n=`${s.url} - ${s.user&&s.user.username} - ${e}`;return cm[n]||(cm[n]=fL(e,s,r).then(a=>(i=a,a.fetchData())).then(a=>({data:a,baseUrl:i.itemUrl,styleName:e}))),cm[n]}function fL(e,t,r){return t.load(r).then(()=>{const s=new Qi({disableExtraQuery:!0,query:`owner:${W3} AND type:${K3} AND typekeywords:"${e}"`});return t.queryItems(s,r)}).then(({results:s})=>{let i=null;const n=e.toLowerCase();if(s&&Array.isArray(s)){for(const a of s)if(a.typeKeywords.some(u=>u.toLowerCase()===n)&&a.type===K3&&a.owner===W3){i=a;break}}if(!i)throw new H("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function E6(e,t,r){return e.styleUrl?pL(e.styleUrl,r):e.styleName?hL(e.styleName,t,r):Promise.reject(new H("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function yL(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function mL(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!dL()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function O6(e,t){const r=z({responseType:"json",query:{f:"json"}},t);return $t(gs(e),r)}const W3="esri_en",K3="Style",gL="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var nc;const wo=fe.getLogger("esri.renderers.UniqueValueRenderer"),vL=ct(pd);let Et=nc=class extends lu(yo){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let s=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<r.length;n++){const a=t.find(u=>u.value===r[n].value);a?I6(a,r[n])?(i.changed.push({type:"complete",oldValue:a,newValue:r[n]}),s=!0):i.unchanged.push({oldValue:a,newValue:r[n]}):(i.added.push(r[n]),s=!0)}for(let n=0;n<t.length;n++)r.find(a=>a.value===t[n].value)||(i.removed.push(t[n]),s=!0);return s?i:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:Ed(e)}writeField(e,t,r,s){typeof e=="string"?t[r]=e:s&&s.messages?s.messages.push(new H("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):wo.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||Ir.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const s=Ca(t.styleUrl,r);return Object.freeze({styleUrl:s})}}writeStyleOrigin(e,t,r,s){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=ru(e.styleUrl,s))}set uniqueValueInfos(e){this.styleOrigin?wo.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void wo.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?vL(e):new pd({value:e,symbol:K5(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)wo.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(we(t)||we(t.arcade))&&(r=Oe(z({},r),{arcade:await oo()})),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(we(t)||we(t.arcade)))return void wo.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(we(r)||we(r.arcade))){const i=await oo(),{arcadeUtils:n}=i;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r=Oe(z({},r),{arcade:i})}const s=this._getUniqueValueInfo(e,r);return s&&s.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new nc({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:D(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:D(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=D(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(D(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(s=>s.collectRequiredFields(e,t)),cn(e,t,this.valueExpression)];Bs(e,t,this.field),Bs(e,t,this.field2),Bs(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return E6(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const s=new Ra({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const i=new pd({value:r.name,symbol:s});t.push(i),this._valueInfoMap[r.name]=i}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:n}=Jb(t,{});let a=this._cache.compiledFunc;const u=n.arcadeUtils;if(!a){const p=u.createSyntaxTree(this.valueExpression);a=u.createFunction(p),this._cache.compiledFunc=a}const d=u.executeFunction(a,u.createExecContext(e,u.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._valueInfoMap[d+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let s;if(typeof t!="function"&&this.field2){const i=this.field2,n=this.field3,a=[];t&&a.push(r[t]),i&&a.push(r[i]),n&&a.push(r[n]),s=a.join(this.fieldDelimiter||"")}else typeof t=="function"?s=t(e):t&&(s=r[t]);return this._valueInfoMap[s+""]}static fromPortalStyle(e,t){const r=new nc(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||Ir.getDefault());const s=r.populateFromStyle();return s.catch(i=>{wo.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),s}static fromStyleUrl(e,t){const r=new nc(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const s=r.populateFromStyle();return s.catch(i=>{wo.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),s}};o([c({readOnly:!0})],Et.prototype,"_cache",null),o([$e({uniqueValue:"unique-value"})],Et.prototype,"type",void 0),o([c(b6)],Et.prototype,"backgroundFillSymbol",void 0),o([c({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Et.prototype,"field",void 0),o([Tt("field")],Et.prototype,"castField",null),o([ye("field")],Et.prototype,"writeField",null),o([c({type:String,json:{write:!0}})],Et.prototype,"field2",void 0),o([c({type:String,json:{write:!0}})],Et.prototype,"field3",void 0),o([c({type:String,json:{write:!0}})],Et.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Et.prototype,"valueExpressionTitle",void 0),o([c({type:cy,json:{write:!0}})],Et.prototype,"legendOptions",void 0),o([c({type:String,json:{write:!0}})],Et.prototype,"defaultLabel",void 0),o([c(j$(z({},Vd),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Et.prototype,"defaultSymbol",null),o([c({type:String,json:{write:!0}})],Et.prototype,"fieldDelimiter",void 0),o([c({type:Ir,readOnly:!0})],Et.prototype,"portal",void 0),o([ce("portal",["styleName"])],Et.prototype,"readPortal",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Et.prototype,"styleOrigin",void 0),o([ce("styleOrigin",["styleName","styleUrl"])],Et.prototype,"readStyleOrigin",null),o([ye("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Et.prototype,"writeStyleOrigin",null),o([c({type:[pd],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Et.prototype,"uniqueValueInfos",null),Et=nc=o([I("esri.renderers.UniqueValueRenderer")],Et);const py=Et,ww={key:"type",base:yo,typeMap:{heatmap:aL,simple:dy,"unique-value":py,"class-breaks":vw,"dot-density":oL,dictionary:rL},errorContext:"renderer"},k6={key:"type",base:yo,typeMap:{simple:dy,"unique-value":py,"class-breaks":vw},errorContext:"renderer"},bL=xa({types:ww});function T6(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new Nr("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):bL(e,t,r):null}let vh=class extends wt{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!gt.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||gt.isCollection(e)?e.forEach(s=>this._isHandle(s)&&r.push(s)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||gt.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};o([c({readOnly:!0})],vh.prototype,"size",null),vh=o([I("esri.core.Handles")],vh);const Pa=vh;class _w{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(Qm),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new _w,s=this._originStores[De.DEFAULTS];s&&s.forEach((i,n)=>{r.set(n,D(i),De.DEFAULTS)});for(let i=De.SERVICE;i<Qm;i++){const n=this._originStores[i];n&&n.forEach((a,u)=>{t&&t.has(u)||r.set(u,D(a),i)})}return r}get(t,r){const s=r===void 0?this._values:this._originStores[r];return s?s.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,s=De.USER){let i=this._originStores[s];if(i||(i=new Map,this._originStores[s]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=s){const n=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),n!==r}return!1}delete(t,r=De.USER){const s=this._originStores[r];if(!s)return;const i=s.get(t);if(s.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let n=r-1;n>=0;n--){const a=this._originStores[n];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,n);break}}}return i}has(t,r){const s=r===void 0?this._values:this._originStores[r];return!!s&&s.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const s=this._originStores[r],i=s&&s.get(t),n=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),n!==i}originOf(t){return this._propertyOriginMap.get(t)||De.DEFAULTS}forEach(t){this._values.forEach(t)}}const j6=e=>{let t=class extends e{constructor(...r){super(...r);const s=mr(this),i=s.store,n=new _w;s.store=n,_x(s,i,n)}read(r,s){$x(this,r,s)}getAtOrigin(r,s){const i=dm(this),n=Yi(s);if(typeof r=="string")return i.get(r,n);const a={};return r.forEach(u=>{a[u]=i.get(u,n)}),a}originOf(r){return Wc(this.originIdOf(r))}originIdOf(r){return dm(this).originOf(r)}revert(r,s){const i=dm(this),n=Yi(s),a=mr(this);let u;u=typeof r=="string"?r==="*"?i.keys(n):[r]:r,u.forEach(d=>{a.invalidate(d),i.revert(d,n),a.commit(d)})}};return t=o([I("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function dm(e){return mr(e).store}let Q3=class extends j6(wt){};Q3=o([I("esri.core.ReadOnlyMultiOriginJSONSupport")],Q3);const wL=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,s="user"){return pm(this).delete(r,Yi(s))}write(r={},s){return Ix(this,r=r||{},s),r}setAtOrigin(r,s,i){mr(this).setAtOrigin(r,s,Yi(i))}removeOrigin(r){const s=pm(this),i=Yi(r),n=s.keys(i);for(const a of n)s.originOf(a)===i&&s.set(a,s.get(a,i),De.USER)}updateOrigin(r,s){const i=pm(this),n=Yi(s),a=this.get(r);for(let u=n+1;u<Qm;++u)i.delete(r,u);i.set(r,a,n)}toJSON(r){return this.write({},r)}};return t=o([I("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function pm(e){return mr(e).store}const Sw=e=>{let t=class extends wL(j6(e)){constructor(...r){super(...r)}};return t=o([I("esri.core.MultiOriginJSONSupport")],t),t};let cv=class extends Sw(wt){};cv=o([I("esri.core.MultiOriginJSONSupport")],cv);async function _L(e,t){const{WhereClause:r}=await import("./WhereClause.3590f431.js");return r.create(e,t)}var dv;let Uo=dv=class extends X{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new dv({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};o([c({type:String,json:{write:!0}})],Uo.prototype,"expression",void 0),o([c({type:String,json:{write:!0}})],Uo.prototype,"name",void 0),o([c({type:["boolean","date","number","string"],json:{write:!0}})],Uo.prototype,"returnType",void 0),o([c({type:String,json:{write:!0}})],Uo.prototype,"title",void 0),Uo=dv=o([I("esri.form.ExpressionInfo")],Uo);const SL=Uo;let qo=class extends X{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};o([c({type:String,json:{write:!0}})],qo.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],qo.prototype,"label",void 0),o([c()],qo.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],qo.prototype,"visibilityExpression",void 0),qo=o([I("esri.form.elements.Element")],qo);const Gl=qo;var pv;let bh=pv=class extends X{constructor(e){super(e),this.type=null}clone(){return new pv({type:this.type})}};o([c({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],bh.prototype,"type",void 0),bh=pv=o([I("esri.form.elements.inputs.AttachmentInput")],bh);const $L=bh;var hv;let Bo=hv=class extends Gl{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new hv({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};o([c({type:String,json:{write:!0}})],Bo.prototype,"attachmentKeyword",void 0),o([c({type:Boolean,json:{write:!0}})],Bo.prototype,"editable",void 0),o([c({type:$L,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Bo.prototype,"input",void 0),o([c({type:["attachment"],json:{read:!1,write:!0}})],Bo.prototype,"type",void 0),Bo=hv=o([I("esri.form.elements.AttachmentElement")],Bo);const Z3=Bo;let wh=class extends X{constructor(e){super(e),this.type=null}};o([c()],wh.prototype,"type",void 0),wh=o([I("esri.form.elements.inputs.Input")],wh);const uu=wh;let oc=class extends uu{constructor(e){super(e),this.maxLength=null,this.minLength=0}};o([c({type:Number,json:{write:!0}})],oc.prototype,"maxLength",void 0),o([c({type:Number,json:{write:!0}})],oc.prototype,"minLength",void 0),oc=o([I("esri.form.elements.inputs.TextInput")],oc);const $w=oc;var fv;let _h=fv=class extends $w{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new fv({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["barcode-scanner"],json:{read:!1,write:!0}})],_h.prototype,"type",void 0),_h=fv=o([I("esri.form.elements.inputs.BarcodeScannerInput")],_h);const xL=_h;var yv;let Xa=yv=class extends uu{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new yv({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};o([c({type:String,json:{write:!0}})],Xa.prototype,"noValueOptionLabel",void 0),o([c({type:Boolean,json:{write:!0}})],Xa.prototype,"showNoValueOption",void 0),o([c({type:["combo-box"],json:{read:!1,write:!0}})],Xa.prototype,"type",void 0),Xa=yv=o([I("esri.form.elements.inputs.ComboBoxInput")],Xa);const ML=Xa;var mv;function Y3(e){return e!=null?new Date(e):null}function X3(e){return e?e.getTime():null}let Ts=mv=class extends uu{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return Y3(t.max)}writeMax(e,t){t.max=X3(e)}readMin(e,t){return Y3(t.min)}writeMin(e,t){t.min=X3(e)}clone(){return new mv({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};o([c({type:Boolean,json:{write:!0}})],Ts.prototype,"includeTime",void 0),o([c({type:Date,json:{type:Number,write:!0}})],Ts.prototype,"max",void 0),o([ce("max")],Ts.prototype,"readMax",null),o([ye("max")],Ts.prototype,"writeMax",null),o([c({type:Date,json:{type:Number,write:!0}})],Ts.prototype,"min",void 0),o([ce("min")],Ts.prototype,"readMin",null),o([ye("min")],Ts.prototype,"writeMin",null),o([c({type:["datetime-picker"],json:{read:!1,write:!0}})],Ts.prototype,"type",void 0),Ts=mv=o([I("esri.form.elements.inputs.DateTimePickerInput")],Ts);const IL=Ts;var gv;let el=gv=class extends uu{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new gv({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};o([c({type:String,json:{write:!0}})],el.prototype,"noValueOptionLabel",void 0),o([c({type:Boolean,json:{write:!0}})],el.prototype,"showNoValueOption",void 0),o([c({type:["radio-buttons"],json:{read:!1,write:!0}})],el.prototype,"type",void 0),el=gv=o([I("esri.form.elements.inputs.RadioButtonsInput")],el);const EL=el;var vv;let tl=vv=class extends uu{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new vv({offValue:this.offValue,onValue:this.onValue})}};o([c({type:[String,Number],json:{write:!0}})],tl.prototype,"offValue",void 0),o([c({type:[String,Number],json:{write:!0}})],tl.prototype,"onValue",void 0),o([c({type:["switch"],json:{read:!1,write:!0}})],tl.prototype,"type",void 0),tl=vv=o([I("esri.form.elements.inputs.SwitchInput")],tl);const OL=tl;var bv;let Sh=bv=class extends $w{constructor(e){super(e),this.type="text-area"}clone(){return new bv({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["text-area"],json:{read:!1,write:!0}})],Sh.prototype,"type",void 0),Sh=bv=o([I("esri.form.elements.inputs.TextAreaInput")],Sh);const kL=Sh;var wv;let $h=wv=class extends $w{constructor(e){super(e),this.type="text-box"}clone(){return new wv({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["text-box"],json:{read:!1,write:!0}})],$h.prototype,"type",void 0),$h=wv=o([I("esri.form.elements.inputs.TextBoxInput")],$h);const TL=$h,jL={base:uu,key:"type",typeMap:{"barcode-scanner":xL,"combo-box":ML,"datetime-picker":IL,"radio-buttons":EL,switch:OL,"text-area":kL,"text-box":TL}};var _v;let ac=_v=class extends X{constructor(e){super(e),this.name=null,this.code=null}clone(){return new _v({name:this.name,code:this.code})}};o([c({type:String,json:{write:!0}})],ac.prototype,"name",void 0),o([c({type:[String,Number],json:{write:!0}})],ac.prototype,"code",void 0),ac=_v=o([I("esri.layers.support.CodedValue")],ac);const CL=ac,AL=new Te({inherited:"inherited",codedValue:"coded-value",range:"range"});let lc=class extends X{constructor(e){super(e),this.name=null,this.type=null}};o([c({type:String,json:{write:!0}})],lc.prototype,"name",void 0),o([$e(AL)],lc.prototype,"type",void 0),lc=o([I("esri.layers.support.Domain")],lc);const hy=lc;var Sv;let uc=Sv=class extends hy{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(s=>(String(s.code)===r&&(t=s.name),!!t))}return t}clone(){return new Sv({codedValues:D(this.codedValues),name:this.name})}};o([c({type:[CL],json:{write:!0}})],uc.prototype,"codedValues",void 0),o([$e({codedValue:"coded-value"})],uc.prototype,"type",void 0),uc=Sv=o([I("esri.layers.support.CodedValueDomain")],uc);const C6=uc;var $v;let xh=$v=class extends hy{constructor(e){super(e),this.type="inherited"}clone(){return new $v}};o([$e({inherited:"inherited"})],xh.prototype,"type",void 0),xh=$v=o([I("esri.layers.support.InheritedDomain")],xh);const A6=xh;var xv;let rl=xv=class extends hy{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new xv({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};o([c({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],rl.prototype,"maxValue",void 0),o([c({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],rl.prototype,"minValue",void 0),o([$e({range:"range"})],rl.prototype,"type",void 0),rl=xv=o([I("esri.layers.support.RangeDomain")],rl);const R6=rl,P6={key:"type",base:hy,typeMap:{range:R6,"coded-value":C6,inherited:A6}};function xw(e){if(!e||!e.type)return null;switch(e.type){case"range":return R6.fromJSON(e);case"codedValue":return C6.fromJSON(e);case"inherited":return A6.fromJSON(e)}return null}var Mv;let ls=Mv=class extends Gl{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Mv({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};o([c({types:P6,json:{read:{reader:xw},write:!0}})],ls.prototype,"domain",void 0),o([c({type:Boolean,json:{write:!0}})],ls.prototype,"editable",void 0),o([c({type:String,json:{write:!0}})],ls.prototype,"editableExpression",void 0),o([c({type:String,json:{write:!0}})],ls.prototype,"fieldName",void 0),o([c({type:String,json:{write:!0}})],ls.prototype,"hint",void 0),o([c({types:jL,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ls.prototype,"input",void 0),o([c({type:String,json:{write:!0}})],ls.prototype,"requiredExpression",void 0),o([c({type:String,json:{read:!1,write:!0}})],ls.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],ls.prototype,"valueExpression",void 0),ls=Mv=o([I("esri.form.elements.FieldElement")],ls);const eS=ls;var Iv;let Ni=Iv=class extends Gl{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Iv({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:D(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};o([c({type:Number,json:{write:!0}})],Ni.prototype,"displayCount",void 0),o([c({type:["list"],json:{write:!0}})],Ni.prototype,"displayType",void 0),o([c({type:Boolean,json:{write:!0}})],Ni.prototype,"editable",void 0),o([c({type:[fM],json:{write:!0}})],Ni.prototype,"orderByFields",void 0),o([c({type:Number,json:{write:!0}})],Ni.prototype,"relationshipId",void 0),o([c({type:["relationship"],json:{read:!1,write:!0}})],Ni.prototype,"type",void 0),Ni=Iv=o([I("esri.form.elements.RelationshipElement")],Ni);const tS=Ni;function F6(e){return{typesWithGroup:{base:Gl,key:"type",typeMap:{attachment:Z3,field:eS,group:e,relationship:tS}},typesWithoutGroup:{base:Gl,key:"type",typeMap:{attachment:Z3,field:eS,relationship:tS}}}}function L6(e,t,r=!0){if(!e)return null;const s=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>s[i.type]).map(i=>s[i.type].fromJSON(i))}function N6(e,t,r=!0){if(!e)return null;const s=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>s[i.type]).map(i=>i.toJSON())}function D6(e,t,r=!0){return e?e.map(s=>wi(r?t.typesWithGroup:t.typesWithoutGroup,s)):null}var Ev;let fi=Ev=class extends Gl{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return D6(e,hm,!1)}readElements(e,t){return L6(t.formElements,hm,!1)}writeElements(e,t){t.formElements=N6(e,hm,!1)}clone(){return new Ev({description:this.description,elements:D(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};o([c({json:{write:!0}})],fi.prototype,"elements",void 0),o([Tt("elements")],fi.prototype,"castElements",null),o([ce("elements",["formElements"])],fi.prototype,"readElements",null),o([ye("elements")],fi.prototype,"writeElements",null),o([c({type:["collapsed","expanded"],json:{write:!0}})],fi.prototype,"initialState",void 0),o([c({type:String,json:{read:!1,write:!0}})],fi.prototype,"type",void 0),fi=Ev=o([I("esri.form.elements.GroupElement")],fi);const hm=F6(fi),RL=fi;var Ov;const fm=F6(RL);let ci=Ov=class extends X{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return D6(e,fm)}readElements(e,t){return L6(t.formElements,fm)}writeElements(e,t){t.formElements=N6(e,fm)}clone(){return new Ov({description:this.description,expressionInfos:D(this.expressionInfos),elements:D(this.elements),title:this.title})}};o([c({type:String,json:{write:!0}})],ci.prototype,"description",void 0),o([c({json:{write:!0}})],ci.prototype,"elements",void 0),o([Tt("elements")],ci.prototype,"castElements",null),o([ce("elements",["formElements"])],ci.prototype,"readElements",null),o([ye("elements")],ci.prototype,"writeElements",null),o([c({type:[SL],json:{write:!0}})],ci.prototype,"expressionInfos",void 0),o([c({type:String,json:{write:!0}})],ci.prototype,"title",void 0),ci=Ov=o([I("esri.form.FormTemplate")],ci);const PL=ci;var cc;const gf=rr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),z6=gf.jsonValues.slice();_$(z6,"orthometric");const Pc=rr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let js=cc=class extends X{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return gf.write(e,t,r)}readHeightModel(e,t,r){return gf.read(e)||(r&&r.messages&&r.messages.push(FL(e,{context:r})),null)}readHeightUnit(e,t,r){return Pc.read(e)||(r&&r.messages&&r.messages.push(rS(e,{context:r})),null)}readHeightUnitService(e,t,r){return l6(e)||Pc.read(e)||(r&&r.messages&&r.messages.push(rS(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new cc({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=$F(t);return new cc({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t=z({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new cc;return t.read(e,{origin:"web-scene"}),t}};function rS(e,t){return new Nr("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function FL(e,t){return new Nr("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}o([c({type:gf.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:z6,default:"ellipsoidal"}}}})],js.prototype,"heightModel",void 0),o([ye("web-scene","heightModel")],js.prototype,"writeHeightModel",null),o([ce(["web-scene","service"],"heightModel")],js.prototype,"readHeightModel",null),o([c({type:Pc.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Pc.jsonValues,write:Pc.write}}}})],js.prototype,"heightUnit",void 0),o([ce("web-scene","heightUnit")],js.prototype,"readHeightUnit",null),o([ce("service","heightUnit")],js.prototype,"readHeightUnitService",null),o([c({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],js.prototype,"vertCRS",void 0),o([ce("service","vertCRS",["vertCRS","ellipsoid","geoid"])],js.prototype,"readVertCRS",null),js=cc=o([I("esri.geometry.HeightModelInfo")],js);const V6=js;let LL=0;const sS=fe.getLogger("esri.layers.Layer");let Kt=class extends kd.EventedMixin(Cd(Nd)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new jt(-180,-90,180,90,ze.WGS84),this.id=Date.now().toString(16)+"-layer-"+LL++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=ze.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e,r=await import("./arcgisLayers.c98f45c9.js");try{return await r.fromUrl(t)}catch(s){throw sS.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",s),s}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},r=await import("./portalLayers.d604c087.js");try{return await r.fromItem(t)}catch(s){const i=t&&t.portalItem,n=i&&i.id||"unset",a=i&&i.portal&&i.portal.url||Xe.portalUrl;throw sS.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+n+"')",s),s}}initialize(){this.when().catch(e=>{var t,r;Ws(e)||fe.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(r=this.id)!=null?r:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?Dr(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await $t(e,{query:{f:"json"},responseType:"json"})).data;throw new H("layer:no-attribution-data","Layer does not have attribution data")}};o([c({type:String})],Kt.prototype,"attributionDataUrl",void 0),o([c({type:jt})],Kt.prototype,"fullExtent",void 0),o([c({readOnly:!0})],Kt.prototype,"hasAttributionData",null),o([c({type:String,clonable:!1})],Kt.prototype,"id",void 0),o([c({type:Boolean,nonNullable:!0})],Kt.prototype,"legendEnabled",void 0),o([c({type:["show","hide","hide-children"]})],Kt.prototype,"listMode",void 0),o([c({type:Number,range:{min:0,max:1},nonNullable:!0})],Kt.prototype,"opacity",void 0),o([c({clonable:!1})],Kt.prototype,"parent",void 0),o([c({readOnly:!0})],Kt.prototype,"parsedUrl",null),o([c({type:Boolean})],Kt.prototype,"popupEnabled",void 0),o([c({type:Boolean})],Kt.prototype,"attributionVisible",void 0),o([c({type:ze})],Kt.prototype,"spatialReference",void 0),o([c({type:String})],Kt.prototype,"title",void 0),o([c({type:String,readOnly:!0,json:{read:!1}})],Kt.prototype,"type",void 0),o([c()],Kt.prototype,"url",void 0),o([c({type:Boolean,nonNullable:!0})],Kt.prototype,"visible",void 0),Kt=o([I("esri.layers.Layer")],Kt);const U6=Kt;function Hl(e,t,r={}){return Iw(e,t,r,q6)}function Mw(e,t,r={}){return Iw(e,t,r,B6)}function Iw(e,t,r={},s){let i=null;const n=r.once?(a,u)=>{s(a)&&(bd(i),t(a,u))}:(a,u)=>{s(a)&&t(a,u)};if(i=Gj(e,n,r.sync,r.equals),r.initial){const a=e();n(a,a)}return i}function kv(e,t,r,s={}){let i=null,n=null,a=null;function u(){i&&n&&(n.remove(),s.onListenerRemove==null||s.onListenerRemove(i),i=null,n=null)}function d(f){s.once&&s.once&&bd(a),r(f)}const p=Hl(e,(f,y)=>{u(),zf(f)&&(i=f,n=Id(f,t,d),s.onListenerAdd==null||s.onListenerAdd(f))},{sync:s.sync,initial:!0});return a=Sd(()=>{p.remove(),u()}),a}function Tv(e,t){return NL(e,B6,t)}function NL(e,t,r){if(io(r))return Promise.reject(ur());const s=e();if(t!=null&&t(s))return Promise.resolve(s);let i=null;function n(){i=bd(i)}return new Promise((a,u)=>{i=Nf([nn(r,()=>{n(),u(ur())}),Iw(e,d=>{n(),a(d)},{sync:!1,once:!0},t!=null?t:q6)])})}function q6(e){return!0}function B6(e){return!!e}const G6={sync:!0},H6={initial:!0},DL={sync:!0,initial:!0};let Fc=class extends wt{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new Pa,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,Hl)}addWhen(e,t,r={}){return this._installWatch(e,t,r,Mw)}addOnCollectionChange(e,t,{initial:r=!1}={}){const s=++this.handleId;return this.handles.add([kv(e,"after-changes",this._createSyncUpdatingCallback(),G6),kv(e,"change",t,{onListenerAdd:r?i=>t({added:i.toArray(),removed:[]}):void 0})],s),{remove:()=>this.handles.remove(s)}}addPromise(e){if(we(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(wp)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},s){const i=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,i);const n=s(e,t,r);return this.handles.add(n,i),{remove:()=>this.handles.remove(i)}}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),s=Hl(e,r,{sync:!0,equals:()=>!1});return this.handles.add(s,t),s}_createSyncUpdatingCallback(){return()=>{this.handles.remove(wp),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(qf(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(wp))}),wp)}}};o([c({readOnly:!0})],Fc.prototype,"updating",void 0),Fc=o([I("esri.views.support.WatchUpdatingTracking")],Fc);const wp=-42;var iS;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(iS||(iS={}));const Ew=e=>{let t=class extends e{destroy(){var r,s;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(s=this._get("updatingHandles"))==null||s.destroy())}get handles(){return this._get("handles")||new Pa}get updatingHandles(){return this._get("updatingHandles")||new Fc}};return o([c({readOnly:!0})],t.prototype,"handles",null),o([c({readOnly:!0})],t.prototype,"updatingHandles",null),t=o([I("esri.core.HandleOwner")],t),t};let jv=class extends Ew(wt){};jv=o([I("esri.core.HandleOwner")],jv);var xr;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(xr||(xr={}));let zL=0;function J6(){return zL++}function VL(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function vf(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function W6(e,t,r,s){if(t.type===xr.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==xr.INVOKE&&t.type!==xr.RESPONSE)return void e.postMessage(t);let i;VL(r)?(i=nS(r.transferList),t.data=r.result):(i=nS(s),t.data=r),i?e.postMessage(t,i):e.postMessage(t)}function hd(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function nS(e){if(!e||!e.length)return null;if(K("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!UL(r));return t.length?t:null}function UL(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const qL={statsWorker:()=>import("./statsWorker.496584f4.js"),geometryEngineWorker:()=>import("./geometryEngineWorker.14e939c7.js"),CSVSourceWorker:()=>import("./CSVSourceWorker.f738bc1a.js"),EdgeProcessingWorker:()=>import("./EdgeProcessingWorker.435be28c.js"),ElevationSamplerWorker:()=>import("./ElevationSamplerWorker.8e2a0af8.js"),FeatureServiceSnappingSourceWorker:()=>import("./FeatureServiceSnappingSourceWorker.687cb614.js"),GeoJSONSourceWorker:()=>import("./GeoJSONSourceWorker.ca75d89b.js"),LercWorker:()=>import("./LercWorker.dbe4593b.js"),MemorySourceWorker:()=>import("./MemorySourceWorker.0863d880.js"),PBFDecoderWorker:()=>import("./PBFDecoderWorker.7b9e72af.js"),Pipeline:()=>import("./Pipeline.2334ebd4.js").then(function(e){return e.P}),PointCloudWorker:()=>import("./PointCloudWorker.8a0f659d.js"),RasterWorker:()=>import("./RasterWorker.175d8d7b.js"),SceneLayerWorker:()=>import("./SceneLayerWorker.195315d9.js"),WFSSourceWorker:()=>import("./WFSSourceWorker.0ec1018e.js"),WorkerTileHandler:()=>import("./WorkerTileHandler.7220852a.js")},{CLOSE:oS,ABORT:aS,INVOKE:lS,RESPONSE:Iu,OPEN_PORT:uS,ON:BL}=xr;class GL{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===xr.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class Pr{constructor(t,r){this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new GL(s=>this._onInvokeMessage(s)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const r=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const i=new Pr(r.port1,{channel:r,client:s});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=i),Pr.clients.set(i,s),r.port2}static loadWorker(t){const r=qL[t];return r?r():Promise.resolve(null)}close(){this._post({type:oS}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,s){const i=s&&s.signal,n=s&&s.transferList;if(!this._port)return Promise.reject(new H("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const a=J6();return new Promise((u,d)=>{const p=Uf(i,()=>{var y;const v=this._outJobs.get(a);v&&(this._outJobs.delete(a),(y=v.abortHandle)==null||y.remove(),this._post({type:aS,jobId:a}),d(ur()))}),f={resolve:u,reject:d,abortHandle:p,debugInfo:t};this._outJobs.set(a,f),this._post({type:lS,jobId:a,methodName:t,abortable:i!=null},r,n)})}on(t,r){const s=new MessageChannel;function i(n){r(n.data)}return this._port.postMessage({type:xr.ON,eventType:t,port:s.port2},[s.port2]),s.port1.addEventListener("message",i),s.port1.start(),{remove(){s.port1.postMessage({type:xr.CLOSE}),s.port1.close(),s.port1.removeEventListener("message",i)}}}openPort(){const t=new MessageChannel;return this._post({type:uS,port:t.port2}),t.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{var r;(r=t.abortHandle)==null||r.remove(),t.reject(ur(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){q(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=hd(t);if(r)switch(r.type){case Iu:this._onResponseMessage(r);break;case lS:this._invokeQueue.push(r);break;case aS:this._onAbortMessage(r);break;case oS:this._onCloseMessage();break;case uS:this._onOpenPortMessage(r);break;case BL:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,s=t.jobId,i=r.get(s);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(s))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Pr.clients.get(this)===t&&t.destroy(),Pr.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:s,data:i,abortable:n}=t,a=n?new AbortController:null,u=this._inJobs;let d,p=this._client,f=p[r];try{if(!f&&r&&r.indexOf(".")!==-1){const y=r.split(".");for(let v=0;v<y.length-1;v++)p=p[y[v]],f=p[y[v+1]]}if(typeof f!="function")throw new TypeError(`${r} is not a function`);d=f.call(p,i,{client:this,signal:a?a.signal:null})}catch(y){return void this._post({type:Iu,jobId:s,error:vf(y)})}Zl(d)?(u.set(s,{controller:a,promise:d}),d.then(y=>{u.has(s)&&(u.delete(s),this._post({type:Iu,jobId:s},y))},y=>{u.has(s)&&(u.delete(s),Ws(y)||this._post({type:Iu,jobId:s,error:vf(y||{message:`Error encountered at method ${r}`})}))})):this._post({type:Iu,jobId:s},d)}_onOpenPortMessage(t){new Pr(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,s=this._client.on(t.eventType,n=>{r.postMessage(n)}),i=Id(t.port,"message",n=>{hd(n).type===xr.CLOSE&&(i.remove(),s.remove(),r.close())})}_onResponseMessage(t){var r;const{jobId:s,error:i,data:n}=t,a=this._outJobs;if(!a.has(s))return;const u=a.get(s);a.delete(s),(r=u.abortHandle)==null||r.remove(),i?u.reject(H.fromJSON(JSON.parse(i))):u.resolve(n)}_post(t,r,s){return W6(this._port,t,r,s)}}Pr.kernelInfo={revision:O5,version:tw,buildDate:E5},Pr.clients=new Map;const HL=fe.getLogger("esri.core.workers.Connection");class K6{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((s,i)=>{let n=!0;const a=u=>{Hs(r.signal),n&&(n=!1,u())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let u=0;u<t.length;++u){const d=t[u];Zl(d)?this._clientPromises[u]=d.then(p=>(this._clients[u]=new Pr(p,r),a(s),this._clients[u]),()=>(a(i),null)):(this._clients[u]=new Pr(d,r),this._clientPromises[u]=Promise.resolve(this._clients[u]),a(s))}})}broadcast(t,r,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const a=this._clientPromises[n];i[n]=a.then(u=>u.invoke(t,r,s))}return i}close(){for(const t of this._clientPromises)t.then(r=>r.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let r=0;r<this._clients.length;++r){const s=this._clients[r];if(s){if(!s.isBusy())return Promise.resolve(s)}else t=t||[],t.push(this._clientPromises[r])}return t?Promise.race(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(t,r,s){let i=null;return Array.isArray(s)?(HL.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:s}):i=s,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(n=>n.invoke(t,r,i))}on(t,r){return Promise.all(this._clientPromises).then(()=>Nf(this._clients.map(s=>s.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let s=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(n=>{r[i]=n.openPort(),--s==0&&t(r)})})}get test(){return{numClients:this._clients.length}}}const JL=fe.getLogger("esri.assets");function cu(e){if(!Xe.assetsPath)throw JL.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new H("assets:path-not-set","config.assetsPath is not set");return $a(Xe.assetsPath,e)}const Q6=fe.getLogger("esri.intl");function Ow(e,t,r={}){const{format:s={}}=r;return _d(e,i=>WL(i,t,s))}function WL(e,t,r){let s,i;const n=e.indexOf(":");if(n===-1?s=e.trim():(s=e.slice(0,n).trim(),i=e.slice(n+1).trim()),!s)return"";const a=wd(s,t);if(a==null)return"";const u=r[i]||r[s];return u?KL(a,u):i?QL(a,i):kw(a)}function KL(e,t){switch(t.type){case"date":return Sa(e,t.intlOptions);case"number":return Ul(e,t.intlOptions);default:return Q6.warn("missing format descriptor for key {key}"),kw(e)}}function QL(e,t){switch(t.toLowerCase()){case"dateformat":return Sa(e);case"numberformat":return Ul(e);default:return Q6.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Sa(e):/^numberformat/i.test(t)?Ul(e):kw(e)}}function kw(e){switch(typeof e){case"string":return e;case"number":return Ul(e);case"boolean":return""+e;default:return e instanceof Date?Sa(e):""}}const cS=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ZL={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function dS(e){var t;return(t=ZL[e])!=null&&t}const dc=[],Cl=new Map;function pS(e){for(const t of Cl.keys())Z6(e.pattern,t)&&Cl.delete(t)}function YL(e){return dc.includes(e)||(pS(e),dc.unshift(e)),{remove(){const t=dc.indexOf(e);t>-1&&(dc.splice(t,1),pS(e))}}}async function Tw(e){const t=Gs();Cl.has(e)||Cl.set(e,eN(e,t));const r=Cl.get(e);return await tN.add(r),r}function XL(e){if(!cS.test(e))return null;const[,t,r]=cS.exec(e),s=t+(r?"-"+r.toUpperCase():"");return dS(s)?s:dS(t)?t:null}async function eN(e,t){const r=[];for(const s of dc)if(Z6(s.pattern,e))try{return await s.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new H("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new H("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function Z6(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}E1(()=>{Cl.clear()});const tN=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=ya())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function rN(e,t,r,s){const i=t.exec(r);if(!i)throw new H("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const n=i[1]?`${i[1]}/`:"",a=i[2],u=XL(s),d=`${n}${a}.json`,p=u?`${n}${a}_${u}.json`:d;let f;try{f=await hS(e(p))}catch(y){if(p===d)throw new H("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y});try{f=await hS(e(d))}catch(v){throw new H("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:v})}}return f}async function hS(e){if(q(fS.fetchBundleAsset))return fS.fetchBundleAsset(e);const t=await $t(e,{responseType:"text"});return JSON.parse(t.data)}class sN{constructor({base:t="",pattern:r,location:s=new URL(window.location.href)}){let i;i=typeof s=="string"?n=>new URL(n,new URL(s,window.location.href)).href:s instanceof URL?n=>new URL(n,s).href:s,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return rN(this.getAssetUrl,this.matcher,t,r)}}function iN(e){return new sN(e)}const fS={};YL(iN({pattern:"esri/",location:cu}));const yS={};function nN(e,t){for(const r of e)if(r.name===t.name)return;e.push(t)}function oN(e){var t;const r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:z({},e.has),map:z({},e.map),packages:e.packages&&e.packages.concat()||[],paths:z({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=yS.baseUrl),(t=yS.packages)==null||t.forEach(s=>{nN(r.packages,s)}),r}class aN{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...s)=>t[r](...s)})}}class Mh{constructor(){this._dispatcher=new aN,this._workerPostMessage({type:xr.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Kc(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,s){this._dispatcher.addEventListener(t,r,s)}removeEventListener(t,r,s){this._dispatcher.removeEventListener(t,r,s)}_workerPostMessage(t){Kc(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=hd(t);if(r&&r.type===xr.OPEN){const{modulePath:s,jobId:i}=r;let n=await Pr.loadWorker(s);n||(n=await import(s));const a=Pr.connect(n);this._workerPostMessage({type:xr.OPENED,jobId:i,data:a})}}}const Cv=fe.getLogger("esri.core.workers"),{HANDSHAKE:lN}=xr,uN='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let _p,Sp;const mS="Failed to create Worker. Fallback to execute module in main thread";async function cN(){if(!K("esri-workers")||(K("mozilla"),0))return gS(new Mh);if(!_p&&!Sp)try{const t=uN.replace('"{CONFIGURATION}"',`'${dN()}'`);_p=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Sp=t||{}}let e;if(_p)try{e=new Worker(_p,{name:"esri-worker-"+pN++})}catch{Cv.warn(mS,Sp),e=new Mh}else Cv.warn(mS,Sp),e=new Mh;return gS(e)}async function gS(e){return new Promise(t=>{function r(i){const n=hd(i);n&&n.type===lN&&(e.removeEventListener("message",r),e.removeEventListener("error",s),t(e))}function s(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",s),Cv.warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new Mh).addEventListener("message",r),e.addEventListener("error",s)}e.addEventListener("message",r),e.addEventListener("error",s)})}function dN(){let e;if(Xe.default!=null){const i=z({},Xe);delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(Xe));e.assetsPath=fs(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Gs(),e.has={"esri-csp-restrictions":K("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":K("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":K("esri-2d-query-centroid-enabled"),"featurelayer-pbf":K("featurelayer-pbf"),"featurelayer-simplify-thresholds":K("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":K("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":K("featurelayer-simplify-mobile-factor"),"esri-atomics":K("esri-atomics"),"esri-shared-array-buffer":K("esri-shared-array-buffer"),"esri-tiles-debug":K("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":K("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":K("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=fs(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=fs(e.workers.workerPath):e.workers.workerPath=fs(cu("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Xe.workers.loaderConfig,r=oN({baseUrl:t==null?void 0:t.baseUrl,locale:Gs(),has:z({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},t==null?void 0:t.has),map:z({},t==null?void 0:t.map),paths:z({},t==null?void 0:t.paths),packages:(t==null?void 0:t.packages)||[]}),s={version:tw,buildDate:E5,revision:O5};return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:s})}let pN=0;const hN=fe.getLogger("esri.core.workers"),{ABORT:vS,INVOKE:fN,OPEN:yN,OPENED:mN,RESPONSE:Eu}=xr;class jw{constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",s=>{s.preventDefault(),hN.error(s)})}static async create(t){const r=await cN();return new jw(r,t)}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:s}=r,i=J6();return new Promise((n,a)=>{const u={resolve:n,reject:a,abortHandle:Uf(s,()=>{this._outJobs.delete(i),this._post({type:vS,jobId:i})})};this._outJobs.set(i,u),this._post({type:yN,jobId:i,modulePath:t})})}_onMessage(t){const r=hd(t);if(r)switch(r.type){case mN:this._onOpenedMessage(r);break;case Eu:this._onResponseMessage(r);break;case vS:this._onAbortMessage(r);break;case fN:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,s=t.jobId,i=r.get(s);i&&(i.controller&&i.controller.abort(),r.delete(s))}_onInvokeMessage(t){const{methodName:r,jobId:s,data:i,abortable:n}=t,a=n?new AbortController:null,u=this._inJobs,d=pP[r];let p;try{if(typeof d!="function")throw new TypeError(`${r} is not a function`);p=d.call(null,i,{signal:a?a.signal:null})}catch(f){return void this._post({type:Eu,jobId:s,error:vf(f)})}Zl(p)?(u.set(s,{controller:a,promise:p}),p.then(f=>{u.has(s)&&(u.delete(s),this._post({type:Eu,jobId:s},f))},f=>{u.has(s)&&(u.delete(s),f||(f={message:"Error encountered at method"+r}),Ws(f)||this._post({type:Eu,jobId:s,error:vf(f||{message:`Error encountered at method ${r}`})}))})):this._post({type:Eu,jobId:s},p)}_onOpenedMessage(t){var r;const{jobId:s,data:i}=t,n=this._outJobs.get(s);n&&(this._outJobs.delete(s),(r=n.abortHandle)==null||r.remove(),n.resolve(i))}_onResponseMessage(t){var r;const{jobId:s,error:i,data:n}=t,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),(r=a.abortHandle)==null||r.remove(),i?a.reject(H.fromJSON(JSON.parse(i))):a.resolve(n))}_post(t,r,s){return W6(this.worker,t,r,s)}}let oa=K("esri-workers-debug")?1:K("host-browser")?navigator.hardwareConcurrency-1:0;oa||(oa=K("safari")&&K("mac")||K("trident")?7:2);let bS=0;const Ih=[];async function $p(e,t){const r=new K6;return await r.open(e,t),r}async function Y6(e,t={}){if(typeof e!="string")throw new H("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(K("host-webworker")&&!K("esri-workers")&&(r="local"),r==="local"){let s=await Pr.loadWorker(e);s||(s=await import(e)),Hs(t.signal);const i=t.client||s;return $p([Pr.connect(s)],Oe(z({},t),{client:i}))}if(await gN(),Hs(t.signal),r==="dedicated"){const s=bS++%oa;return $p([await Ih[s].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const s=Math.min(t.maxNumWorkers,oa);if(s<oa){const i=new Array(s);for(let n=0;n<s;++n){const a=bS++%oa;i[n]=Ih[a].open(e,t)}return $p(i,t)}}return $p(Ih.map(s=>s.open(e,t)),t)}let xp=null;async function gN(){if(xp)return xp;new AbortController;const e=[];for(let t=0;t<oa;t++){const r=jw.create(t).then(s=>(Ih[t]=s,s));e.push(r)}return xp=Promise.all(e),xp}function wS(e,t,r){if(e.hasM==null||e.hasZ)for(const s of t)for(const i of s)i.length>2&&(i[2]*=r)}function X6(e,t,r){if(!e&&!t||!r)return;const s=cd(r);_S(e,r,s),_S(t,r,s)}function _S(e,t,r){if(e)for(const s of e)vN(s.geometry,t,r)}function vN(e,t,r){if(we(e)||!e.spatialReference||Yl(e.spatialReference,t))return;const s=cd(e.spatialReference)/r;if(s!==1){if("x"in e)e.z!=null&&(e.z*=s);else if("rings"in e)wS(e,e.rings,s);else if("paths"in e)wS(e,e.paths,s);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=s)}}function e4(e,t,r){if(we(t)||we(r)||r.vcsWkid||Yl(t,r))return null;const s=cd(t)/cd(r);if(s===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>bN(i,s);case"polyline":case"esriGeometryPolyline":return i=>_N(i,s);case"polygon":case"esriGeometryPolygon":return i=>wN(i,s);case"multipoint":case"esriGeometryMultipoint":return i=>SN(i,s);case"extent":case"esriGeometryExtent":return i=>$N(i,s);default:return null}}function bN(e,t){e&&e.z!=null&&(e.z*=t)}function wN(e,t){if(e)for(const r of e.rings)for(const s of r)s.length>2&&(s[2]*=t)}function _N(e,t){if(e)for(const r of e.paths)for(const s of r)s.length>2&&(s[2]*=t)}function SN(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function $N(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function Av(e,t,r){if(!r||!r.features||!r.hasZ)return;const s=e4(r.geometryType,t,e.outSpatialReference);if(!we(s))for(const i of r.features)s(i.geometry)}const t4=new Te({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var Rv;const xN=new Te({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Sr=Rv=class extends X{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?xN.fromJSON(r.fieldValueType):null}clone(){return new Rv({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};o([c({type:String,json:{write:!0}})],Sr.prototype,"alias",void 0),o([c({type:[String,Number],json:{write:{allowNull:!0}}})],Sr.prototype,"defaultValue",void 0),o([c()],Sr.prototype,"description",void 0),o([ce("description")],Sr.prototype,"readDescription",null),o([c({types:P6,json:{read:{reader:xw},write:!0}})],Sr.prototype,"domain",void 0),o([c({type:Boolean,json:{write:!0}})],Sr.prototype,"editable",void 0),o([c({type:zt,json:{write:!0}})],Sr.prototype,"length",void 0),o([c({type:String,json:{write:!0}})],Sr.prototype,"name",void 0),o([c({type:Boolean,json:{write:!0}})],Sr.prototype,"nullable",void 0),o([$e(t4)],Sr.prototype,"type",void 0),o([c()],Sr.prototype,"valueType",void 0),o([ce("valueType",["description"])],Sr.prototype,"readValueType",null),Sr=Rv=o([I("esri.layers.support.Field")],Sr);const fy=Sr;var Pv;const Fv=new Te({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Xt=Pv=class extends X{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=ze.fromJSON(t.spatialReference),s=[];for(let i=0;i<e.length;i++){const n=e[i],a=an.fromJSON(n),u=n.geometry&&n.geometry.spatialReference;q(a.geometry)&&!u&&(a.geometry.spatialReference=r);const d=n.aggregateGeometries,p=a.aggregateGeometries;if(d&&q(p))for(const f in p){const y=p[f],v=d[f],b=v==null?void 0:v.spatialReference;q(y)&&!b&&(y.spatialReference=r)}s.push(a)}return s}writeGeometryType(e,t,r,s){if(e)return void Fv.write(e,t,r,s);const{features:i}=this;if(i){for(const n of i)if(n&&q(n.geometry))return void Fv.write(n.geometry.type,t,r,s)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,s=Yr(e);return!r&&t.spatialReference&&(s.spatialReference=ze.fromJSON(t.spatialReference)),s}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const s of r)if(s&&q(s.geometry)&&s.geometry.spatialReference)return void(t.spatialReference=s.geometry.spatialReference.toJSON())}}clone(){return new Pv(this.cloneProperties())}cloneProperties(){return D({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const s=t.features[r];if(s.geometry){const i=e&&e[r];s.geometry=i&&i.toJSON()||s.geometry}}return t}quantize(e){const{scale:[t,r],translate:[s,i]}=e,n=p=>Math.round((p-s)/t),a=p=>Math.round((i-p)/r),u=this.features,d=this._getQuantizationFunction(this.geometryType,n,a);for(let p=0,f=u.length;p<f;p++)d(u[p].geometry)||(u.splice(p,1),p--,f--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[s,i],scale:[n,a]}=r,u=f=>f*n+s,d=f=>i-f*a,p=this._getHydrationFunction(e,u,d);for(const{geometry:f}of t)q(f)&&p(f);return this.transform=null,this}_quantizePoints(e,t,r){let s,i;const n=[];for(let a=0,u=e.length;a<u;a++){const d=e[a];if(a>0){const p=t(d[0]),f=r(d[1]);p===s&&f===i||(n.push([p-s,f-i]),s=p,i=f)}else s=t(d[0]),i=r(d[1]),n.push([s,i])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return e==="point"?s=>(s.x=t(s.x),s.y=r(s.y),s):e==="polyline"||e==="polygon"?s=>{const i=Tl(s)?s.rings:s.paths,n=[];for(let a=0,u=i.length;a<u;a++){const d=i[a],p=this._quantizePoints(d,t,r);p&&n.push(p)}return n.length>0?(Tl(s)?s.rings=n:s.paths=n,s):null}:e==="multipoint"?s=>{const i=this._quantizePoints(s.points,t,r);return i.length>0?(s.points=i,s):null}:e==="extent"?s=>s:null}_getHydrationFunction(e,t,r){return e==="point"?s=>{s.x=t(s.x),s.y=r(s.y)}:e==="polyline"||e==="polygon"?s=>{const i=Tl(s)?s.rings:s.paths;let n,a;for(let u=0,d=i.length;u<d;u++){const p=i[u];for(let f=0,y=p.length;f<y;f++){const v=p[f];f>0?(n+=v[0],a+=v[1]):(n=v[0],a=v[1]),v[0]=t(n),v[1]=r(a)}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=r(s.ymin),s.xmax=t(s.xmax),s.ymax=r(s.ymax)}:e==="multipoint"?s=>{const i=s.points;let n,a;for(let u=0,d=i.length;u<d;u++){const p=i[u];u>0?(n+=p[0],a+=p[1]):(n=p[0],a=p[1]),p[0]=t(n),p[1]=r(a)}}:void 0}};o([c({type:String,json:{write:!0}})],Xt.prototype,"displayFieldName",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xt.prototype,"exceededTransferLimit",void 0),o([c({type:[an],json:{write:!0}})],Xt.prototype,"features",void 0),o([ce("features")],Xt.prototype,"readFeatures",null),o([c({type:[fy],json:{write:!0}})],Xt.prototype,"fields",void 0),o([c({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:Fv.read}}})],Xt.prototype,"geometryType",void 0),o([ye("geometryType")],Xt.prototype,"writeGeometryType",null),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xt.prototype,"hasM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Xt.prototype,"hasZ",void 0),o([c({types:Ia,json:{write:!0}})],Xt.prototype,"queryGeometry",void 0),o([ce("queryGeometry")],Xt.prototype,"readQueryGeometry",null),o([c({type:ze,json:{write:!0}})],Xt.prototype,"spatialReference",void 0),o([ye("spatialReference")],Xt.prototype,"writeSpatialReference",null),o([c({json:{write:!0}})],Xt.prototype,"transform",void 0),Xt=Pv=o([I("esri.rest.support.FeatureSet")],Xt),Xt.prototype.toJSON.isDefaultToJSON=!0;const yy=Xt;var MN=Object.freeze(Object.defineProperty({__proto__:null,default:yy},Symbol.toStringTag,{value:"Module"}));let IN=0;const ym=fe.getLogger("esri.layers.graphics.sources.MemorySource");let An=class extends Nd.LoadableMixin(oy(Ew(gt))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=q(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var e;const t=(e=this.layer)==null?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);Av(e,this.layer.spatialReference,r);const s=yy.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const i=this.layer.objectIdField;for(const n of s.features){const a=n.attributes[i],u=this._idToClientGraphic.get(a);u&&(n.geometry=u.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new H("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return Av(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:jt.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new H("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const s=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const n=p=>"objectId"in p&&p.objectId!=null?p.objectId:"attributes"in p&&p.attributes[t]!=null?p.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const p of e.deleteFeatures){const f=n(p);f!=null&&s.push(f)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const p of e.updateFeatures)if(i.push(this._serializeFeature(p)),a){const f=n(p);f!=null&&a.set(f,p)}}X6(r?r.features:null,i,this.layer.spatialReference);const{fullExtent:u,featureEditResults:d}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:i,deletes:s});return this.fullExtent=u,r&&r.finish(d.uidToObjectId),this._updateClientGraphicIds(a,d),this._createEditsResult(d)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||we(e))return;const r=[];for(const{geometry:s}of e)!q(s)||s.type!=="mesh"||s.hasExtent||s.loaded||r.push(s.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const s=e.get(r.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const r of t.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new H("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let s=null;for(let n=0;n<e.length;n++){const a=e[n],u=this._serializeFeature(a);!s&&q(a.geometry)&&(s=a.geometry.type),r[n]=u,t.set(`${u.uid}`,a)}const i=this;return{features:r,inferredGeometryType:s,finish(n){const a=i.sourceJSON.objectIdField;for(const u in n){const d=n[u],p=t.get(u);p&&(p.attributes||(p.attributes={}),d===-1?delete p.attributes[a]:p.attributes[a]=d,i._addIdToClientGraphic(p))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];r!=null&&this._idToClientGraphic.set(r,e)}get layerOrSourceGeometryType(){var e,t,r;return(e=(t=this.layer)==null?void 0:t.geometryType)!=null?e:(r=this.sourceJSON)==null?void 0:r.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),s=(IN++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:t}:{uid:s,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return we(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Ma.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await Y6("MemorySourceWorker",{strategy:K("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,objectIdField:s,hasM:i,hasZ:n,timeInfo:a}=this.layer,u=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const d=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",v=>{ym.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),v.preventDefault()}));const p={features:d.features,fields:t&&t.map(v=>v.toJSON()),geometryType:hg.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&i,hasZ:this.layerOrSourceGeometryType==="mesh"||n,objectIdField:s,spatialReference:u?null:r&&r.toJSON(),timeInfo:a?a.toJSON():null},f=await this._connection.invoke("load",p,{signal:e});for(const v of f.warnings)ym.warn(v.message,{layer:this.layer,warning:v});f.featureErrors.length&&ym.warn(`Encountered ${f.featureErrors.length} validation errors while loading features`,f.featureErrors);const y=f.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(y.geometryType=hg.toJSON(d.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),d.finish(f.assignedObjectIds)}};o([a1({Type:an,ensureType:ct(an)})],An.prototype,"itemType",void 0),o([c()],An.prototype,"type",void 0),o([c({constructOnly:!0})],An.prototype,"layer",void 0),o([c({readOnly:!0})],An.prototype,"workerGeometryType",null),o([c()],An.prototype,"sourceJSON",void 0),An=o([I("esri.layers.graphics.sources.MemorySource")],An);const SS=An;function EN(e){return"portalItem"in e}const r4=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):EN(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return o([c({type:String})],t.prototype,"apiKey",null),t=o([I("esri.layers.mixins.APIKeyMixin")],t),t},s4={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},i4=Object.values(s4),n4=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${i4.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),ON=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${i4.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),kN=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function TN(e){return!!n4.test(e)}function Ud(e){const t=Dr(e),r=t.path.match(n4)||t.path.match(ON);if(!r)return null;const[,s,i,n,a]=r,u=i.indexOf("/");return{title:my(u!==-1?i.slice(u+1):i),serverType:s4[n.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:s}}}function o4(e){const t=Dr(e).path.match(kN);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function my(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function a4(e,t){const r=[];if(e){const s=Ud(e);q(s)&&s.title&&r.push(s.title)}if(t){const s=my(t);r.push(s)}if(r.length===2){if(r[0].toLowerCase().indexOf(r[1].toLowerCase())!==-1)return r[0];if(r[1].toLowerCase().indexOf(r[0].toLowerCase())!==-1)return r[1]}return r.join(" - ")}function Cw(e){if(!e)return!1;const t=".arcgis.com/",r="//services",s="//tiles",i="//features",n=(e=e.toLowerCase()).indexOf(t)!==-1,a=e.indexOf(r)!==-1||e.indexOf(s)!==-1||e.indexOf(i)!==-1;return n&&a}function l4(e,t){return e&&ew(S5(e,t))}function u4(e){let{url:t}=e;if(!t)return{url:t};t=S5(t,e.logger);const r=Dr(t),s=Ud(r.path);let i;if(q(s))s.sublayer!=null&&e.layer.layerId==null&&(i=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){const n=o4(r.path);q(n)&&(t=n.serviceUrl,i=n.sublayerId)}return{url:ew(t),layerId:i}}function c4(e,t,r,s,i){ao(t,s,"url",i),s.url&&e.layerId!=null&&(s.url=$a(s.url,r,e.layerId.toString()))}function jN(e){if(!e)return!1;const t=e.toLowerCase(),r=t.indexOf("/services/")!==-1,s=t.indexOf("/mapserver/wmsserver")!==-1,i=t.indexOf("/imageserver/wmsserver")!==-1,n=t.indexOf("/wmsserver")!==-1;return r&&(s||i||n)}const d4=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=Ud(this.url);if(q(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",l4(r,fe.getLogger(this.declaredClass)))}};return o([c()],t.prototype,"title",null),o([c({type:String})],t.prototype,"url",null),t=o([I("esri.layers.mixins.ArcGISService")],t),t};function qd(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function CN(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function AN(e,t,r,s,i,n,a,u,d,p,f,y,v,b,$,k){const E=new Float32Array(16);return E[0]=e,E[1]=t,E[2]=r,E[3]=s,E[4]=i,E[5]=n,E[6]=a,E[7]=u,E[8]=d,E[9]=p,E[10]=f,E[11]=y,E[12]=v,E[13]=b,E[14]=$,E[15]=k,E}function RN(e,t){return new Float32Array(e,t,16)}const PN=qd();Object.freeze({__proto__:null,create:qd,clone:CN,fromValues:AN,createView:RN,IDENTITY:PN});function FN(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function mo(e,t,r,s,i,n,a,u,d,p,f,y,v,b,$,k,E){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=u,e[7]=d,e[8]=p,e[9]=f,e[10]=y,e[11]=v,e[12]=b,e[13]=$,e[14]=k,e[15]=E,e}function Aw(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hn(e,t){if(e===t){const r=t[1],s=t[2],i=t[3],n=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=n,e[11]=t[14],e[12]=i,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function p4(e,t){const r=t[0],s=t[1],i=t[2],n=t[3],a=t[4],u=t[5],d=t[6],p=t[7],f=t[8],y=t[9],v=t[10],b=t[11],$=t[12],k=t[13],E=t[14],P=t[15],Q=r*u-s*a,Z=r*d-i*a,h=r*p-n*a,g=s*d-i*u,m=s*p-n*u,_=i*p-n*d,x=f*k-y*$,T=f*E-v*$,S=f*P-b*$,C=y*E-v*k,J=y*P-b*k,B=v*P-b*E;let V=Q*B-Z*J+h*C+g*S-m*T+_*x;return V?(V=1/V,e[0]=(u*B-d*J+p*C)*V,e[1]=(i*J-s*B-n*C)*V,e[2]=(k*_-E*m+P*g)*V,e[3]=(v*m-y*_-b*g)*V,e[4]=(d*S-a*B-p*T)*V,e[5]=(r*B-i*S+n*T)*V,e[6]=(E*h-$*_-P*Z)*V,e[7]=(f*_-v*h+b*Z)*V,e[8]=(a*J-u*S+p*x)*V,e[9]=(s*S-r*J-n*x)*V,e[10]=($*m-k*h+P*Q)*V,e[11]=(y*h-f*m-b*Q)*V,e[12]=(u*T-a*C-d*x)*V,e[13]=(r*C-s*T+i*x)*V,e[14]=(k*Z-$*g-E*Q)*V,e[15]=(f*g-y*Z+v*Q)*V,e):null}function LN(e,t){const r=t[0],s=t[1],i=t[2],n=t[3],a=t[4],u=t[5],d=t[6],p=t[7],f=t[8],y=t[9],v=t[10],b=t[11],$=t[12],k=t[13],E=t[14],P=t[15];return e[0]=u*(v*P-b*E)-y*(d*P-p*E)+k*(d*b-p*v),e[1]=-(s*(v*P-b*E)-y*(i*P-n*E)+k*(i*b-n*v)),e[2]=s*(d*P-p*E)-u*(i*P-n*E)+k*(i*p-n*d),e[3]=-(s*(d*b-p*v)-u*(i*b-n*v)+y*(i*p-n*d)),e[4]=-(a*(v*P-b*E)-f*(d*P-p*E)+$*(d*b-p*v)),e[5]=r*(v*P-b*E)-f*(i*P-n*E)+$*(i*b-n*v),e[6]=-(r*(d*P-p*E)-a*(i*P-n*E)+$*(i*p-n*d)),e[7]=r*(d*b-p*v)-a*(i*b-n*v)+f*(i*p-n*d),e[8]=a*(y*P-b*k)-f*(u*P-p*k)+$*(u*b-p*y),e[9]=-(r*(y*P-b*k)-f*(s*P-n*k)+$*(s*b-n*y)),e[10]=r*(u*P-p*k)-a*(s*P-n*k)+$*(s*p-n*u),e[11]=-(r*(u*b-p*y)-a*(s*b-n*y)+f*(s*p-n*u)),e[12]=-(a*(y*E-v*k)-f*(u*E-d*k)+$*(u*v-d*y)),e[13]=r*(y*E-v*k)-f*(s*E-i*k)+$*(s*v-i*y),e[14]=-(r*(u*E-d*k)-a*(s*E-i*k)+$*(s*d-i*u)),e[15]=r*(u*v-d*y)-a*(s*v-i*y)+f*(s*d-i*u),e}function NN(e){const t=e[0],r=e[1],s=e[2],i=e[3],n=e[4],a=e[5],u=e[6],d=e[7],p=e[8],f=e[9],y=e[10],v=e[11],b=e[12],$=e[13],k=e[14],E=e[15];return(t*a-r*n)*(y*E-v*k)-(t*u-s*n)*(f*E-v*$)+(t*d-i*n)*(f*k-y*$)+(r*u-s*a)*(p*E-v*b)-(r*d-i*a)*(p*k-y*b)+(s*d-i*u)*(p*$-f*b)}function Rw(e,t,r){const s=t[0],i=t[1],n=t[2],a=t[3],u=t[4],d=t[5],p=t[6],f=t[7],y=t[8],v=t[9],b=t[10],$=t[11],k=t[12],E=t[13],P=t[14],Q=t[15];let Z=r[0],h=r[1],g=r[2],m=r[3];return e[0]=Z*s+h*u+g*y+m*k,e[1]=Z*i+h*d+g*v+m*E,e[2]=Z*n+h*p+g*b+m*P,e[3]=Z*a+h*f+g*$+m*Q,Z=r[4],h=r[5],g=r[6],m=r[7],e[4]=Z*s+h*u+g*y+m*k,e[5]=Z*i+h*d+g*v+m*E,e[6]=Z*n+h*p+g*b+m*P,e[7]=Z*a+h*f+g*$+m*Q,Z=r[8],h=r[9],g=r[10],m=r[11],e[8]=Z*s+h*u+g*y+m*k,e[9]=Z*i+h*d+g*v+m*E,e[10]=Z*n+h*p+g*b+m*P,e[11]=Z*a+h*f+g*$+m*Q,Z=r[12],h=r[13],g=r[14],m=r[15],e[12]=Z*s+h*u+g*y+m*k,e[13]=Z*i+h*d+g*v+m*E,e[14]=Z*n+h*p+g*b+m*P,e[15]=Z*a+h*f+g*$+m*Q,e}function h4(e,t,r){const s=r[0],i=r[1],n=r[2];let a,u,d,p,f,y,v,b,$,k,E,P;return t===e?(e[12]=t[0]*s+t[4]*i+t[8]*n+t[12],e[13]=t[1]*s+t[5]*i+t[9]*n+t[13],e[14]=t[2]*s+t[6]*i+t[10]*n+t[14],e[15]=t[3]*s+t[7]*i+t[11]*n+t[15]):(a=t[0],u=t[1],d=t[2],p=t[3],f=t[4],y=t[5],v=t[6],b=t[7],$=t[8],k=t[9],E=t[10],P=t[11],e[0]=a,e[1]=u,e[2]=d,e[3]=p,e[4]=f,e[5]=y,e[6]=v,e[7]=b,e[8]=$,e[9]=k,e[10]=E,e[11]=P,e[12]=a*s+f*i+$*n+t[12],e[13]=u*s+y*i+k*n+t[13],e[14]=d*s+v*i+E*n+t[14],e[15]=p*s+b*i+P*n+t[15]),e}function f4(e,t,r){const s=r[0],i=r[1],n=r[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function y4(e,t,r,s){let i,n,a,u,d,p,f,y,v,b,$,k,E,P,Q,Z,h,g,m,_,x,T,S,C,J=s[0],B=s[1],V=s[2],W=Math.sqrt(J*J+B*B+V*V);return W<Ze?null:(W=1/W,J*=W,B*=W,V*=W,i=Math.sin(r),n=Math.cos(r),a=1-n,u=t[0],d=t[1],p=t[2],f=t[3],y=t[4],v=t[5],b=t[6],$=t[7],k=t[8],E=t[9],P=t[10],Q=t[11],Z=J*J*a+n,h=B*J*a+V*i,g=V*J*a-B*i,m=J*B*a-V*i,_=B*B*a+n,x=V*B*a+J*i,T=J*V*a+B*i,S=B*V*a-J*i,C=V*V*a+n,e[0]=u*Z+y*h+k*g,e[1]=d*Z+v*h+E*g,e[2]=p*Z+b*h+P*g,e[3]=f*Z+$*h+Q*g,e[4]=u*m+y*_+k*x,e[5]=d*m+v*_+E*x,e[6]=p*m+b*_+P*x,e[7]=f*m+$*_+Q*x,e[8]=u*T+y*S+k*C,e[9]=d*T+v*S+E*C,e[10]=p*T+b*S+P*C,e[11]=f*T+$*S+Q*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function DN(e,t,r){const s=Math.sin(r),i=Math.cos(r),n=t[4],a=t[5],u=t[6],d=t[7],p=t[8],f=t[9],y=t[10],v=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*i+p*s,e[5]=a*i+f*s,e[6]=u*i+y*s,e[7]=d*i+v*s,e[8]=p*i-n*s,e[9]=f*i-a*s,e[10]=y*i-u*s,e[11]=v*i-d*s,e}function zN(e,t,r){const s=Math.sin(r),i=Math.cos(r),n=t[0],a=t[1],u=t[2],d=t[3],p=t[8],f=t[9],y=t[10],v=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*i-p*s,e[1]=a*i-f*s,e[2]=u*i-y*s,e[3]=d*i-v*s,e[8]=n*s+p*i,e[9]=a*s+f*i,e[10]=u*s+y*i,e[11]=d*s+v*i,e}function VN(e,t,r){const s=Math.sin(r),i=Math.cos(r),n=t[0],a=t[1],u=t[2],d=t[3],p=t[4],f=t[5],y=t[6],v=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*i+p*s,e[1]=a*i+f*s,e[2]=u*i+y*s,e[3]=d*i+v*s,e[4]=p*i-n*s,e[5]=f*i-a*s,e[6]=y*i-u*s,e[7]=v*i-d*s,e}function m4(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function g4(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v4(e,t,r){let s,i,n,a=r[0],u=r[1],d=r[2],p=Math.sqrt(a*a+u*u+d*d);return p<Ze?null:(p=1/p,a*=p,u*=p,d*=p,s=Math.sin(t),i=Math.cos(t),n=1-i,e[0]=a*a*n+i,e[1]=u*a*n+d*s,e[2]=d*a*n-u*s,e[3]=0,e[4]=a*u*n-d*s,e[5]=u*u*n+i,e[6]=d*u*n+a*s,e[7]=0,e[8]=a*d*n+u*s,e[9]=u*d*n-a*s,e[10]=d*d*n+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function b4(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function UN(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function qN(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w4(e,t,r){const s=t[0],i=t[1],n=t[2],a=t[3],u=s+s,d=i+i,p=n+n,f=s*u,y=s*d,v=s*p,b=i*d,$=i*p,k=n*p,E=a*u,P=a*d,Q=a*p;return e[0]=1-(b+k),e[1]=y+Q,e[2]=v-P,e[3]=0,e[4]=y-Q,e[5]=1-(f+k),e[6]=$+E,e[7]=0,e[8]=v+P,e[9]=$-E,e[10]=1-(f+b),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function BN(e,t){const r=GN,s=-t[0],i=-t[1],n=-t[2],a=t[3],u=t[4],d=t[5],p=t[6],f=t[7],y=s*s+i*i+n*n+a*a;return y>0?(r[0]=2*(u*a+f*s+d*n-p*i)/y,r[1]=2*(d*a+f*i+p*s-u*n)/y,r[2]=2*(p*a+f*n+u*i-d*s)/y):(r[0]=2*(u*a+f*s+d*n-p*i),r[1]=2*(d*a+f*i+p*s-u*n),r[2]=2*(p*a+f*n+u*i-d*s)),w4(e,t,r),e}const GN=ka();function HN(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function JN(e,t){const r=t[0],s=t[1],i=t[2],n=t[4],a=t[5],u=t[6],d=t[8],p=t[9],f=t[10];return e[0]=Math.sqrt(r*r+s*s+i*i),e[1]=Math.sqrt(n*n+a*a+u*u),e[2]=Math.sqrt(d*d+p*p+f*f),e}function WN(e,t){const r=t[0]+t[5]+t[10];let s=0;return r>0?(s=2*Math.sqrt(r+1),e[3]=.25*s,e[0]=(t[6]-t[9])/s,e[1]=(t[8]-t[2])/s,e[2]=(t[1]-t[4])/s):t[0]>t[5]&&t[0]>t[10]?(s=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/s,e[0]=.25*s,e[1]=(t[1]+t[4])/s,e[2]=(t[8]+t[2])/s):t[5]>t[10]?(s=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/s,e[0]=(t[1]+t[4])/s,e[1]=.25*s,e[2]=(t[6]+t[9])/s):(s=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/s,e[0]=(t[8]+t[2])/s,e[1]=(t[6]+t[9])/s,e[2]=.25*s),e}function KN(e,t,r,s){const i=t[0],n=t[1],a=t[2],u=t[3],d=i+i,p=n+n,f=a+a,y=i*d,v=i*p,b=i*f,$=n*p,k=n*f,E=a*f,P=u*d,Q=u*p,Z=u*f,h=s[0],g=s[1],m=s[2];return e[0]=(1-($+E))*h,e[1]=(v+Z)*h,e[2]=(b-Q)*h,e[3]=0,e[4]=(v-Z)*g,e[5]=(1-(y+E))*g,e[6]=(k+P)*g,e[7]=0,e[8]=(b+Q)*m,e[9]=(k-P)*m,e[10]=(1-(y+$))*m,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function QN(e,t,r,s,i){const n=t[0],a=t[1],u=t[2],d=t[3],p=n+n,f=a+a,y=u+u,v=n*p,b=n*f,$=n*y,k=a*f,E=a*y,P=u*y,Q=d*p,Z=d*f,h=d*y,g=s[0],m=s[1],_=s[2],x=i[0],T=i[1],S=i[2],C=(1-(k+P))*g,J=(b+h)*g,B=($-Z)*g,V=(b-h)*m,W=(1-(v+P))*m,M=(E+Q)*m,U=($+Z)*_,te=(E-Q)*_,de=(1-(v+k))*_;return e[0]=C,e[1]=J,e[2]=B,e[3]=0,e[4]=V,e[5]=W,e[6]=M,e[7]=0,e[8]=U,e[9]=te,e[10]=de,e[11]=0,e[12]=r[0]+x-(C*x+V*T+U*S),e[13]=r[1]+T-(J*x+W*T+te*S),e[14]=r[2]+S-(B*x+M*T+de*S),e[15]=1,e}function ZN(e,t){const r=t[0],s=t[1],i=t[2],n=t[3],a=r+r,u=s+s,d=i+i,p=r*a,f=s*a,y=s*u,v=i*a,b=i*u,$=i*d,k=n*a,E=n*u,P=n*d;return e[0]=1-y-$,e[1]=f+P,e[2]=v-E,e[3]=0,e[4]=f-P,e[5]=1-p-$,e[6]=b+k,e[7]=0,e[8]=v+E,e[9]=b-k,e[10]=1-p-y,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function YN(e,t,r,s,i,n,a){const u=1/(r-t),d=1/(i-s),p=1/(n-a);return e[0]=2*n*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*d,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(i+s)*d,e[10]=(a+n)*p,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n*2*p,e[15]=0,e}function XN(e,t,r,s,i){const n=1/Math.tan(t/2);let a;return e[0]=n/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(a=1/(s-i),e[10]=(i+s)*a,e[14]=2*i*s*a):(e[10]=-1,e[14]=-2*s),e}function eD(e,t,r,s){const i=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),d=2/(a+u),p=2/(i+n);return e[0]=d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p,e[6]=0,e[7]=0,e[8]=-(a-u)*d*.5,e[9]=(i-n)*p*.5,e[10]=s/(r-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*r/(r-s),e[15]=0,e}function tD(e,t,r,s,i,n,a){const u=1/(t-r),d=1/(s-i),p=1/(n-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*d,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*p,e[11]=0,e[12]=(t+r)*u,e[13]=(i+s)*d,e[14]=(a+n)*p,e[15]=1,e}function rD(e,t,r,s){let i,n,a,u,d,p,f,y,v,b;const $=t[0],k=t[1],E=t[2],P=s[0],Q=s[1],Z=s[2],h=r[0],g=r[1],m=r[2];return Math.abs($-h)<Ze&&Math.abs(k-g)<Ze&&Math.abs(E-m)<Ze?Aw(e):(f=$-h,y=k-g,v=E-m,b=1/Math.sqrt(f*f+y*y+v*v),f*=b,y*=b,v*=b,i=Q*v-Z*y,n=Z*f-P*v,a=P*y-Q*f,b=Math.sqrt(i*i+n*n+a*a),b?(b=1/b,i*=b,n*=b,a*=b):(i=0,n=0,a=0),u=y*a-v*n,d=v*i-f*a,p=f*n-y*i,b=Math.sqrt(u*u+d*d+p*p),b?(b=1/b,u*=b,d*=b,p*=b):(u=0,d=0,p=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=n,e[5]=d,e[6]=y,e[7]=0,e[8]=a,e[9]=p,e[10]=v,e[11]=0,e[12]=-(i*$+n*k+a*E),e[13]=-(u*$+d*k+p*E),e[14]=-(f*$+y*k+v*E),e[15]=1,e)}function sD(e,t,r,s){const i=t[0],n=t[1],a=t[2],u=s[0],d=s[1],p=s[2];let f=i-r[0],y=n-r[1],v=a-r[2],b=f*f+y*y+v*v;b>0&&(b=1/Math.sqrt(b),f*=b,y*=b,v*=b);let $=d*v-p*y,k=p*f-u*v,E=u*y-d*f;return b=$*$+k*k+E*E,b>0&&(b=1/Math.sqrt(b),$*=b,k*=b,E*=b),e[0]=$,e[1]=k,e[2]=E,e[3]=0,e[4]=y*E-v*k,e[5]=v*$-f*E,e[6]=f*k-y*$,e[7]=0,e[8]=f,e[9]=y,e[10]=v,e[11]=0,e[12]=i,e[13]=n,e[14]=a,e[15]=1,e}function iD(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function nD(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function oD(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function _4(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function aD(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function lD(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e[3]=t[3]+r[3]*s,e[4]=t[4]+r[4]*s,e[5]=t[5]+r[5]*s,e[6]=t[6]+r[6]*s,e[7]=t[7]+r[7]*s,e[8]=t[8]+r[8]*s,e[9]=t[9]+r[9]*s,e[10]=t[10]+r[10]*s,e[11]=t[11]+r[11]*s,e[12]=t[12]+r[12]*s,e[13]=t[13]+r[13]*s,e[14]=t[14]+r[14]*s,e[15]=t[15]+r[15]*s,e}function S4(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function $4(e,t){if(e===t)return!0;const r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],u=e[5],d=e[6],p=e[7],f=e[8],y=e[9],v=e[10],b=e[11],$=e[12],k=e[13],E=e[14],P=e[15],Q=t[0],Z=t[1],h=t[2],g=t[3],m=t[4],_=t[5],x=t[6],T=t[7],S=t[8],C=t[9],J=t[10],B=t[11],V=t[12],W=t[13],M=t[14],U=t[15];return Math.abs(r-Q)<=Ze*Math.max(1,Math.abs(r),Math.abs(Q))&&Math.abs(s-Z)<=Ze*Math.max(1,Math.abs(s),Math.abs(Z))&&Math.abs(i-h)<=Ze*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-g)<=Ze*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-m)<=Ze*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(u-_)<=Ze*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(d-x)<=Ze*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(p-T)<=Ze*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(f-S)<=Ze*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(y-C)<=Ze*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(v-J)<=Ze*Math.max(1,Math.abs(v),Math.abs(J))&&Math.abs(b-B)<=Ze*Math.max(1,Math.abs(b),Math.abs(B))&&Math.abs($-V)<=Ze*Math.max(1,Math.abs($),Math.abs(V))&&Math.abs(k-W)<=Ze*Math.max(1,Math.abs(k),Math.abs(W))&&Math.abs(E-M)<=Ze*Math.max(1,Math.abs(E),Math.abs(M))&&Math.abs(P-U)<=Ze*Math.max(1,Math.abs(P),Math.abs(U))}function x4(e){const t=Ze,r=e[0],s=e[1],i=e[2],n=e[4],a=e[5],u=e[6],d=e[8],p=e[9],f=e[10];return Math.abs(1-(r*r+n*n+d*d))<=t&&Math.abs(1-(s*s+a*a+p*p))<=t&&Math.abs(1-(i*i+u*u+f*f))<=t}const uD=Rw,cD=_4;Object.freeze({__proto__:null,copy:FN,set:mo,identity:Aw,transpose:hn,invert:p4,adjoint:LN,determinant:NN,multiply:Rw,translate:h4,scale:f4,rotate:y4,rotateX:DN,rotateY:zN,rotateZ:VN,fromTranslation:m4,fromScaling:g4,fromRotation:v4,fromXRotation:b4,fromYRotation:UN,fromZRotation:qN,fromRotationTranslation:w4,fromQuat2:BN,getTranslation:HN,getScaling:JN,getRotation:WN,fromRotationTranslationScale:KN,fromRotationTranslationScaleOrigin:QN,fromQuat:ZN,frustum:YN,perspective:XN,perspectiveFromFieldOfView:eD,ortho:tD,lookAt:rD,targetTo:sD,str:iD,frob:nD,add:oD,subtract:_4,multiplyScalar:aD,multiplyScalarAndAdd:lD,exactEquals:S4,equals:$4,isOrthoNormal:x4,mul:uD,sub:cD});const dD=(e,t)=>{const r=mo(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return hn(r,r)},pD=(e,t)=>{const r=mo(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return hn(r,r)},hD=(e,t)=>{const r=1-t,s=mo(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return hn(s,s)},fD=(e,t)=>{const r=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180),i=mo(e,.213+.787*s-.213*r,.715-.715*s-.715*r,.072-.072*s+.928*r,0,.213-.213*s+.143*r,.715+.285*s+.14*r,.072-.072*s-.283*r,0,.213-.213*s-.787*r,.715-.715*s+.715*r,.072+.928*s+.072*r,0,0,0,0,1);return hn(i,i)},yD=(e,t)=>{const r=1-2*t,s=mo(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return hn(s,s)},mD=(e,t)=>{const r=mo(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return hn(r,r)},gD=(e,t)=>{const r=1-t,s=mo(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return hn(s,s)};class gy{constructor(t,r,s){this.strength=t,this.radius=r,this.threshold=s,this.type="bloom"}interpolate(t,r,s){this.strength=Ar(t.strength,r.strength,s),this.radius=Ar(t.radius,r.radius,s),this.threshold=Ar(t.threshold,r.threshold,s)}clone(){return new gy(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Lc(this.radius),strength:this.strength,threshold:this.threshold}}}class vy{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,s){this.radius=Math.round(Ar(t.radius,r.radius,s))}clone(){return new vy(this.radius)}toJSON(){return{type:"blur",radius:Lc(this.radius)}}}class fd{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,s){this.amount=Ar(t.amount,r.amount,s),this._updateMatrix()}clone(){return new fd(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||qd();switch(this.type){case"brightness":this._colorMatrix=dD(t,this.amount);break;case"contrast":this._colorMatrix=pD(t,this.amount);break;case"grayscale":this._colorMatrix=hD(t,this.amount);break;case"invert":this._colorMatrix=yD(t,this.amount);break;case"saturate":this._colorMatrix=mD(t,this.amount);break;case"sepia":this._colorMatrix=gD(t,this.amount)}}}class by{constructor(t,r,s,i){this.offsetX=t,this.offsetY=r,this.blurRadius=s,this.color=i,this.type="drop-shadow"}interpolate(t,r,s){this.offsetX=Ar(t.offsetX,r.offsetX,s),this.offsetY=Ar(t.offsetY,r.offsetY,s),this.blurRadius=Ar(t.blurRadius,r.blurRadius,s),this.color[0]=Math.round(Ar(t.color[0],r.color[0],s)),this.color[1]=Math.round(Ar(t.color[1],r.color[1],s)),this.color[2]=Math.round(Ar(t.color[2],r.color[2],s)),this.color[3]=Ar(t.color[3],r.color[3],s)}clone(){return new by(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Lc(this.offsetX),yoffset:Lc(this.offsetY),blurRadius:Lc(this.blurRadius),color:t}}}class wy{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,s){this.angle=Ar(t.angle,r.angle,s),this._updateMatrix()}clone(){return new wy(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||qd();this._colorMatrix=fD(t,this.angle)}}class _y{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,s){this.amount=Ar(t.amount,r.amount,s)}clone(){return new _y(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Ar(e,t,r){return e+(t-e)*r}function Lc(e){return Math.round(1e3*on(e))/1e3}function vD(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new fd(e.type,0);case"saturate":case"brightness":case"contrast":return new fd(e.type,1);case"opacity":return new _y(1);case"hue-rotate":return new wy(0);case"blur":return new vy(0);case"drop-shadow":return new by(0,0,0,[...C1("transparent")]);case"bloom":return new gy(0,0,1)}}function bD(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((s,i)=>s.type===r[i].type)}function wD(e,t){const r=e.length>t.length?e:t,s=e.length>t.length?t:e;for(let i=s.length;i<r.length;i++)s.push(vD(r[i]))}function _D(e){const t=e[0];return!!t&&"type"in t}var $S,xS,M4={exports:{}};function I4(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=MS(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new H("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:MS(r.value)}});t.sort((r,s)=>s.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!bD(t[r].effects,t[r+1].effects))throw new H("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});wD(t[r].effects,t[r+1].effects)}return t.sort((r,s)=>s.scale-r.scale),t}function MS(e){let t;if(!e)return[];try{t=M4.exports.parse(e)}catch(r){throw new H("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>SD(r))}function SD(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return $D(e);case"opacity":return xD(e);case"hue-rotate":return MD(e);case"blur":return ID(e);case"drop-shadow":return ED(e);case"bloom":return OD(e)}}catch(t){throw t.details.filter=e,t}throw new H("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function $D(e){let t=1;return du(e.parameters,1),e.parameters.length===1&&(t=Ls(e.parameters[0])),new fd(e.name,t)}function xD(e){let t=1;return du(e.parameters,1),e.parameters.length===1&&(t=Ls(e.parameters[0])),new _y(t)}function MD(e){let t=0;return du(e.parameters,1),e.parameters.length===1&&(t=RD(e.parameters[0])),new wy(t)}function ID(e){let t=0;return du(e.parameters,1),e.parameters.length===1&&(t=Lw(e.parameters[0]),Bd(t,e.parameters[0])),new vy(t)}function ED(e){const t=[];let r=null;for(const s of e.parameters)if(s.type==="color"){if(t.length&&Object.freeze(t),r)throw new H("effect:type-error","Accepts only one color",{});r=PD(s)}else{const i=Lw(s);if(Object.isFrozen(t))throw new H("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&Bd(i,s)}if(t.length<2||t.length>3)throw new H("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new by(t[0],t[1],t[2]||0,r||E4("black"))}function OD(e){let t=1,r=0,s=0;return du(e.parameters,3),e.parameters[0]&&(t=Ls(e.parameters[0])),e.parameters[1]&&(r=Lw(e.parameters[1]),Bd(r,e.parameters[1])),e.parameters[2]&&(s=Ls(e.parameters[2])),new gy(t,r,s)}function du(e,t){if(e.length>t)throw new H("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function Sy(e){if(e.type==="color")return"<color>";if(e.unit){if(Fw[e.unit])return"<length>";if(Pw[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function Bd(e,t){if(e<0)throw new H("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function kD(e){if(e.type!=="quantity"||e.unit!==null)throw new H("effect:type-error",`Expected <double>, Actual: ${Sy(e)}`,{term:e})}function TD(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new H("effect:type-error",`Expected <double> or <percentage>, Actual: ${Sy(e)}`,{term:e})}xS=function(){function e(i,n){function a(){this.constructor=i}a.prototype=n.prototype,i.prototype=new a}function t(i,n,a,u){var d=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(d,t.prototype),d.expected=n,d.found=a,d.location=u,d.name="SyntaxError",d}function r(i,n,a){return a=a||" ",i.length>n?i:(n-=i.length,i+(a+=a.repeat(n)).slice(0,n))}function s(i,n){var a,u={},d=(n=n!==void 0?n:{}).grammarSource,p={start:Be},f=Be,y="none",v=")",b=",",$="(",k="%",E="px",P="cm",Q="mm",Z="in",h="pt",g="pc",m="deg",_="rad",x="grad",T="turn",S="#",C=".",J="e",B=/^[ \t\n\r]/,V=/^[a-z\-]/,W=/^[0-9a-fA-F]/,M=/^[+\-]/,U=/^[0-9]/,te=ft("none"),de=be("none",!1),Ie=be(")",!1),ge=be(",",!1),at=ft("whitespace"),et=He([" ","	",`
`,"\r"],!1,!1),Vt=ft("function"),_t=be("(",!1),xt=ft("identifier"),tt=He([["a","z"],"-"],!1,!1),Mt=ft("percentage"),vs=be("%",!1),Ht=ft("length"),Ks=be("px",!1),es=be("cm",!1),j=be("mm",!1),A=be("in",!1),F=be("pt",!1),Y=be("pc",!1),ee=ft("angle"),le=be("deg",!1),pe=be("rad",!1),oe=be("grad",!1),ue=be("turn",!1),se=ft("number"),Se=ft("color"),ve=be("#",!1),he=He([["0","9"],["a","f"],["A","F"]],!1,!1),Ee=He(["+","-"],!1,!1),Ce=He([["0","9"]],!1,!1),lt=be(".",!1),Ke=be("e",!1),rt=function(){return[]},gr=function(O,G){return{type:"function",name:O,parameters:G||[]}},Qs=function(O,G){return G.length>0?DE(O,G,3):[O]},La=function(O){return{type:"quantity",value:O.value,unit:O.unit}},Mi=function(O){return{type:"color",colorType:O.type,value:O.value}},Na=function(O){return O},sr=function(){return ne()},vr=function(O){return{value:O,unit:"%"}},Da=function(O){return{value:O,unit:"px"}},Cy=function(O){return{value:O,unit:"cm"}},yu=function(O){return{value:O,unit:"mm"}},Ay=function(O){return{value:O,unit:"in"}},mu=function(O){return{value:O,unit:"pt"}},za=function(O){return{value:O,unit:"pc"}},Gd=function(O){return{value:O,unit:"deg"}},Hd=function(O){return{value:O,unit:"rad"}},bs=function(O){return{value:O,unit:"grad"}},Ii=function(O){return{value:O,unit:"turn"}},Jd=function(O){return{value:O,unit:null}},Ry=function(){return{type:"hex",value:ne()}},Ei=function(O){return{type:"function",value:O}},Wd=function(){return{type:"named",value:ne()}},Kd=function(){return parseFloat(ne())},N=0,qe=0,Va=[{line:1,column:1}],zr=0,L=[],R=0;if("startRule"in n){if(!(n.startRule in p))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');f=p[n.startRule]}function ne(){return i.substring(qe,N)}function be(O,G){return{type:"literal",text:O,ignoreCase:G}}function He(O,G,re){return{type:"class",parts:O,inverted:G,ignoreCase:re}}function At(){return{type:"end"}}function ft(O){return{type:"other",description:O}}function Ft(O){var G,re=Va[O];if(re)return re;for(G=O-1;!Va[G];)G--;for(re={line:(re=Va[G]).line,column:re.column};G<O;)i.charCodeAt(G)===10?(re.line++,re.column=1):re.column++,G++;return Va[O]=re,re}function dt(O,G){var re=Ft(O),Ne=Ft(G);return{source:d,start:{offset:O,line:re.line,column:re.column},end:{offset:G,line:Ne.line,column:Ne.column}}}function me(O){N<zr||(N>zr&&(zr=N,L=[]),L.push(O))}function yt(O,G,re){return new t(t.buildMessage(O,G),O,G,re)}function Be(){var O;return(O=Or())===u&&(O=Vr()),O}function Or(){var O,G;return R++,O=N,Zt(),i.substr(N,4)===y?(G=y,N+=4):(G=u,R===0&&me(de)),G!==u?(Zt(),qe=O,O=rt()):(N=O,O=u),R--,O===u&&R===0&&me(te),O}function Vr(){var O,G;if(O=[],(G=Zs())!==u)for(;G!==u;)O.push(G),G=Zs();else O=u;return O}function Zs(){var O,G,re,Ne;return O=N,Zt(),(G=CE())!==u?(Zt(),(re=Py())===u&&(re=null),Zt(),i.charCodeAt(N)===41?(Ne=v,N++):(Ne=u,R===0&&me(Ie)),Ne!==u?(Zt(),qe=O,O=gr(G,re)):(N=O,O=u)):(N=O,O=u),O}function Py(){var O,G,re,Ne,ir,It,rs,Qd;if(O=N,(G=Fy())!==u){for(re=[],Ne=N,ir=Zt(),i.charCodeAt(N)===44?(It=b,N++):(It=u,R===0&&me(ge)),It===u&&(It=null),rs=Zt(),(Qd=Fy())!==u?Ne=ir=[ir,It,rs,Qd]:(N=Ne,Ne=u);Ne!==u;)re.push(Ne),Ne=N,ir=Zt(),i.charCodeAt(N)===44?(It=b,N++):(It=u,R===0&&me(ge)),It===u&&(It=null),rs=Zt(),(Qd=Fy())!==u?Ne=ir=[ir,It,rs,Qd]:(N=Ne,Ne=u);qe=O,O=Qs(G,re)}else N=O,O=u;return O}function Fy(){var O,G;return O=N,(G=AE())===u&&(G=RE())===u&&(G=PE())===u&&(G=FE()),G!==u&&(qe=O,G=La(G)),(O=G)===u&&(O=N,(G=LE())!==u&&(qe=O,G=Mi(G)),O=G),O}function Zt(){var O,G;for(R++,O=[],B.test(i.charAt(N))?(G=i.charAt(N),N++):(G=u,R===0&&me(et));G!==u;)O.push(G),B.test(i.charAt(N))?(G=i.charAt(N),N++):(G=u,R===0&&me(et));return R--,G=u,R===0&&me(at),O}function CE(){var O,G,re;return R++,O=N,(G=s_())!==u?(i.charCodeAt(N)===40?(re=$,N++):(re=u,R===0&&me(_t)),re!==u?(qe=O,O=Na(G)):(N=O,O=u)):(N=O,O=u),R--,O===u&&(G=u,R===0&&me(Vt)),O}function s_(){var O,G,re;if(R++,O=N,G=[],V.test(i.charAt(N))?(re=i.charAt(N),N++):(re=u,R===0&&me(tt)),re!==u)for(;re!==u;)G.push(re),V.test(i.charAt(N))?(re=i.charAt(N),N++):(re=u,R===0&&me(tt));else G=u;return G!==u&&(qe=O,G=sr()),R--,(O=G)===u&&(G=u,R===0&&me(xt)),O}function AE(){var O,G,re;return R++,O=N,Zt(),(G=ts())!==u?(i.charCodeAt(N)===37?(re=k,N++):(re=u,R===0&&me(vs)),re!==u?(qe=O,O=vr(G)):(N=O,O=u)):(N=O,O=u),R--,O===u&&R===0&&me(Mt),O}function RE(){var O,G,re;return R++,O=N,Zt(),(G=ts())!==u?(i.substr(N,2)===E?(re=E,N+=2):(re=u,R===0&&me(Ks)),re!==u?(qe=O,O=Da(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,Zt(),(G=ts())!==u?(i.substr(N,2)===P?(re=P,N+=2):(re=u,R===0&&me(es)),re!==u?(qe=O,O=Cy(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,Zt(),(G=ts())!==u?(i.substr(N,2)===Q?(re=Q,N+=2):(re=u,R===0&&me(j)),re!==u?(qe=O,O=yu(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,Zt(),(G=ts())!==u?(i.substr(N,2)===Z?(re=Z,N+=2):(re=u,R===0&&me(A)),re!==u?(qe=O,O=Ay(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,Zt(),(G=ts())!==u?(i.substr(N,2)===h?(re=h,N+=2):(re=u,R===0&&me(F)),re!==u?(qe=O,O=mu(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,Zt(),(G=ts())!==u?(i.substr(N,2)===g?(re=g,N+=2):(re=u,R===0&&me(Y)),re!==u?(qe=O,O=za(G)):(N=O,O=u)):(N=O,O=u)))))),R--,O===u&&R===0&&me(Ht),O}function PE(){var O,G,re;return R++,O=N,(G=ts())!==u?(i.substr(N,3)===m?(re=m,N+=3):(re=u,R===0&&me(le)),re!==u?(qe=O,O=Gd(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,(G=ts())!==u?(i.substr(N,3)===_?(re=_,N+=3):(re=u,R===0&&me(pe)),re!==u?(qe=O,O=Hd(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,(G=ts())!==u?(i.substr(N,4)===x?(re=x,N+=4):(re=u,R===0&&me(oe)),re!==u?(qe=O,O=bs(G)):(N=O,O=u)):(N=O,O=u),O===u&&(O=N,(G=ts())!==u?(i.substr(N,4)===T?(re=T,N+=4):(re=u,R===0&&me(ue)),re!==u?(qe=O,O=Ii(G)):(N=O,O=u)):(N=O,O=u)))),R--,O===u&&(G=u,R===0&&me(ee)),O}function FE(){var O,G;return R++,O=N,Zt(),(G=ts())!==u?(qe=O,O=Jd(G)):(N=O,O=u),R--,O===u&&R===0&&me(se),O}function LE(){var O,G,re,Ne;if(R++,O=N,i.charCodeAt(N)===35?(G=S,N++):(G=u,R===0&&me(ve)),G!==u){if(re=[],W.test(i.charAt(N))?(Ne=i.charAt(N),N++):(Ne=u,R===0&&me(he)),Ne!==u)for(;Ne!==u;)re.push(Ne),W.test(i.charAt(N))?(Ne=i.charAt(N),N++):(Ne=u,R===0&&me(he));else re=u;re!==u?(qe=O,O=Ry()):(N=O,O=u)}else N=O,O=u;return O===u&&(O=N,(G=Zs())!==u&&(qe=O,G=Ei(G)),(O=G)===u&&(O=N,(G=s_())!==u&&(qe=O,G=Wd()),O=G)),R--,O===u&&(G=u,R===0&&me(Se)),O}function ts(){var O,G,re,Ne,ir,It,rs;for(O=N,M.test(i.charAt(N))?(i.charAt(N),N++):R===0&&me(Ee),G=N,re=[],U.test(i.charAt(N))?(Ne=i.charAt(N),N++):(Ne=u,R===0&&me(Ce));Ne!==u;)re.push(Ne),U.test(i.charAt(N))?(Ne=i.charAt(N),N++):(Ne=u,R===0&&me(Ce));if(i.charCodeAt(N)===46?(Ne=C,N++):(Ne=u,R===0&&me(lt)),Ne!==u){if(ir=[],U.test(i.charAt(N))?(It=i.charAt(N),N++):(It=u,R===0&&me(Ce)),It!==u)for(;It!==u;)ir.push(It),U.test(i.charAt(N))?(It=i.charAt(N),N++):(It=u,R===0&&me(Ce));else ir=u;ir!==u?G=re=[re,Ne,ir]:(N=G,G=u)}else N=G,G=u;if(G===u)if(G=[],U.test(i.charAt(N))?(re=i.charAt(N),N++):(re=u,R===0&&me(Ce)),re!==u)for(;re!==u;)G.push(re),U.test(i.charAt(N))?(re=i.charAt(N),N++):(re=u,R===0&&me(Ce));else G=u;if(G!==u){if(re=N,i.charCodeAt(N)===101?(Ne=J,N++):(Ne=u,R===0&&me(Ke)),Ne!==u){if(M.test(i.charAt(N))?(ir=i.charAt(N),N++):(ir=u,R===0&&me(Ee)),ir===u&&(ir=null),It=[],U.test(i.charAt(N))?(rs=i.charAt(N),N++):(rs=u,R===0&&me(Ce)),rs!==u)for(;rs!==u;)It.push(rs),U.test(i.charAt(N))?(rs=i.charAt(N),N++):(rs=u,R===0&&me(Ce));else It=u;It!==u?re=Ne=[Ne,ir,It]:(N=re,re=u)}else N=re,re=u;re===u&&(re=null),qe=O,O=Kd()}else N=O,O=u;return O}function NE(O,G){return O.map(function(re){return re[G]})}function DE(O,G,re){return[O].concat(NE(G,re))}if((a=f())!==u&&N===i.length)return a;throw a!==u&&N<i.length&&me(At()),yt(L,zr<i.length?i.charAt(zr):null,zr<i.length?dt(zr,zr+1):dt(zr,zr))}return e(t,Error),t.prototype.format=function(i){var n="Error: "+this.message;if(this.location){var a,u=null;for(a=0;a<i.length;a++)if(i[a].source===this.location.source){u=i[a].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,p=this.location.source+":"+d.line+":"+d.column;if(u){var f=this.location.end,y=r("",d.line.toString().length),v=u[d.line-1],b=d.line===f.line?f.column:v.length+1;n+=`
 --> `+p+`
`+y+` |
`+d.line+" | "+v+`
`+y+" | "+r("",d.column-1)+r("",b-d.column,"^")}else n+=`
 at `+p}return n},t.buildMessage=function(i,n){var a={literal:function(b){return'"'+d(b.text)+'"'},class:function(b){var $=b.parts.map(function(k){return Array.isArray(k)?p(k[0])+"-"+p(k[1]):p(k)});return"["+(b.inverted?"^":"")+$+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function u(b){return b.charCodeAt(0).toString(16).toUpperCase()}function d(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+u($)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function($){return"\\x"+u($)})}function p(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+u($)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function($){return"\\x"+u($)})}function f(b){return a[b.type](b)}function y(b){var $,k,E=b.map(f);if(E.sort(),E.length>0){for($=1,k=1;$<E.length;$++)E[$-1]!==E[$]&&(E[k]=E[$],k++);E.length=k}switch(E.length){case 1:return E[0];case 2:return E[0]+" or "+E[1];default:return E.slice(0,-1).join(", ")+", or "+E[E.length-1]}}function v(b){return b?'"'+d(b)+'"':"end of input"}return"Expected "+y(i)+" but "+v(n)+" found."},{SyntaxError:t,parse:s}},($S=M4).exports&&($S.exports=xS());const Pw={deg:1,grad:.9,rad:180/Math.PI,turn:360};function jD(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Pw[e.unit]!=null))throw new H("effect:type-error",`Expected <angle>, Actual: ${Sy(e)}`,{term:e})}const Fw={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function CD(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Fw[e.unit]!=null))throw new H("effect:type-error",`Expected <length>, Actual: ${Sy(e)}`,{term:e})}function Ls(e){TD(e);const t=e.value;return Bd(t,e),e.unit==="%"?.01*t:t}function AD(e){return kD(e),Bd(e.value,e),e.value}function RD(e){return jD(e),e.value*Pw[e.unit]||0}function Lw(e){return CD(e),e.value*Fw[e.unit]||0}function PD(e){switch(e.colorType){case"hex":return k9(e.value);case"named":return E4(e.value);case"function":return ND(e.value)}}function E4(e){if(!mM(e))throw new H("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return O9(e)}const FD=/^rgba?/i,LD=/^hsla?/i;function ND(e){if(du(e.parameters,4),FD.test(e.name))return[Ls(e.parameters[0]),Ls(e.parameters[1]),Ls(e.parameters[2]),e.parameters[3]?Ls(e.parameters[3]):1];if(LD.test(e.name))return gM(AD(e.parameters[0]),Ls(e.parameters[1]),Ls(e.parameters[2]),e.parameters[3]?Ls(e.parameters[3]):1);throw new H("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Lv(e,t,r){try{return zD(e)}catch(i){var s;r==null||(s=r.messages)==null||s.push(i)}return null}function Nv(e,t,r,s){try{const i=DD(e);Lr(r,i,t)}catch(i){s.messages&&s.messages.push(i)}}function DD(e){const t=I4(e);return t?_D(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:s})=>({scale:r,value:s.map(i=>i.toJSON())})):null}function zD(e){if(!e||e.length===0)return null;if(VD(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:IS(r.value)});return t}return IS(e)}function VD(e){const t=e[0];return!!t&&"scale"in t}function IS(e){if(!e||!e.length)return"";const t=[];for(const r of e){let s=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":s=[Oi(r,"amount")];break;case"blur":s=[Oi(r,"radius","pt")];break;case"hue-rotate":s=[Oi(r,"angle","deg")];break;case"drop-shadow":s=[Oi(r,"xoffset","pt"),Oi(r,"yoffset","pt"),Oi(r,"blurRadius","pt"),UD(r,"color")];break;case"bloom":s=[Oi(r,"strength"),Oi(r,"radius","pt"),Oi(r,"threshold")]}const i=`${r.type}(${s.filter(Boolean).join(" ")})`;I4(i),t.push(i)}return t.join(" ")}function Oi(e,t,r){if(e[t]==null)throw new H("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function UD(e,t){if(e[t]==null)throw new H("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const O4=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return o([c({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),o([c({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:Lv},write:{allowNull:!0,writer:Nv}}}}})],t.prototype,"effect",void 0),t=o([I("esri.layers.mixins.BlendLayer")],t),t},k4=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return o([c({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=o([I("esri.layers.mixins.CustomParametersMixin")],t),t},ES={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},qD={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function BD(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function ha(e,t,r){const s=new Date(e.getTime());if(t&&r){const i=qD[r],{getter:n,setter:a,multiplier:u}=i;if(r==="months"){const d=BD(s.getFullYear(),s.getMonth()+t);s.getDate()>d&&s.setDate(d)}s[a](s[n]()+t*u)}return s}function OS(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function GD(e,t,r){return e===0?0:e*ES[t]/ES[r]}var Cs;let Jr=Cs=class extends X{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return kS}static get empty(){return HD}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(Cs.allTime)}get isEmpty(){return this.equals(Cs.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new Cs({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=q(this.start)?this.start.getTime():this.start,r=q(this.end)?this.end.getTime():this.end,s=q(e.start)?e.start.getTime():e.start,i=q(e.end)?e.end.getTime():e.end;return t===s&&r===i}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=qh(this.start,s=>OS(s,e)),r=qh(this.end,s=>ha(OS(s,e),1,e));return new Cs({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Cs.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=yl(this.start,-1/0,u=>u.getTime()),r=yl(this.end,1/0,u=>u.getTime()),s=yl(e.start,-1/0,u=>u.getTime()),i=yl(e.end,1/0,u=>u.getTime());let n,a;if(s>=t&&s<=r?n=s:t>=s&&t<=i&&(n=t),r>=s&&r<=i?a=r:i>=t&&i<=r&&(a=i),!isNaN(n)&&!isNaN(a)){const u=new Cs;return u.start=n===-1/0?null:new Date(n),u.end=a===1/0?null:new Date(a),u}return Cs.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new Cs,{start:s,end:i}=this;return q(s)&&(r.start=ha(s,e,t)),q(i)&&(r.end=ha(i,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return kS.clone();const t=q(this.start)&&q(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=q(this.end)&&q(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Cs({start:t,end:r})}};o([c({type:Date,json:{write:{allowNull:!0}}})],Jr.prototype,"end",void 0),o([ce("end")],Jr.prototype,"readEnd",null),o([ye("end")],Jr.prototype,"writeEnd",null),o([c({readOnly:!0,json:{read:!1}})],Jr.prototype,"isAllTime",null),o([c({readOnly:!0,json:{read:!1}})],Jr.prototype,"isEmpty",null),o([c({type:Date,json:{write:{allowNull:!0}}})],Jr.prototype,"start",void 0),o([ce("start")],Jr.prototype,"readStart",null),o([ye("start")],Jr.prototype,"writeStart",null),Jr=Cs=o([I("esri.TimeExtent")],Jr);const kS=new Jr,HD=new Jr({start:void 0,end:void 0}),xi=Jr;var Dv;let ea=Dv=class extends X{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new Dv({mapLayerId:e,gdbVersion:t})}};o([$e({mapLayer:"map-layer"})],ea.prototype,"type",void 0),o([c({type:zt,json:{write:!0}})],ea.prototype,"mapLayerId",void 0),o([c({type:String,json:{write:!0}})],ea.prototype,"gdbVersion",void 0),ea=Dv=o([I("esri.layers.support.source.MapLayerSource")],ea);var zv;let Di=zv=class extends X{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:r,oidFields:s,spatialReference:i,geometryType:n}=this,a={workspaceId:t,query:r,oidFields:s,spatialReference:(e=i==null?void 0:i.clone())!=null?e:void 0,geometryType:n};return new zv(a)}};o([$e({queryTable:"query-table"})],Di.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Di.prototype,"workspaceId",void 0),o([c({type:String,json:{write:!0}})],Di.prototype,"query",void 0),o([c({type:String,json:{write:!0}})],Di.prototype,"oidFields",void 0),o([c({type:ze,json:{write:!0}})],Di.prototype,"spatialReference",void 0),o([$e(Kx)],Di.prototype,"geometryType",void 0),Di=zv=o([I("esri.layers.support.source.QueryTableDataSource")],Di);var Vv;let sl=Vv=class extends X{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new Vv({workspaceId:e,dataSourceName:t})}};o([$e({raster:"raster"})],sl.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],sl.prototype,"dataSourceName",void 0),o([c({type:String,json:{write:!0}})],sl.prototype,"workspaceId",void 0),sl=Vv=o([I("esri.layers.support.source.RasterDataSource")],sl);var Uv;let Go=Uv=class extends X{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new Uv({workspaceId:e,gdbVersion:t,dataSourceName:r})}};o([$e({table:"table"})],Go.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Go.prototype,"workspaceId",void 0),o([c({type:String,json:{write:!0}})],Go.prototype,"gdbVersion",void 0),o([c({type:String,json:{write:!0}})],Go.prototype,"dataSourceName",void 0),Go=Uv=o([I("esri.layers.support.source.TableDataSource")],Go);var qv,Bv;const JD=rr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let qr=qv=class extends X{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return TS()(e,t,r)}castLeftTableSource(e){return wi(Gv(),e)}readRightTableSource(e,t,r){return TS()(e,t,r)}castRightTableSource(e){return wi(Gv(),e)}clone(){var e,t;const{leftTableKey:r,rightTableKey:s,leftTableSource:i,rightTableSource:n,joinType:a}=this,u={leftTableKey:r,rightTableKey:s,leftTableSource:(e=i==null?void 0:i.clone())!=null?e:void 0,rightTableSource:(t=n==null?void 0:n.clone())!=null?t:void 0,joinType:a};return new qv(u)}};o([$e({joinTable:"join-table"})],qr.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],qr.prototype,"leftTableKey",void 0),o([c({type:String,json:{write:!0}})],qr.prototype,"rightTableKey",void 0),o([c({json:{write:!0}})],qr.prototype,"leftTableSource",void 0),o([ce("leftTableSource")],qr.prototype,"readLeftTableSource",null),o([Tt("leftTableSource")],qr.prototype,"castLeftTableSource",null),o([c({json:{write:!0}})],qr.prototype,"rightTableSource",void 0),o([ce("rightTableSource")],qr.prototype,"readRightTableSource",null),o([Tt("rightTableSource")],qr.prototype,"castRightTableSource",null),o([$e(JD)],qr.prototype,"joinType",void 0),qr=qv=o([I("esri.layers.support.source.JoinTableDataSource")],qr);let mm=null;function TS(){return mm||(mm=xa({types:Gv()})),mm}let gm=null;function Gv(){return gm||(gm={key:"type",base:null,typeMap:{"data-layer":cs,"map-layer":ea}}),gm}const WD={key:"type",base:null,typeMap:{"join-table":qr,"query-table":Di,raster:sl,table:Go}};let cs=Bv=class extends X{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new Bv({fields:e,dataSource:t})}};o([$e({dataLayer:"data-layer"})],cs.prototype,"type",void 0),o([c({type:[fy],json:{write:!0}})],cs.prototype,"fields",void 0),o([c({types:WD,json:{write:!0}})],cs.prototype,"dataSource",void 0),cs=Bv=o([I("esri.layers.support.source.DataLayerSource")],cs),cs.from=ct(cs);var Hv;const jS=new Te({upperLeft:"upper-left",lowerLeft:"lower-left"});let Ho=Hv=class extends X{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Hv(D({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};o([c({type:jt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ho.prototype,"extent",void 0),o([c({type:["view","edit"],json:{write:!0}})],Ho.prototype,"mode",void 0),o([c({type:String,json:{read:jS.read,write:jS.write}})],Ho.prototype,"originPosition",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ho.prototype,"tolerance",void 0),Ho=Hv=o([I("esri.rest.support.QuantizationParameters")],Ho);const T4=Ho;var Jv;const CS=new Te({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let As=Jv=class extends X{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=D(e))}clone(){return new Jv({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:D(this.statisticParameters)})}};o([c({type:Number,json:{write:!0}})],As.prototype,"maxPointCount",void 0),o([c({type:Number,json:{write:!0}})],As.prototype,"maxRecordCount",void 0),o([c({type:Number,json:{write:!0}})],As.prototype,"maxVertexCount",void 0),o([c({type:String,json:{write:!0}})],As.prototype,"onStatisticField",void 0),o([c({type:String,json:{write:!0}})],As.prototype,"outStatisticFieldName",void 0),o([c({type:String,json:{read:{source:"statisticType",reader:CS.read},write:{target:"statisticType",writer:CS.write}}})],As.prototype,"statisticType",void 0),o([c({type:Object})],As.prototype,"statisticParameters",void 0),o([ye("statisticParameters")],As.prototype,"writeStatisticParameters",null),As=Jv=o([I("esri.rest.support.StatisticDefinition")],As);const j4=As;var Al;const KD=new Te({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),QD=new Te({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let xe=Al=class extends X{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return Hf(Al,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const s in e){const i=e[s];Array.isArray(i)?r[s]=i.map(n=>n instanceof Date?n.getTime():n):i instanceof Date?r[s]=i.getTime():r[s]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Al(D({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:q(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};xe.MAX_MAX_RECORD_COUNT_FACTOR=5,o([c({json:{write:!0}})],xe.prototype,"aggregateIds",void 0),o([c({type:Boolean,json:{write:!0}})],xe.prototype,"cacheHint",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"compactGeometryEnabled",void 0),o([c({json:{write:!0}})],xe.prototype,"datumTransformation",void 0),o([Tt("datumTransformation")],xe.prototype,"castDatumTransformation",null),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"defaultSpatialReferenceEnabled",void 0),o([c({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],xe.prototype,"distance",void 0),o([c({type:cs,json:{write:!0}})],xe.prototype,"dynamicDataSource",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"formatOf3DObjects",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"gdbVersion",void 0),o([c({types:Ia,json:{read:Yr,write:!0}})],xe.prototype,"geometry",void 0),o([c({type:Number,json:{write:!0}})],xe.prototype,"geometryPrecision",void 0),o([c({type:[String],json:{write:!0}})],xe.prototype,"groupByFieldsForStatistics",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"having",void 0),o([c({type:Date})],xe.prototype,"historicMoment",void 0),o([ye("historicMoment")],xe.prototype,"writeHistoricMoment",null),o([c({type:Number,json:{write:!0}})],xe.prototype,"maxAllowableOffset",void 0),o([c({type:Number,cast:e=>e<1?1:e>Al.MAX_MAX_RECORD_COUNT_FACTOR?Al.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],xe.prototype,"maxRecordCountFactor",void 0),o([c({type:["xyFootprint"],json:{write:!0}})],xe.prototype,"multipatchOption",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],xe.prototype,"num",void 0),o([c({json:{write:!0}})],xe.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],xe.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],xe.prototype,"outFields",void 0),o([c({type:ze,json:{name:"outSR",write:!0}})],xe.prototype,"outSpatialReference",void 0),o([c({type:[j4],json:{write:{enabled:!0,overridePolicy(){return{enabled:q(this.outStatistics)&&this.outStatistics.length>0}}}}})],xe.prototype,"outStatistics",void 0),o([c({json:{write:!0}})],xe.prototype,"parameterValues",void 0),o([ye("parameterValues")],xe.prototype,"writeParameterValues",null),o([c({type:ht,json:{write:!0}})],xe.prototype,"pixelSize",void 0),o([c({type:T4,json:{write:!0}})],xe.prototype,"quantizationParameters",void 0),o([c({type:[Object],json:{write:!0}})],xe.prototype,"rangeValues",void 0),o([c({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],xe.prototype,"relationParameter",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"resultType",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnCentroid",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnDistinctValues",void 0),o([c({type:Boolean,json:{default:!0,write:!0}})],xe.prototype,"returnExceededLimitFeatures",void 0),o([c({type:Boolean,json:{write:!0}})],xe.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnQueryGeometry",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xe.prototype,"returnZ",void 0),o([c({type:ze,json:{write:!0}})],xe.prototype,"sourceSpatialReference",void 0),o([$e(KD,{ignoreUnknown:!1,name:"spatialRel"})],xe.prototype,"spatialRelationship",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],xe.prototype,"start",void 0),o([ye("start"),ye("num")],xe.prototype,"writeStart",null),o([c({type:String,json:{write:!0}})],xe.prototype,"sqlFormat",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"text",void 0),o([c({type:xi,json:{write:!0}})],xe.prototype,"timeExtent",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"timeReferenceUnknownClient",void 0),o([$e(QD,{ignoreUnknown:!1}),c({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],xe.prototype,"units",void 0),o([c({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],xe.prototype,"where",void 0),o([ye("where")],xe.prototype,"writeWhere",null),xe=Al=o([I("esri.rest.support.Query")],xe);const ta=xe;var Wv;const vm=new Te({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),bm=new Te({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let di=Wv=class extends X{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:s,timeExtent:i,objectIds:n,units:a,distance:u}=this;return new ta(z({geometry:D(r),objectIds:D(n),spatialRelationship:s,timeExtent:D(i),where:t,units:a,distance:u},e))}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:s,objectIds:i,units:n,distance:a}=this;return new Wv({geometry:D(t),objectIds:D(i),spatialRelationship:r,timeExtent:D(s),where:e,units:n,distance:a})}};o([c({type:String,json:{write:!0}})],di.prototype,"where",void 0),o([c({types:Ia,json:{write:!0}})],di.prototype,"geometry",void 0),o([c({type:vm.apiValues,json:{name:"spatialRel",read:{reader:vm.read},write:{allowNull:!1,writer:vm.write,overridePolicy(){return{enabled:q(this.geometry)}}}}})],di.prototype,"spatialRelationship",void 0),o([c({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],di.prototype,"distance",void 0),o([c({type:[Number],json:{write:!0}})],di.prototype,"objectIds",void 0),o([c({type:bm.apiValues,json:{read:bm.read,write:{writer:bm.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],di.prototype,"units",void 0),o([c({type:xi,json:{write:!0}})],di.prototype,"timeExtent",void 0),di=Wv=o([I("esri.layers.support.FeatureFilter")],di);const ZD=di;var Kv;let Jo=Kv=class extends X{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const n=Object.keys(r.filter);var s;if(n.length>1||n[0]!=="where")return(s=t.messages)==null||s.push(new H("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}var i;if("showExcludedLabels"in r)return(i=t.messages)==null||i.push(new H("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new Kv({filter:q(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};o([c({type:ZD,json:{write:{allowNull:!0,writer(e,t,r,s){const i=e==null?void 0:e.write({},s);i&&Object.keys(i).length!==0?Lr(r,i,t):Lr(r,null,t)}}}})],Jo.prototype,"filter",void 0),o([c({json:{write:!0,origins:{"web-map":{read:{reader:Lv},write:{writer:Nv,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}}}}})],Jo.prototype,"includedEffect",void 0),o([c({json:{write:!0,origins:{"web-map":{read:{reader:Lv},write:{writer:Nv,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}}}}})],Jo.prototype,"excludedEffect",void 0),o([c({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],Jo.prototype,"excludedLabelsVisible",void 0),Jo=Kv=o([I("esri.layers.support.FeatureEffect")],Jo);const YD=Jo,C4=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return o([c({type:YD,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],t.prototype,"featureEffect",void 0),t=o([I("esri.layers.mixins.FeatureEffectLayer")],t),t},XD={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function ez(e){if(!e)return e;const{start:t,end:r}=e;return new xi({start:q(t)?ha(t,-t.getTimezoneOffset(),"minutes"):t,end:q(r)?ha(r,-r.getTimezoneOffset(),"minutes"):r})}function tz(e){if(!e)return e;const{start:t,end:r}=e;return new xi({start:q(t)?ha(t,t.getTimezoneOffset(),"minutes"):t,end:q(r)?ha(r,r.getTimezoneOffset(),"minutes"):r})}var Qv;let pc=Qv=class extends X{async collectRequiredFields(e,t){return cn(e,t,this.expression)}clone(){return new Qv({expression:this.expression,title:this.title})}};o([c({type:String,json:{write:!0}})],pc.prototype,"expression",void 0),o([c({type:String,json:{write:!0}})],pc.prototype,"title",void 0),pc=Qv=o([I("esri.layers.support.FeatureExpressionInfo")],pc);const AS=pc;function rz(){const e=Object.keys(m6);return e.sort(),e}const sz=rz();var Zv;const Mp=rr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),RS=new Te({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let zi=Zv=class extends X{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e!=null?e:t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,s){t[r]=e.write({},s),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):q(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new Zv({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};o([c({type:AS,json:{write:!0}})],zi.prototype,"featureExpressionInfo",void 0),o([ce("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],zi.prototype,"readFeatureExpressionInfo",null),o([ye("featureExpressionInfo",{featureExpressionInfo:{type:AS},"featureExpression.value":{type:[0]}})],zi.prototype,"writeFeatureExpressionInfo",null),o([c({type:Mp.apiValues,nonNullable:!0,json:{type:Mp.jsonValues,read:Mp.read,write:{writer:Mp.write,isRequired:!0}}})],zi.prototype,"mode",null),o([c({type:Number,json:{write:!0}})],zi.prototype,"offset",void 0),o([c({type:sz,json:{type:String,read:RS.read,write:RS.write}})],zi.prototype,"unit",null),zi=Zv=o([I("esri.layers.support.ElevationInfo")],zi);const A4=zi,R4={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},Nw={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},Dw={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},P4={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:ao}}},F4={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},L4={value:null,type:A4,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function iz(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Nc={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},N4=Oe(z({},Nc),{json:Oe(z({},Nc.json),{origins:{"web-document":Oe(z({},Nc.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?od(t.layerDefinition.drawingInfo.transparency):void 0:od(t.drawingInfo.transparency)}})}),nz={type:xi,readOnly:!0,get(){var e,t;if((e=this.layer)==null||!e.timeInfo)return null;const{datesInUnknownTimezone:r,timeOffset:s,useViewTime:i}=this.layer,n=(t=this.view)==null?void 0:t.timeExtent;let a=this.layer.timeExtent;r&&(a=tz(a));let u=i?n&&a?n.intersection(a):n||a:a;if(!u||u.isEmpty||u.isAllTime)return u;s&&(u=u.offset(-s.value,s.unit)),r&&(u=ez(u));const d=this._get("timeExtent");return u.equals(d)?d:u}},oz={type:jt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=jt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=ze.fromJSON(t.spatialReference)),r}}}},read:!1}},D4={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},z4={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},V4={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},U4=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,s,i,n){(n&&n.layerContainerType==="ground"||r&&Mx(this,i,{},n))&&(s[i]=r)}writeOperationalLayerType(r,s,i,n){!r||n&&n.layerContainerType==="tables"||(s.layerType=r)}writeTitle(r,s){s.title=r||"Layer"}read(r,s){s&&(s.layer=this),CC(this,r,i=>super.read(r,i),s)}write(r,s){if(s!=null&&s.origin){const d=`${s.origin}/${s.layerContainerType||"operational-layers"}`,p=XD[d];let f=p&&p[this.operationalLayerType];var i;if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(f=!1),!f)return(i=s.messages)==null||i.push(new H("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const n=super.write(r,Oe(z({},s),{layer:this})),a=!!s&&!!s.messages&&!!s.messages.filter(d=>d instanceof H&&d.name==="web-document-write:property-required").length;var u;return Ld(n==null?void 0:n.url)?(s==null||(u=s.messages)==null||u.push(new H("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&a?null:n}beforeSave(){}};return o([c({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),o([c({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),o([ye("listMode")],t.prototype,"writeListMode",null),o([c({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),o([ye("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),o([c(Nc)],t.prototype,"opacity",void 0),o([c({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),o([ye("title")],t.prototype,"writeTitle",null),o([c({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=o([I("esri.layers.mixins.OperationalLayer")],t),t};var Yv;const wm=new Te({asc:"ascending",desc:"descending"});let il=Yv=class extends X{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new Yv({field:this.field,valueExpression:this.valueExpression,order:this.order})}};o([c({type:String,json:{write:!0}})],il.prototype,"field",void 0),o([c({type:String,json:{write:!0}})],il.prototype,"valueExpression",void 0),o([c({type:wm.apiValues,json:{read:wm.read,write:wm.write}})],il.prototype,"order",void 0),il=Yv=o([I("esri.layers.support.OrderByInfo")],il);const q4=il;function az(e,t,r){if(!e)return null;const s=e.find(n=>!!n.field);if(!s)return null;const i=new q4;return i.read(s,r),[i]}function lz(e,t,r,s){const i=e.find(n=>!!n.field);i&&Lr(r,[i.toJSON()],t)}const B4=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return o([c({type:[q4],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:az},write:{target:"layerDefinition.orderBy",writer:lz}}})],t.prototype,"orderBy",void 0),t=o([I("esri.layers.mixins.OrderedLayer")],t),t};function uz(e,t,r){return bi(e.map((s,i)=>t.apply(r,[s,i])))}function cz(e,t,r){return bi(e.map((s,i)=>t.apply(r,[s,i]))).then(s=>s.map(i=>i.value))}function zw(e){return we(e)?K$():e.then(t=>({ok:!0,value:t})).catch(t=>({ok:!1,error:t}))}function dz(e){return e.then(t=>({ok:!0,value:t})).catch(t=>(Ql(t),{ok:!1,error:t}))}const pz=fe.getLogger("esri.portal.PortalItemResource");let Rn=class extends wt{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?Oe(z({},e),{path:this._normalizePath(e.path,e.portalItem)}):e}set path(e){q(e)&&Fr(e)?pz.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(we(r))throw new H("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:b$(t,"signal")})}async update(e,t){return(await import("./resourceUtils.e09a411a.js")).addOrUpdateResource(this,"update",e,t)}hasPath(){return q(this.path)}_normalizePath(e,t){return we(e)?e:(e=e.replace(/^\/+/,""),q(t)&&Fr(e)&&(e=sy(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};o([c()],Rn.prototype,"portalItem",void 0),o([c({type:String,value:null})],Rn.prototype,"path",null),o([Tt("path")],Rn.prototype,"_castPath",null),o([c({type:String,readOnly:!0})],Rn.prototype,"url",null),o([c({type:String,readOnly:!0})],Rn.prototype,"itemRelativeUrl",null),Rn=o([I("esri.portal.PortalItemResource")],Rn);const hz=Rn;let hc=class extends wt{constructor(e){super(e),this.created=null,this.rating=null}};o([c()],hc.prototype,"created",void 0),o([c()],hc.prototype,"rating",void 0),hc=o([I("esri.portal.PortalRating")],hc);const _m=hc;var nl;let Le=nl=class extends Wf(Nd){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return Hf(nl,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":e==="Image Service"?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Media Service"?r="Media Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.indexOf("Spatiotemporal")===-1&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&t.indexOf("Relational")===-1?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.indexOf("configurableApp")>-1&&(r="Instant App"),r}readExtent(e){return e&&e.length?new jt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",s="16";let i,n=!1,a=!1,u=!1,d=!1,p=!1,f=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(n=t.indexOf("Hosted Service")>-1,e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.indexOf("Table")>-1,u=t.indexOf("Route Layer")>-1,d=t.indexOf("Markup")>-1,p=t.indexOf("Spatiotemporal")!==-1,f=t.indexOf("UtilityNetwork")!==-1,i=p&&a?"spatiotemporaltable":a?"table":u?"routelayer":d?"markup":p?"spatiotemporal":n?"featureshosted":f?"utilitynetwork":"features"):i=e==="map service"||e==="wms"||e==="wmts"?n||t.indexOf("Tiled")>-1||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="media service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):i=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.indexOf("configurableApp")>-1?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.indexOf("ArcGIS Pro")>-1||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":"maps",i?cu(r+i+s+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=Ir.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:q(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof _m&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new _m({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:D(this.applicationProxies),avgRating:this.avgRating,categories:D(this.categories),created:D(this.created),culture:this.culture,description:this.description,extent:D(this.extent),groupCategories:D(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:D(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:D(this.screenshots),size:this.size,snippet:this.snippet,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new nl({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",Oe(z({responseType:e},t),{query:{token:this.apiKey}}))}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",z({query:{token:this.apiKey}},e)).then(t=>t.rating!=null?(t.created=new Date(t.created),new _m(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",z({query:Oe(z({},e),{token:this.apiKey})},t),nl)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const s in r.query)r.query[s]===null&&(r.query[s]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new H("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if(typeof t=="string")po(t)?s.query={data:t}:s.query={url:fs(t)},q(r)&&(s.query.filename=r);else{const i=new FormData;q(r)?i.append("file",t,r):i.append("file",t),s.body=i}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,s).then(()=>this.reload())}):Promise.reject(new H("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await import("./resourceUtils.e09a411a.js")).fetchResources(this,e,t)}async addResource(e,t,r){const s=await import("./resourceUtils.e09a411a.js");return e.portalItem=this,s.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await import("./resourceUtils.e09a411a.js");if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new H("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await import("./resourceUtils.e09a411a.js")).removeAllResources(this,e)}resourceFromPath(e){return new hz({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Zb(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new nl({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};o([c({type:["private","shared","org","public"]})],Le.prototype,"access",void 0),o([c()],Le.prototype,"accessInformation",void 0),o([c({type:String})],Le.prototype,"apiKey",void 0),o([c({json:{read:{source:"appProxies"}}})],Le.prototype,"applicationProxies",void 0),o([c()],Le.prototype,"avgRating",void 0),o([c()],Le.prototype,"categories",void 0),o([c({type:Date})],Le.prototype,"created",void 0),o([c()],Le.prototype,"culture",void 0),o([c()],Le.prototype,"description",void 0),o([c({readOnly:!0})],Le.prototype,"displayName",null),o([c({type:jt})],Le.prototype,"extent",void 0),o([ce("extent")],Le.prototype,"readExtent",null),o([c()],Le.prototype,"groupCategories",void 0),o([c({readOnly:!0})],Le.prototype,"iconUrl",null),o([c()],Le.prototype,"id",void 0),o([c({readOnly:!0})],Le.prototype,"isLayer",null),o([c()],Le.prototype,"itemControl",void 0),o([c({readOnly:!0})],Le.prototype,"itemUrl",null),o([c()],Le.prototype,"licenseInfo",void 0),o([c({type:Date})],Le.prototype,"modified",void 0),o([c()],Le.prototype,"name",void 0),o([c()],Le.prototype,"numComments",void 0),o([c()],Le.prototype,"numRatings",void 0),o([c()],Le.prototype,"numViews",void 0),o([c()],Le.prototype,"owner",void 0),o([c()],Le.prototype,"ownerFolder",void 0),o([c({type:Ir})],Le.prototype,"portal",void 0),o([c()],Le.prototype,"screenshots",void 0),o([c()],Le.prototype,"size",void 0),o([c()],Le.prototype,"snippet",void 0),o([c()],Le.prototype,"sourceJSON",void 0),o([c()],Le.prototype,"tags",void 0),o([c()],Le.prototype,"thumbnail",void 0),o([c({readOnly:!0})],Le.prototype,"thumbnailUrl",null),o([c()],Le.prototype,"title",void 0),o([c()],Le.prototype,"type",void 0),o([c()],Le.prototype,"typeKeywords",void 0),o([c()],Le.prototype,"url",void 0),o([c({readOnly:!0})],Le.prototype,"userItemUrl",null),Le=nl=o([I("esri.portal.PortalItem")],Le);const bf=Le;var G4=Object.freeze(Object.defineProperty({__proto__:null,default:bf},Symbol.toStringTag,{value:"Module"}));const fz=fe.getLogger("esri.layers.mixins.PortalLayer"),H4=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var r;(r=this.portalItem)==null||r.destroy(),this.portalItem=null}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,s,i){if(s.itemId)return new bf({id:s.itemId,portal:i&&i.portal})}writePortalItem(r,s){r&&r.id&&(s.itemId=r.id)}async loadFromPortal(r,s){if(this.portalItem&&this.portalItem.id)try{const i=await import("./layersLoader.540453a8.js").then(function(n){return n.l});return Hs(s),await i.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData},s)}catch(i){throw Ws(i)||fz.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(s=>(Ql(s),!0)))}async _fetchUserHasEditingPrivileges(r){const s=this.url?kt==null?void 0:kt.findCredential(this.url):null;if(!s)return!0;const i=Ip.credential===s?Ip.user:await this._fetchEditingUser(r);return Ip.credential=s,Ip.user=i,we(i)||i.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var s,i;const n=(s=this.portalItem)==null||(i=s.portal)==null?void 0:i.user;if(n)return n;const a=kt.findServerInfo(this.url);if(a==null||!a.owningSystemUrl)return null;const u=`${a.owningSystemUrl}/sharing/rest`,d=Ir.getDefault();if(d&&d.loaded&&gs(d.restUrl)===gs(u))return d.user;const p=`${u}/community/self`,f=q(r)?r.signal:null,y=await zw($t(p,{authMode:"no-prompt",query:{f:"json"},signal:f}));return y.ok?iw.fromJSON(y.value.data):null}read(r,s){s&&(s.layer=this),super.read(r,s)}write(r,s){const i=s&&s.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||Ir.getDefault());return i&&n&&!g5(n.restUrl,i.restUrl)?(s.messages&&s.messages.push(new H("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,Oe(z({},s),{layer:this}))}};return o([c({type:bf})],t.prototype,"portalItem",null),o([ce("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),o([ye("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),o([c({clonable:!1})],t.prototype,"resourceReferences",void 0),o([c({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=o([I("esri.layers.mixins.PortalLayer")],t),t},Ip={credential:null,user:null},yd=new gt,Dc=new WeakMap;function yz(e){J4(e)&&yd.push(e)}function mz(e){J4(e)&&yd.includes(e)&&yd.remove(e)}function J4(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function W4(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:W4(t,e%t):0}let Sm=0,Ep=0;function gz(){const e=Date.now();for(const r of yd)if(r.refreshInterval){var t;e-((t=Dc.get(r))!=null?t:0)+5>=6e4*r.refreshInterval&&(Dc.set(r,e),r.refresh(e))}}tx(()=>{const e=Date.now();let t=0;for(const r of yd)t=W4(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?Dc.get(r)||Dc.set(r,e):Dc.delete(r);if(t!==Ep){if(Ep=t,clearInterval(Sm),Ep===0)return void(Sm=0);Sm=setInterval(gz,Ep)}});const K4=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=r1(()=>this.hasDataChanged()),this.when().then(()=>{yz(this)},()=>{})}destroy(){mz(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){W$(this._debounceHasDataChanged()).then(s=>{s&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:s})},s=>{fe.getLogger(this.declaredClass).error(s),this.emit("refresh",{dataChanged:!1,error:s})})}async hasDataChanged(){return!0}};return o([c({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),o([c({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),o([c()],t.prototype,"refreshParameters",null),t=o([I("esri.layers.mixins.RefreshableLayer")],t),t},Q4=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},s=this.parent;s&&"effectiveScaleRange"in s&&vz(r,s.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return o([c({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),o([c({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),o([c({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=o([I("esri.layers.mixins.ScaleRangeLayer")],t),t};function vz(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const aa=rr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var Xv;let fc=Xv=class extends X{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return GD(this.value,this.unit,"milliseconds")}clone(){return new Xv({value:this.value,unit:this.unit})}};o([c({type:Number,json:{write:!0},nonNullable:!0})],fc.prototype,"value",void 0),o([c({type:aa.apiValues,json:{type:aa.jsonValues,read:aa.read,write:aa.write},nonNullable:!0})],fc.prototype,"unit",void 0),fc=Xv=o([I("esri.TimeInterval")],fc);const md=fc;var eb;let ol=eb=class extends X{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new eb({respectsDaylightSaving:e,timezone:t})}};o([c({type:Boolean,json:{write:!0}})],ol.prototype,"respectsDaylightSaving",void 0),o([ce("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],ol.prototype,"readRespectsDaylightSaving",null),o([c({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],ol.prototype,"timezone",void 0),ol=eb=o([I("esri.layers.support.TimeReference")],ol);const bz=ol;var tb;let hr=tb=class extends X{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const r=new Date(t.timeExtent[0]),s=new Date(t.timeExtent[1]);return new xi({start:r,end:s})}writeFullTimeExtent(e,t){e&&q(e.start)&&q(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new md({value:t.timeInterval,unit:aa.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new md({value:t.defaultTimeInterval,unit:aa.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:s,startField:i,timeReference:n,fullTimeExtent:a,trackIdField:u,useTime:d}=this;return new tb({cumulative:e,endField:t,hasLiveData:r,interval:s,startField:i,timeReference:D(n),fullTimeExtent:D(a),trackIdField:u,useTime:d})}};o([c({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],hr.prototype,"cumulative",void 0),o([c({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],hr.prototype,"endField",void 0),o([c({type:xi,json:{write:{enabled:!0,allowNull:!0}}})],hr.prototype,"fullTimeExtent",void 0),o([ce("fullTimeExtent",["timeExtent"])],hr.prototype,"readFullTimeExtent",null),o([ye("fullTimeExtent")],hr.prototype,"writeFullTimeExtent",null),o([c({type:Boolean,json:{write:!0}})],hr.prototype,"hasLiveData",void 0),o([c({type:md,json:{write:{enabled:!0,allowNull:!0}}})],hr.prototype,"interval",void 0),o([ce("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],hr.prototype,"readInterval",null),o([ye("interval")],hr.prototype,"writeInterval",null),o([c({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],hr.prototype,"startField",void 0),o([c({type:bz,json:{write:{enabled:!0,allowNull:!0}}})],hr.prototype,"timeReference",void 0),o([c({type:String,json:{write:{enabled:!0,allowNull:!0}}})],hr.prototype,"trackIdField",void 0),o([c({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],hr.prototype,"useTime",void 0),hr=tb=o([I("esri.layers.support.TimeInfo")],hr);const Vw=hr,Z4=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,s){const i=s.timeInfo.exportOptions;if(!i)return null;const n=i.timeOffset,a=aa.fromJSON(i.timeOffsetUnits);return n&&a?new md({value:n,unit:a}):null}set timeInfo(r){S1(r,this.fieldsIndex),this._set("timeInfo",r)}};return o([c({type:xi,json:{write:!1}})],t.prototype,"timeExtent",void 0),o([c({type:md})],t.prototype,"timeOffset",void 0),o([ce("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),o([c({value:null,type:Vw,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),o([c({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=o([I("esri.layers.mixins.TemporalLayer")],t),t};var rb;let Hi=rb=class extends X{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:r,isUnique:s,description:i}=this;return new rb({name:e,fields:t,isAscending:r,isUnique:s,description:i})}};o([c({constructOnly:!0})],Hi.prototype,"name",void 0),o([c({constructOnly:!0})],Hi.prototype,"fields",void 0),o([c({constructOnly:!0})],Hi.prototype,"isAscending",void 0),o([c({constructOnly:!0})],Hi.prototype,"isUnique",void 0),o([c({constructOnly:!0})],Hi.prototype,"description",void 0),Hi=rb=o([I("esri.layers.support.FeatureIndex")],Hi);let Eh=class extends X{constructor(){super(...arguments),this.type=null}};o([c({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],Eh.prototype,"type",void 0),Eh=o([I("esri.layers.support.FeatureReduction")],Eh);const zc=Eh;var sb;let al=sb=class extends X{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new sb({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};o([c({type:String,json:{write:!0}})],al.prototype,"statisticType",void 0),o([c({type:String,json:{write:!0}})],al.prototype,"onStatisticField",void 0),o([c({type:String,json:{write:!0}})],al.prototype,"onStatisticValueExpression",void 0),al=sb=o([I("esri.layers.support.OutStatistic")],al);const wz=al;var ib;let yc=ib=class extends X{constructor(){super(...arguments),this.name=null}clone(){return new ib({name:this.name,outStatistic:this.outStatistic.clone()})}};o([c({type:String,json:{write:!0}})],yc.prototype,"name",void 0),o([c({type:wz,json:{write:!0}})],yc.prototype,"outStatistic",void 0),yc=ib=o([I("esri.layers.support.AggregateField")],yc);const _z=yc,Uw="__begin__",qw="__end__",Sz=new RegExp(Uw,"ig"),$z=new RegExp(qw,"ig"),PS=new RegExp("^"+Uw,"i"),FS=new RegExp(qw+"$","i"),wf='"',xz=wf+" + ",Mz=" + "+wf;function Iz(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function Ez(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function $y(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=Iz(e.labelExpression),t.type="conventional"),t}function Oz(e){const t=$y(e);if(!t)return null;switch(t.type){case"conventional":return nb(t.expression);case"arcade":return t.expression}return null}function kz(e){const t=$y(e);if(!t)return null;switch(t.type){case"conventional":return jz(t.expression);case"arcade":return Bw(t.expression)}return null}function nb(e){let t;return e?(t=_d(e,r=>Uw+'$feature["'+r+'"]'+qw),t=PS.test(t)?t.replace(PS,""):wf+t,t=FS.test(t)?t.replace(FS,""):t+wf,t=t.replace(Sz,xz).replace($z,Mz)):t='""',t}const Tz=/^\s*\{([^}]+)\}\s*$/i;function jz(e){const t=e.match(Tz);return t&&t[1].trim()||null}const Cz=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,Az=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,Rz=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function Bw(e){if(!e)return null;let t=Cz.exec(e)||Az.exec(e);return t?t[1]||t[3]:(t=Rz.exec(e),t?t[2]:null)}var ob;let Pn=ob=class extends X{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?nb(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=nb(this.value)),e!=null&&(t[r]=e)}clone(){return new ob({expression:this.expression,title:this.title,value:this.value})}};o([c({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Pn.prototype,"expression",void 0),o([ce("expression",["expression","value"])],Pn.prototype,"readExpression",null),o([ye("expression")],Pn.prototype,"writeExpression",null),o([c({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Pn.prototype,"title",void 0),o([c({json:{read:!1,write:!1}})],Pn.prototype,"value",void 0),Pn=ob=o([I("esri.layers.support.LabelExpressionInfo")],Pn);const Y4=Pn,X4=[252,146,31,255],eI={type:"esriSMS",style:"esriSMSCircle",size:6,color:X4,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},tI={type:"esriSLS",style:"esriSLSSolid",width:.75,color:X4},rI={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Pz={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},sI={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},iI={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},nI={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};Aa.fromJSON(eI);Xr.fromJSON(tI);ho.fromJSON(rI);const Fz=fo.fromJSON(Pz);Aa.fromJSON(sI);Xr.fromJSON(iI);ho.fromJSON(nI);var ab;const Op=new Te({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function oI(e){return!e||e.origin!=="service"&&!aI(e.layer)}function aI(e){return(e==null?void 0:e.type)==="map-image"}function lI(e){var t,r;return!!aI(e)&&!((t=e.capabilities)==null||(r=t.exportMap)==null||!r.supportsArcadeExpressionForLabeling)}function Lz(e){return oI(e)||lI(e.layer)}let Pt=ab=class extends X{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=Fz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(s,i,n){switch(i){case"=":return s==n;case"<>":return s!=n;case">":return s>n;case">=":return s>=n;case"<":return s<n;case"<=":return s<=n}return!1};try{if(e==null)return!0;const s=e.split(" ");if(s.length===3)return r(t[s[0]],s[1],s[2]);if(s.length===7){const i=r(t[s[0]],s[1],s[2]),n=s[3],a=r(t[s[4]],s[5],s[6]);switch(n){case"AND":return i&&a;case"OR":return i||a}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=Ez(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const s=Bw(this.labelExpressionInfo.expression);s&&(e="["+s+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,s){if(e==null&&this.labelExpression!=null&&oI(s))e=new Y4({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(s);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return $y(this)}getLabelExpressionArcade(){return Oz(this)}getLabelExpressionSingleField(){return kz(this)}hash(){return JSON.stringify(this)}clone(){return new ab({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:D(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:D(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};o([c({type:String,json:{write:!0}})],Pt.prototype,"name",void 0),o([c({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Pt.prototype,"allowOverrun",void 0),o([c({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],Pt.prototype,"deconflictionStrategy",void 0),o([c({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&lI(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Pt.prototype,"labelExpression",void 0),o([ce("labelExpression")],Pt.prototype,"readLabelExpression",null),o([ye("labelExpression")],Pt.prototype,"writeLabelExpression",null),o([c({type:Y4,json:{write:{overridePolicy:(e,t,r)=>Lz(r)?{allowNull:!0}:{enabled:!1}}}})],Pt.prototype,"labelExpressionInfo",void 0),o([ye("labelExpressionInfo")],Pt.prototype,"writeLabelExpressionInfo",null),o([c({type:Op.apiValues,json:{type:Op.jsonValues,read:Op.read,write:Op.write}})],Pt.prototype,"labelPlacement",void 0),o([c({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Pt.prototype,"labelPosition",void 0),o([c({type:Number})],Pt.prototype,"maxScale",void 0),o([ye("maxScale")],Pt.prototype,"writeMaxScale",null),o([c({type:Number})],Pt.prototype,"minScale",void 0),o([ye("minScale")],Pt.prototype,"writeMinScale",null),o([c({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],Pt.prototype,"repeatLabel",void 0),o([c({type:Number,cast:We,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Pt.prototype,"repeatLabelDistance",void 0),o([c({types:ZP,json:{origins:{"web-scene":{types:YP,write:G3,default:null}},write:G3,default:null}})],Pt.prototype,"symbol",void 0),o([c({type:Boolean,json:{write:!0}})],Pt.prototype,"useCodedValues",void 0),o([c({type:String,json:{write:!0}})],Pt.prototype,"where",void 0),Pt=ab=o([I("esri.layers.support.LabelClass")],Pt);const xy=Pt;var lb;let Br=lb=class extends X{constructor(e){super(e),this.type="cluster",this.clusterRadius=We("80px"),this.clusterMinSize=We("12px"),this.clusterMaxSize=We("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new lb({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,fields:D(this.fields),popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate)})}};o([c({type:["cluster"],readOnly:!0,json:{write:!0}})],Br.prototype,"type",void 0),o([c({type:Number,cast:e=>e==="auto"?e:We(e),json:{write:!0}})],Br.prototype,"clusterRadius",void 0),o([c({type:Number,cast:We,json:{write:!0}})],Br.prototype,"clusterMinSize",void 0),o([c({type:Number,cast:We,json:{write:!0}})],Br.prototype,"clusterMaxSize",void 0),o([c(Nw)],Br.prototype,"popupEnabled",void 0),o([c({type:Oa,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Br.prototype,"popupTemplate",void 0),o([c({types:KP})],Br.prototype,"symbol",void 0),o([c({type:[xy],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Br.prototype,"labelingInfo",void 0),o([c(Dw)],Br.prototype,"labelsVisible",void 0),o([c({type:[_z],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Br.prototype,"fields",void 0),Br=lb=o([I("esri.layers.support.FeatureReductionCluster")],Br);const LS=Br;var ub;let Oh=ub=class extends zc{constructor(e){super(e),this.type="selection"}clone(){return new ub}};o([c({type:["selection"]})],Oh.prototype,"type",void 0),Oh=ub=o([I("esri.layers.support.FeatureReductionSelection")],Oh);const cb=Oh,uI={types:{key:"type",base:zc,typeMap:{selection:cb,cluster:LS}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:zc,typeMap:{selection:LS}}},"web-scene":{types:{key:"type",base:zc,typeMap:{selection:cb}}}}}},NS=new Te({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Fn=class extends pn(X){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};o([c({json:{write:!0}})],Fn.prototype,"name",void 0),o([c({json:{write:!0}})],Fn.prototype,"description",void 0),o([c({json:{read:NS.read,write:NS.write}})],Fn.prototype,"drawingTool",void 0),o([c({json:{write:!0}})],Fn.prototype,"prototype",void 0),o([c({json:{write:!0}})],Fn.prototype,"thumbnail",void 0),Fn=o([I("esri.layers.support.FeatureTemplate")],Fn);const My=Fn;let Vi=class extends pn(X){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=xw(e[r]);return t}writeDomains(e,t){const r={};for(const i of Object.keys(e)){var s;e[i]&&(r[i]=(s=e[i])==null?void 0:s.toJSON())}t.domains=r}};o([c({json:{write:!0}})],Vi.prototype,"id",void 0),o([c({json:{write:!0}})],Vi.prototype,"name",void 0),o([c({json:{write:!0}})],Vi.prototype,"domains",void 0),o([ce("domains")],Vi.prototype,"readDomains",null),o([ye("domains")],Vi.prototype,"writeDomains",null),o([c({type:[My],json:{write:!0}})],Vi.prototype,"templates",void 0),Vi=o([I("esri.layers.support.FeatureType")],Vi);const Gw=Vi;function Nz(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function DS(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function zS(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class cI{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const r=[];for(const s of t){const i=s&&s.name;if(i){const n=VS(i);this._fieldsMap.set(i,s),this._fieldsMap.set(n,s),r.push(n),Nz(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):M1(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),DS(s)||zS(s)||(s.editable=s.editable==null||!!s.editable,s.nullable=s.nullable==null||!!s.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)DS(t)||zS(t)||t.nullable||Zx(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(VS(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name}}function VS(e){return e.toLowerCase().trim()}const Dz=fe.getLogger("esri.layers.support.fieldProperties");function dI(){return{fields:{type:[fy],value:null},fieldsIndex:{readOnly:!0,get(){return new cI(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||Dz.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return DA(this.fieldsIndex,e)}}}}let ll=class extends pn(X){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};o([c({type:String,json:{read:{source:"shapeAreaFieldName"}}})],ll.prototype,"shapeAreaField",void 0),o([c({type:String,json:{read:{source:"shapeLengthFieldName"}}})],ll.prototype,"shapeLengthField",void 0),o([c({type:String,json:{read:e=>IF.read(e)||EF.read(e)}})],ll.prototype,"units",void 0),ll=o([I("esri.layers.support.GeometryFieldsInfo")],ll);const zz=ll,Vz=/\[([^\[\]]+)\]/gi;function db(e,t,r){return e?e.map(s=>{const i=new xy;if(i.read(s,r),i.labelExpression){const n=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replace(Vz,(a,u)=>`[${Uz(u,n)}]`)}return i}):null}function Uz(e,t){if(!t)return e;const r=e.toLowerCase();for(let s=0;s<t.length;s++){const i=t[s].name;if(i.toLowerCase()===r)return i}return e}var pb;let ul=pb=class extends X{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new gt}clone(){return new pb({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};o([c({type:String,json:{write:!0}})],ul.prototype,"floorField",void 0),o([c({json:{read:!1,write:!1}})],ul.prototype,"viewAllMode",void 0),o([c({json:{read:!1,write:!1}})],ul.prototype,"viewAllLevelIds",void 0),ul=pb=o([I("esri.layers.support.LayerFloorInfo")],ul);const pI=ul,US=new Te({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),qS=new Te({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let us=class extends pn(X){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};o([c({json:{read:US.read,write:US.write}})],us.prototype,"cardinality",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"composite",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"id",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"keyField",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"keyFieldInRelationshipTable",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"name",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"relatedTableId",void 0),o([c({json:{read:!0,write:!0}})],us.prototype,"relationshipTableId",void 0),o([c({json:{read:qS.read,write:qS.write}})],us.prototype,"role",void 0),us=o([I("esri.layers.support.Relationship")],us);const qz=us,Rs=[];function hI(e,t){if(Cw(e.url))return!0;const{wkid:r}=t;for(const s of Rs){if(e.version>=s[0])return!0;if(typeof s[1]=="function"&&(s[1]=s[1]()),s[1].has(r))return!1}return!0}Rs.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102960;t++)e.add(t);return e}]),Rs.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Rs.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Rs.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Rs.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),Rs.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Rs.push([10.61,()=>new Set([102497])]),Rs.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Rs.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Rs.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function fI(e,t,r){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(s&&s.type==="unique-value"&&s.styleOrigin){const i=await zw(s.populateFromStyle());if(Hs(r),i.ok===!1){const n=i.error;t&&t.messages&&t.messages.push(new Nr("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t.origin)}}}var hb;let or=hb=class extends X{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new hb(D({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};o([c({type:[String],json:{write:!0}})],or.prototype,"attachmentTypes",void 0),o([c({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],or.prototype,"attachmentsWhere",void 0),o([c({type:[String],json:{write:!0}})],or.prototype,"keywords",void 0),o([c({type:[Number],json:{write:!0}})],or.prototype,"globalIds",void 0),o([c({json:{write:!0}})],or.prototype,"name",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],or.prototype,"num",void 0),o([c({type:[Number],json:{write:!0}})],or.prototype,"objectIds",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],or.prototype,"returnMetadata",void 0),o([c({type:[Number],json:{write:!0}})],or.prototype,"size",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],or.prototype,"start",void 0),o([ye("start"),ye("num")],or.prototype,"writeStart",null),o([c({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],or.prototype,"where",void 0),or=hb=o([I("esri.rest.support.AttachmentQuery")],or),or.from=ct(or);const yI=or;var fb;let Ot=fb=class extends X{constructor(e){super(e),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new fb(D({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};o([c({type:cs,json:{write:!0}})],Ot.prototype,"dynamicDataSource",void 0),o([c({type:String,json:{write:!0}})],Ot.prototype,"gdbVersion",void 0),o([c({type:Number,json:{write:!0}})],Ot.prototype,"geometryPrecision",void 0),o([c({type:Date})],Ot.prototype,"historicMoment",void 0),o([ye("historicMoment")],Ot.prototype,"_writeHistoricMoment",null),o([c({type:Number,json:{write:!0}})],Ot.prototype,"maxAllowableOffset",void 0),o([c({type:[Number],json:{write:!0}})],Ot.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],Ot.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],Ot.prototype,"outFields",void 0),o([c({type:ze,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ot.prototype,"outSpatialReference",void 0),o([c({json:{write:!0}})],Ot.prototype,"relationshipId",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],Ot.prototype,"start",void 0),o([ye("start"),ye("num")],Ot.prototype,"writeStart",null),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],Ot.prototype,"num",void 0),o([c({json:{write:!0}})],Ot.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ot.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ot.prototype,"returnZ",void 0),o([c({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ot.prototype,"where",void 0),Ot=fb=o([I("esri.rest.support.RelationshipQuery")],Ot),Ot.from=ct(Ot);const yb=Ot;var mb;let cl=mb=class extends X{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new mb({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};o([c({type:[String],json:{write:!0}})],cl.prototype,"groupByFields",void 0),o([c({type:Number,json:{write:!0}})],cl.prototype,"topCount",void 0),o([c({type:[String],json:{write:!0}})],cl.prototype,"orderByFields",void 0),cl=mb=o([I("esri.rest.support.TopFilter")],cl);const Bz=cl;var gb;const BS=new Te({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),GS=new Te({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let bt=gb=class extends X{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new gb(D({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};o([c({type:Boolean,json:{write:!0}})],bt.prototype,"cacheHint",void 0),o([c({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],bt.prototype,"distance",void 0),o([c({types:Ia,json:{read:Yr,write:!0}})],bt.prototype,"geometry",void 0),o([c({type:Number,json:{write:!0}})],bt.prototype,"geometryPrecision",void 0),o([c({type:Number,json:{write:!0}})],bt.prototype,"maxAllowableOffset",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],bt.prototype,"num",void 0),o([c({json:{write:!0}})],bt.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],bt.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],bt.prototype,"outFields",void 0),o([c({type:ze,json:{read:{source:"outSR"},write:{target:"outSR"}}})],bt.prototype,"outSpatialReference",void 0),o([c({type:String,json:{write:!0}})],bt.prototype,"resultType",void 0),o([c({json:{write:!0}})],bt.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bt.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bt.prototype,"returnZ",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],bt.prototype,"start",void 0),o([ye("start"),ye("num")],bt.prototype,"writeStart",null),o([c({type:String,json:{read:{source:"spatialRel",reader:BS.read},write:{target:"spatialRel",writer:BS.write}}})],bt.prototype,"spatialRelationship",void 0),o([c({type:xi,json:{write:!0}})],bt.prototype,"timeExtent",void 0),o([c({type:Bz,json:{write:!0}})],bt.prototype,"topFilter",void 0),o([c({type:String,json:{read:GS.read,write:{writer:GS.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],bt.prototype,"units",void 0),o([c({type:String,json:{write:!0}})],bt.prototype,"where",void 0),bt=gb=o([I("esri.rest.support.TopFeaturesQuery")],bt),bt.from=ct(bt);const mc=bt,Gz=["oid","global-id"],Hz=["oid","global-id","guid"];function mI({displayField:e,editFieldsInfo:t,fields:r,objectIdField:s,title:i},n){if(!r)return null;const a=Yz({editFieldsInfo:t,fields:r,objectIdField:s},n);if(!a.length)return null;const u=tV({titleBase:i,fields:r,displayField:e}),d=eV();return new Oa({title:u,content:d,fieldInfos:a})}const Jz=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],Wz=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:s})=>s?s.has(e.name):!gI(e.name,t)&&(!r||e.name!==r)&&!(Gz.indexOf(e.type)>-1)&&!Jz.some(i=>i.test(e.name));function Kz(e,t){const r=e;return t&&(e=e.filter(s=>t.indexOf(s.type)===-1)),e===r&&(e=e.slice()),e.sort(Qz),e}function Qz(e,t){return e.type==="oid"?-1:t.type==="oid"?1:HS(e)?-1:HS(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function gI(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:s,editDateField:i,editorField:n}=t;return[r&&r.toLowerCase(),s&&s.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())!==-1}function Zz(e,t){return e.editable&&Hz.indexOf(e.type)===-1&&!gI(e.name,t)}function Yz({editFieldsInfo:e,fields:t,objectIdField:r},s){return Kz(t,(s==null?void 0:s.ignoreFieldTypes)||rV).map(i=>new k1({fieldName:i.name,isEditable:Zz(i,e),label:i.alias,format:Xz(i),visible:Wz(i,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:s==null?void 0:s.visibleFieldNames})}))}function Xz(e){switch(e.type){case"small-integer":case"integer":case"single":return new Jp({digitSeparator:!0,places:0});case"double":return new Jp({digitSeparator:!0,places:2});case"date":return new Jp({dateFormat:"long-month-day-year"});default:return null}}function eV(){return[new nd,new rd]}function tV(e){const t=VA(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}function HS(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const rV=["geometry","blob","raster","guid","xml"],$m=new Te({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),sV={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Rt="FeatureLayer",JS=fe.getLogger("esri.layers.FeatureLayer");function WS(e){return e&&e instanceof gt}function ke(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function kp(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function iV(e){var t;const r=e==null||(t=e.supportedSpatialAggregationStatistics)==null?void 0:t.map(s=>s.toLowerCase());return{envelope:!(r==null||!r.includes("envelopeaggregate")),centroid:!(r==null||!r.includes("centroidaggregate")),convexHull:!(r==null||!r.includes("convexhullaggregate"))}}const xm=dI();function Mm(e,t,r){const s=!(r==null||!r.writeLayerSchema);return{enabled:s,ignoreOrigin:s}}let ie=class extends C4(O4(B4(Z4(Q4(K4(d4(U4(H4(Sw(k4(r4(pn(U6))))))))))))){constructor(...e){super(...e),this._handles=new Pa,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=ze.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(gt.ofType(Hi)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Bh(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?z({url:e},t):e}load(e){const t=q(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this._initLayerProperties(s)));const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(Ql).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new H("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,s){this._writeEditingEnabled(e,t,!0,s)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,s){s!=null&&s.writeLayerSchema&&Lr(r,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeGlobalID")return r.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeOID")return r.name}}get parsedUrl(){const e=this.url?Dr(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=$a(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=$a(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){fg(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){const s=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(s){const i=T6(s,t,r)||void 0;return i||JS.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new py({defaultSymbol:Im(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(i=>({id:i.id,symbol:Im(i.symbol,i,r)}))}):new dy({symbol:Im(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&(WS(t)&&this._resetMemorySource(t),WS(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof gt?new SS({layer:this,items:e}):e:null}readSource(e,t){const r=yy.fromJSON(t.featureSet);return new SS({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,s=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map(n=>My.fromJSON(n)),this._fixTemplates(e,s),this._fixTemplates(e,i),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,s=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const i=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?a4(this.url,r):r;let n=r;if(!n&&this.url){const a=Ud(this.url);q(a)&&(n=a.title)}return n?(this.sublayerTitleMode==="item-title-and-service-name"&&i&&i!==n&&(n=i+" - "+n),my(n)):void 0}if(this.sublayerTitleMode==="item-title"&&s)return s}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const s=t.fields.find(i=>i.name.toLowerCase()===r);s&&(r=s.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,s=r&&r.creatorField,i=r&&r.editorField;return e&&e.map(n=>(n=Gw.fromJSON(n),this._fixTemplates(n.templates,s),this._fixTemplates(n.templates,i),n))}set url(e){const t=u4({layer:this,url:e,nonStandardUrlAllowed:!0,logger:JS});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,r,s){c4(this,e,null,t,s)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new H(Rt,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,r){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new H(Rt,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,r)})}async applyEdits(e,t){const r=await import("./editingSupport.dabeac79.js");return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return mI(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await J$(import("./FeatureLayerSource.d71df369.js"),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new ta,t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:s,timeExtent:i}=this;return e.timeExtent=s!=null&&i!=null?i.offset(-s.value,s.unit):i||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new H(Rt,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new H(Rt,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const s=e.attributes?e.attributes[t]:void 0;if(s==null)return null;let i=null;return r.some(n=>{const{id:a}=n;return a!=null&&(a.toString()===s.toString()&&(i=n),!!i)}),i}getFieldDomain(e,t){const r=t&&t.feature,s=this.getFeatureType(r);if(s){const i=s.domains&&s.domains[e];if(i&&i.type!=="inherited")return i}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=yI.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new H(Rt,"this layer doesn't support attachments");const{attachmentTypes:r,objectIds:s,globalIds:i,num:n,size:a,start:u,where:d}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const p=s&&s.length>1,f=r&&r.length,y=i&&i.length,v=a&&a.length;if(p||f||y||v||n||u||d)throw new H(Rt,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(s&&s.length||d))throw new H(Rt,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new H(Rt,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(ta.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(ta.from(e)||this.createQuery(),t);throw new H(Rt,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(ta.from(e)||this.createQuery(),t);throw new H(Rt,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(ta.from(e)||this.createQuery(),t);throw new H(Rt,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(yb.from(e),t);throw new H(Rt,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(yb.from(e),t);throw new H(Rt,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(mc.from(e),t).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this;return r});throw new H(Rt,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(mc.from(e),t);throw new H(Rt,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(mc.from(e),t);throw new H(Rt,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(mc.from(e),t);throw new H(Rt,"Layer source does not support queryFeatureCount capability")})}read(e,t){const r=e.featureCollection;if(r){const s=r.layers;s&&s.length===1&&(super.read(s[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var r,s;const i=(t=Oe(z({},t),{writeLayerSchema:(r=(s=t)==null?void 0:s.writeLayerSchema)!=null?r:this._hasMemorySource()})).origin,n=t.layerContainerType,a=t.messages;if(this.isTable){if(i==="web-scene"||i==="web-map"&&n!=="tables")return a&&a.push(new H("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return a&&a.push(new H("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&i==="web-map"&&n==="tables")return a&&a.push(new H("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new H(Rt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||hI(this,e))}_readEditingEnabled(e,t,r){var s;let i=(s=e.layerDefinition)==null?void 0:s.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,s){if(!e){var i,n;const a=(i=this.capabilities)!=null&&(n=i.operations)!=null&&n.supportsSync?"Query,Sync":"Query";Lr("layerDefinition.capabilities",a,t),!r||s!=null&&s.writeLayerSchema||(t.capabilities=a)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new H(Rt,`feature is missing the identifying attribute ${r}`)):Promise.reject(new H(Rt,"'attributes' are required on a feature to query attachments")):Promise.reject(new H(Rt,"A feature is required to add/delete/update attachments")):Promise.reject(new H(Rt,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return $t(this.url,{query:Oe(z({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),fg(this.renderer,this.fieldsIndex),S1(this.timeInfo,this.fieldsIndex),fI(this,{origin:"service"})}async hasDataChanged(){var e;if((e=this.source)!=null&&e.refresh)try{var t;const{dataChanged:r,updates:s}=await((t=this.source)==null?void 0:t.refresh());if(q(s)&&(this.sourceJSON=z(z({},this.sourceJSON),s),this.read(s,{origin:"service",url:this.parsedUrl})),r)return!0}catch{}if(this.definitionExpression)try{return(await _L(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields&&this.fields.some(function(t){return t.type==="geometry"})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const s=r.prototype&&r.prototype.attributes;s&&t&&delete s[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new H("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new H("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(e){const t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach(r=>{const s=sV[r.name];s&&(t[s]=!!r.isEnabled)}),t}_readDataCapabilities(e){return{isVersioned:ke(e,"isDataVersioned",!1),supportsAttachment:ke(e,"hasAttachments",!1),supportsM:ke(e,"hasM",!1),supportsZ:ke(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:ke(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(",").map(d=>d.trim()):[],s=r.includes("editing")&&!t.datesInUnknownTimezone;let i=s&&r.includes("create"),n=s&&r.includes("delete"),a=s&&r.includes("update");const u=r.includes("changetracking");return s&&!(i||n||a)&&(i=n=a=!0),{supportsCalculate:ke(t,"supportsCalculate",!1),supportsTruncate:ke(t,"supportsTruncate",!1),supportsValidateSql:ke(t,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:n,supportsEditing:s,supportsChangeTracking:u,supportsQuery:r.includes("query"),supportsQueryAttachments:ke(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:ke(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:a,supportsExceedsLimitStatistics:ke(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var t;const r=e.advancedQueryCapabilities,s=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,n=(t=this.url)==null?void 0:t.includes("MapServer"),a=!K("mapserver-pbf-enabled")&&n&&this.version<10.81,u=Cw(this.url),d=(e.supportedQueryFormats||"").split(",").reduce((p,f)=>{const y=f.toLowerCase().trim();return y&&p.add(y),p},new Set);return{supportsStatistics:ke(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:ke(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:ke(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:iV(r),supportsCentroid:ke(r,"supportsReturningGeometryCentroid",!1),supportsDistance:ke(r,"supportsQueryWithDistance",!1),supportsDistinct:ke(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:ke(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:ke(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:ke(r,"supportsHavingClause",!1),supportsOrderBy:ke(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:ke(r,"supportsPagination",!1),supportsQuantization:ke(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:ke(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:ke(e,"supportsReturningQueryGeometry",!1),supportsResultType:ke(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:ke(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:ke(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:ke(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:ke(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:ke(s,"allowOthersToQuery",!0),supportsHistoricMoment:ke(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!a&&d.has("pbf"),supportsDisjointSpatialRelationship:ke(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:ke(r,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:ke(r,"supportsDefaultSR",!1),supportsCompactGeometry:u,maxRecordCountFactor:kp(e,"maxRecordCountFactor",void 0),maxRecordCount:kp(e,"maxRecordCount",void 0),standardMaxRecordCount:kp(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:kp(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=ke(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:ke(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:ke(e,"allowGeometryUpdates",!0),supportsGlobalId:ke(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:ke(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:ke(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:ke(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:ke(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:ke(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:ke(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:ke(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:ke(t,"allowOthersToUpdate",!0)}}};o([c({readOnly:!0,json:{read:!1}})],ie.prototype,"capabilities",void 0),o([ce("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],ie.prototype,"readCapabilities",null),o([c({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ie.prototype,"charts",void 0),o([c({readOnly:!0})],ie.prototype,"createQueryVersion",null),o([c({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],ie.prototype,"copyright",void 0),o([c({type:Boolean})],ie.prototype,"datesInUnknownTimezone",void 0),o([c({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],ie.prototype,"displayField",void 0),o([c({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ie.prototype,"definitionExpression",void 0),o([c({types:to,readOnly:!0})],ie.prototype,"defaultSymbol",void 0),o([c({type:cs})],ie.prototype,"dynamicDataSource",void 0),o([c({readOnly:!0})],ie.prototype,"editFieldsInfo",void 0),o([c({type:Boolean})],ie.prototype,"editingEnabled",null),o([ce(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ie.prototype,"readEditingEnabled",null),o([ce("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ie.prototype,"readEditingEnabledFromWebMap",null),o([ye(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ie.prototype,"writeEditingEnabled",null),o([ye("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ie.prototype,"writeEditingEnabledToWebMap",null),o([c({readOnly:!0})],ie.prototype,"editingInfo",void 0),o([ce("editingInfo")],ie.prototype,"readEditingInfo",null),o([c(L4)],ie.prototype,"elevationInfo",void 0),o([c(uI)],ie.prototype,"featureReduction",void 0),o([c(Oe(z({},xm.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Mm}}}}}))],ie.prototype,"fields",void 0),o([c(xm.fieldsIndex)],ie.prototype,"fieldsIndex",void 0),o([c({type:pI,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],ie.prototype,"floorInfo",void 0),o([c({type:PL,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ie.prototype,"formTemplate",void 0),o([c({type:jt,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],ie.prototype,"fullExtent",void 0),o([c()],ie.prototype,"gdbVersion",void 0),o([c({readOnly:!0,type:zz,json:{read:{source:"geometryProperties"}}})],ie.prototype,"geometryFieldsInfo",void 0),o([c({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:$m.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Mm,writer(e,t,r){const s=e?$m.toJSON(e):null;s&&Lr(r,s,t)}}}},read:{source:"layerDefinition.geometryType",reader:$m.read}}})],ie.prototype,"geometryType",void 0),o([c({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],ie.prototype,"hasM",void 0),o([c({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],ie.prototype,"hasZ",void 0),o([c({readOnly:!0,type:V6})],ie.prototype,"heightModelInfo",void 0),o([c({type:Date})],ie.prototype,"historicMoment",void 0),o([c(D4)],ie.prototype,"id",void 0),o([c({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ie.prototype,"infoFor3D",void 0),o([c({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ie.prototype,"isTable",void 0),o([ce("service","isTable",["type","geometryType"]),ce("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ie.prototype,"readIsTable",null),o([ye("web-map","isTable")],ie.prototype,"writeIsTable",null),o([c(Dw)],ie.prototype,"labelsVisible",void 0),o([c({type:[xy],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:db},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:db},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],ie.prototype,"labelingInfo",void 0),o([c(N4)],ie.prototype,"opacity",void 0),o([c({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],ie.prototype,"layerId",void 0),o([c(F4)],ie.prototype,"legendEnabled",void 0),o([c({type:["show","hide"]})],ie.prototype,"listMode",void 0),o([c(z4)],ie.prototype,"minScale",void 0),o([ce("service","minScale",["minScale","effectiveMinScale"])],ie.prototype,"readMinScale",null),o([c(V4)],ie.prototype,"maxScale",void 0),o([ce("service","maxScale",["maxScale","effectiveMaxScale"])],ie.prototype,"readMaxScale",null),o([c({type:String})],ie.prototype,"globalIdField",void 0),o([ce("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),ce("service","globalIdField",["globalIdField","fields"])],ie.prototype,"readGlobalIdFieldFromService",null),o([c({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Mm}}}}})],ie.prototype,"objectIdField",void 0),o([ce("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),ce("service","objectIdField",["objectIdField","fields"])],ie.prototype,"readObjectIdFieldFromService",null),o([c({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],ie.prototype,"operationalLayerType",void 0),o([c(xm.outFields)],ie.prototype,"outFields",void 0),o([c({readOnly:!0})],ie.prototype,"parsedUrl",null),o([c({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ie.prototype,"path",void 0),o([c(Nw)],ie.prototype,"popupEnabled",void 0),o([c({type:Oa,json:{name:"popupInfo",write:!0}})],ie.prototype,"popupTemplate",void 0),o([c({readOnly:!0})],ie.prototype,"defaultPopupTemplate",null),o([c({type:[qz],readOnly:!0})],ie.prototype,"relationships",void 0),o([c({types:ww,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:k6,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],ie.prototype,"renderer",null),o([ce("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ce("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ie.prototype,"readRenderer",null),o([c()],ie.prototype,"sourceJSON",void 0),o([c({type:Boolean})],ie.prototype,"returnM",void 0),o([c({type:Boolean})],ie.prototype,"returnZ",void 0),o([c(R4)],ie.prototype,"screenSizePerspectiveEnabled",void 0),o([c({clonable:!1})],ie.prototype,"source",null),o([Tt("source")],ie.prototype,"castSource",null),o([ce("portal-item","source",["featureSet"]),ce("web-map","source",["featureSet"])],ie.prototype,"readSource",null),o([c({readOnly:!0})],ie.prototype,"serviceDefinitionExpression",void 0),o([ce("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ie.prototype,"readServiceDefinitionExpression",null),o([c({type:ze,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],ie.prototype,"spatialReference",void 0),o([c({type:Number})],ie.prototype,"subtypeCode",void 0),o([c({type:[My]})],ie.prototype,"templates",void 0),o([ce("templates",["editFieldsInfo","creatorField","editorField","templates"])],ie.prototype,"readTemplates",null),o([c({type:Vw})],ie.prototype,"timeInfo",void 0),o([c()],ie.prototype,"title",void 0),o([ce("service","title",["name"]),ce("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ie.prototype,"readTitle",null),o([ce("web-map","title",["layerDefinition.name","title"])],ie.prototype,"readTitleFromWebMap",null),o([c({type:String})],ie.prototype,"sublayerTitleMode",void 0),o([c({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ie.prototype,"trackIdField",void 0),o([c({json:{read:!1}})],ie.prototype,"type",void 0),o([c({type:String})],ie.prototype,"typeIdField",void 0),o([ce("service","typeIdField"),ce("typeIdField",["layerDefinition.typeIdField"])],ie.prototype,"readTypeIdField",null),o([c({type:[Gw]})],ie.prototype,"types",void 0),o([ce("service","types",["types"]),ce("types",["layerDefinition.types"])],ie.prototype,"readTypes",null),o([c({readOnly:!0,json:{write:!1}})],ie.prototype,"serverGens",void 0),o([c({type:gt.ofType(Hi),readOnly:!0})],ie.prototype,"indexes",void 0),o([c(P4)],ie.prototype,"url",null),o([ye("url")],ie.prototype,"writeUrl",null),o([c({readOnly:!0})],ie.prototype,"userIsAdmin",void 0),o([c({json:{origins:{service:{read:!0}},read:!1}})],ie.prototype,"version",void 0),o([ce("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ie.prototype,"readVersion",null),o([c({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ie.prototype,"visible",void 0),o([ce("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ie.prototype,"readVisible",null),ie=o([I("esri.layers.FeatureLayer")],ie);const Im=xa({types:uw}),Iy=ie;var nV=Object.freeze(Object.defineProperty({__proto__:null,default:Iy},Symbol.toStringTag,{value:"Module"}));const oV=/\?(\.|$)/g;function _f(e,t,r,s){const i=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],n=vb(e,t,r,s);for(const a of i){const u=a.trim().replace(oV,"$1"),d=e.get(u);r.call(e,d,d,u,e)}return n}function vb(e,t,r,s){return e.watch(t,r,s)}function aV(e,t,r,s){return cV(e,t,dV,r,s)}function lV(e,t,r,s,i,n,a){const u={};function d(f){const y=u[f];y&&(n&&n(y.target,f,e,r),y.handle.remove(),delete u[f])}const p=_f(e,t,(f,y,v)=>{d(v),zf(f)&&(u[v]={handle:Id(f,r,s),target:f},i&&i(f,v,e,r))},a);return{remove(){p.remove();for(const f in u)d(f)}}}function uV(e,t,r,s,i){const n=e.watch(t,(a,u,d,p)=>{r&&!r(a)||s==null||s.call(e,a,u,d,p)},i);if(Array.isArray(t))for(const a of t){const u=e.get(a);r&&r(u)&&(s==null||s.call(e,u,u,t,e))}else{const a=e.get(t);r&&r(a)&&(s==null||s.call(e,a,a,t,e))}return n}function cV(e,t,r,s,i){const n=typeof s=="function"?s:null,a=typeof s=="object"?s:null;typeof s=="boolean"&&(i=s);let u,d=!1;function p(){u&&(u.remove(),u=null)}const f=ya();nn(a,()=>{p(),f.reject(ur())});const y={then:f.promise.then.bind(f.promise),catch:f.promise.catch.bind(f.promise),remove:p};return Object.freeze(y),u=uV(e,t,r,(v,b,$,k)=>{d=!0,p(),n&&n.call(e,v,b,$,k),f.resolve({value:v,oldValue:b,propertyName:$,target:k})},i),d&&p(),y}function dV(e){return!e}function pV(e){return typeof e=="string"?document.getElementById(e):e}function vI(){const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var hV="[object Object]";function fV(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function yV(e,t){return function(r){return e(t(r))}}var mV=Function.prototype,bI=Object.prototype,wI=mV.toString,gV=bI.hasOwnProperty,vV=wI.call(Object),bV=bI.toString,wV=yV(Object.getPrototypeOf,Object);function _V(e){return!!e&&typeof e=="object"}function SV(e){if(!_V(e)||bV.call(e)!=hV||fV(e))return!1;var t=wV(e);if(t===null)return!0;var r=gV.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&wI.call(r)==vV}var $V=SV,vl={exports:{}},Ct={},gd={exports:{}},Fa={};function _I(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function xV(e,t,r){}function MV(e,t,r){}var IV=/javascript\s*\:/img;function EV(e,t){return IV.test(t)?"":t}Fa.whiteList=_I();Fa.getDefaultWhiteList=_I;Fa.onAttr=xV;Fa.onIgnoreAttr=MV;Fa.safeAttrValue=EV;var OV={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ou=OV;function kV(e,t){e=Ou.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,s=!1,i=0,n=0,a="";function u(){if(!s){var f=Ou.trim(e.slice(i,n)),y=f.indexOf(":");if(y!==-1){var v=Ou.trim(f.slice(0,y)),b=Ou.trim(f.slice(y+1));if(v){var $=t(i,a.length,v,b,f);$&&(a+=$+"; ")}}}i=n+1}for(;n<r;n++){var d=e[n];if(d==="/"&&e[n+1]==="*"){var p=e.indexOf("*/",n+2);if(p===-1)break;n=p+1,i=n+1,s=!1}else d==="("?s=!0:d===")"?s=!1:d===";"?s||u():d===`
`&&u()}return Ou.trim(a)}var TV=kV,Tp=Fa,jV=TV;function KS(e){return e==null}function CV(e){var t={};for(var r in e)t[r]=e[r];return t}function SI(e){e=CV(e||{}),e.whiteList=e.whiteList||Tp.whiteList,e.onAttr=e.onAttr||Tp.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Tp.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Tp.safeAttrValue,this.options=e}SI.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onAttr,n=r.onIgnoreAttr,a=r.safeAttrValue,u=jV(e,function(d,p,f,y,v){var b=s[f],$=!1;if(b===!0?$=b:typeof b=="function"?$=b(y):b instanceof RegExp&&($=b.test(y)),$!==!0&&($=!1),y=a(f,y),!!y){var k={position:p,sourcePosition:d,source:v,isWhite:$};if($){var E=i(f,y,k);return KS(E)?f+":"+y:E}else{var E=n(f,y,k);if(!KS(E))return E}}});return u};var AV=SI;(function(e,t){var r=Fa,s=AV;function i(a,u){var d=new s(u);return d.process(a)}t=e.exports=i,t.FilterCSS=s;for(var n in r)t[n]=r[n]})(gd,gd.exports);var Hw={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},RV=gd.exports.FilterCSS,PV=gd.exports.getDefaultWhiteList,Sf=Hw;function $I(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var xI=new RV;function FV(e,t,r){}function LV(e,t,r){}function NV(e,t,r){}function DV(e,t,r){}function MI(e){return e.replace(VV,"&lt;").replace(UV,"&gt;")}function zV(e,t,r,s){if(r=jI(r),t==="href"||t==="src"){if(r=Sf.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(jp.lastIndex=0,jp.test(r))return""}else if(t==="style"){if(QS.lastIndex=0,QS.test(r)||(ZS.lastIndex=0,ZS.test(r)&&(jp.lastIndex=0,jp.test(r))))return"";s!==!1&&(s=s||xI,r=s.process(r))}return r=CI(r),r}var VV=/</g,UV=/>/g,qV=/"/g,BV=/&quot;/g,GV=/&#([a-zA-Z0-9]*);?/gim,HV=/&colon;?/gim,JV=/&newline;?/gim,jp=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,QS=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ZS=/u\s*r\s*l\s*\(.*/gi;function II(e){return e.replace(qV,"&quot;")}function EI(e){return e.replace(BV,'"')}function OI(e){return e.replace(GV,function(r,s){return s[0]==="x"||s[0]==="X"?String.fromCharCode(parseInt(s.substr(1),16)):String.fromCharCode(parseInt(s,10))})}function kI(e){return e.replace(HV,":").replace(JV," ")}function TI(e){for(var t="",r=0,s=e.length;r<s;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return Sf.trim(t)}function jI(e){return e=EI(e),e=OI(e),e=kI(e),e=TI(e),e}function CI(e){return e=II(e),e=MI(e),e}function WV(){return""}function KV(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function s(a){return r?!0:Sf.indexOf(e,a)!==-1}var i=[],n=!1;return{onIgnoreTag:function(a,u,d){if(s(a))if(d.isClosing){var p="[/removed]",f=d.position+p.length;return i.push([n!==!1?n:d.position,f]),n=!1,p}else return n||(n=d.position),"[removed]";else return t(a,u,d)},remove:function(a){var u="",d=0;return Sf.forEach(i,function(p){u+=a.slice(d,p[0]),d=p[1]}),u+=a.slice(d),u}}}function QV(e){for(var t="",r=0;r<e.length;){var s=e.indexOf("<!--",r);if(s===-1){t+=e.slice(r);break}t+=e.slice(r,s);var i=e.indexOf("-->",s);if(i===-1)break;r=i+3}return t}function ZV(e){var t=e.split("");return t=t.filter(function(r){var s=r.charCodeAt(0);return s===127?!1:s<=31?s===10||s===13:!0}),t.join("")}Ct.whiteList=$I();Ct.getDefaultWhiteList=$I;Ct.onTag=FV;Ct.onIgnoreTag=LV;Ct.onTagAttr=NV;Ct.onIgnoreTagAttr=DV;Ct.safeAttrValue=zV;Ct.escapeHtml=MI;Ct.escapeQuote=II;Ct.unescapeQuote=EI;Ct.escapeHtmlEntities=OI;Ct.escapeDangerHtml5Entities=kI;Ct.clearNonPrintableCharacter=TI;Ct.friendlyAttrValue=jI;Ct.escapeAttrValue=CI;Ct.onIgnoreTagStripAll=WV;Ct.StripTagBody=KV;Ct.stripCommentTag=QV;Ct.stripBlankChar=ZV;Ct.cssFilter=xI;Ct.getDefaultCSSWhiteList=PV;var Ey={},Gn=Hw;function YV(e){var t=Gn.spaceIndex(e);if(t===-1)var r=e.slice(1,-1);else var r=e.slice(1,t+1);return r=Gn.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function XV(e){return e.slice(0,2)==="</"}function eU(e,t,r){var s="",i=0,n=!1,a=!1,u=0,d=e.length,p="",f="";e:for(u=0;u<d;u++){var y=e.charAt(u);if(n===!1){if(y==="<"){n=u;continue}}else if(a===!1){if(y==="<"){s+=r(e.slice(i,u)),n=u,i=u;continue}if(y===">"){s+=r(e.slice(i,n)),f=e.slice(n,u+1),p=YV(f),s+=t(n,s.length,p,f,XV(f)),i=u+1,n=!1;continue}if(y==='"'||y==="'")for(var v=1,b=e.charAt(u-v);b.trim()===""||b==="=";){if(b==="="){a=y;continue e}b=e.charAt(u-++v)}}else if(y===a){a=!1;continue}}return i<e.length&&(s+=r(e.substr(i))),s}var tU=/[^a-zA-Z0-9_:\.\-]/gim;function rU(e,t){var r=0,s=[],i=!1,n=e.length;function a(y,v){if(y=Gn.trim(y),y=y.replace(tU,"").toLowerCase(),!(y.length<1)){var b=t(y,v||"");b&&s.push(b)}}for(var u=0;u<n;u++){var d=e.charAt(u),p,f;if(i===!1&&d==="="){i=e.slice(r,u),r=u+1;continue}if(i!==!1&&u===r&&(d==='"'||d==="'")&&e.charAt(u-1)==="="){if(f=e.indexOf(d,u+1),f===-1)break;p=Gn.trim(e.slice(r+1,f)),a(i,p),i=!1,u=f,r=u+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(f=sU(e,u),f===-1){p=Gn.trim(e.slice(r,u)),a(p),i=!1,r=u+1;continue}else{u=f-1;continue}else if(f=iU(e,u-1),f===-1){p=Gn.trim(e.slice(r,u)),p=YS(p),a(i,p),i=!1,r=u+1;continue}else continue}return r<e.length&&(i===!1?a(e.slice(r)):a(i,YS(Gn.trim(e.slice(r))))),Gn.trim(s.join(" "))}function sU(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function iU(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function nU(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function YS(e){return nU(e)?e.substr(1,e.length-2):e}Ey.parseTag=eU;Ey.parseAttr=rU;var oU=gd.exports.FilterCSS,Fs=Ct,AI=Ey,aU=AI.parseTag,lU=AI.parseAttr,kh=Hw;function Cp(e){return e==null}function uU(e){var t=kh.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=kh.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=kh.trim(e.slice(0,-1))),{html:e,closing:r}}function cU(e){var t={};for(var r in e)t[r]=e[r];return t}function RI(e){e=cU(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Fs.onIgnoreTagStripAll),e.whiteList=e.whiteList||Fs.whiteList,e.onTag=e.onTag||Fs.onTag,e.onTagAttr=e.onTagAttr||Fs.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Fs.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Fs.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Fs.safeAttrValue,e.escapeHtml=e.escapeHtml||Fs.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new oU(e.css))}RI.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onTag,n=r.onIgnoreTag,a=r.onTagAttr,u=r.onIgnoreTagAttr,d=r.safeAttrValue,p=r.escapeHtml,f=t.cssFilter;r.stripBlankChar&&(e=Fs.stripBlankChar(e)),r.allowCommentTag||(e=Fs.stripCommentTag(e));var y=!1;if(r.stripIgnoreTagBody){var y=Fs.StripTagBody(r.stripIgnoreTagBody,n);n=y.onIgnoreTag}var v=aU(e,function(b,$,k,E,P){var Q={sourcePosition:b,position:$,isClosing:P,isWhite:s.hasOwnProperty(k)},Z=i(k,E,Q);if(!Cp(Z))return Z;if(Q.isWhite){if(Q.isClosing)return"</"+k+">";var h=uU(E),g=s[k],m=lU(h.html,function(x,T){var S=kh.indexOf(g,x)!==-1,C=a(k,x,T,S);if(!Cp(C))return C;if(S)return T=d(k,x,T,f),T?x+'="'+T+'"':x;var C=u(k,x,T,S);return Cp(C)?void 0:C}),E="<"+k;return m&&(E+=" "+m),h.closing&&(E+=" /"),E+=">",E}else{var Z=n(k,E,Q);return Cp(Z)?p(E):Z}},p);return y&&(v=y.remove(v)),v};var dU=RI;(function(e,t){var r=Ct,s=Ey,i=dU;function n(d,p){var f=new i(p);return f.process(d)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=i;for(var a in r)t[a]=r[a];for(var a in s)t[a]=s[a];function u(){return typeof self!="undefined"&&typeof DedicatedWorkerGlobalScope!="undefined"&&self instanceof DedicatedWorkerGlobalScope}u()&&(self.filterXSS=e.exports)})(vl,vl.exports);var pU=function(){function e(t,r){var s=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,a,u,d){return n==="a"&&a==="href"||(n==="img"||n==="source")&&a==="src"?s.sanitizeUrl(u):vl.exports.safeAttrValue(n,a,u,d)}};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(n){n==="whiteList"?i.whiteList=s._extendObjectOfArrays([s.arcgisWhiteList,t.whiteList||{}]):i[n]=t[n]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new vl.exports.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t=="undefined"?void 0:null}},e.prototype.sanitizeUrl=function(t){var r=this._trim(t.substring(0,t.indexOf(":")));return t==="/"||t==="#"||t[0]==="#"||this.allowedProtocols.indexOf(r.toLowerCase())>-1?vl.exports.escapeAttrValue(t):""},e.prototype.sanitizeHTMLAttribute=function(t,r,s,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,s,i):vl.exports.safeAttrValue(t,r,s,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var s=this.sanitize(t,r);return{isValid:t===s,sanitized:s}},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(s){Object.keys(s).forEach(function(i){Array.isArray(s[i])&&Array.isArray(r[i])?r[i]=r[i].concat(s[i]):r[i]=s[i]})}),r},e.prototype._iterateOverObject=function(t,r){var s=this;r===void 0&&(r={});try{var i=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(u,d){var p=s.validate(d,r);return p.isValid?u.concat([d]):(i=!0,u.concat([p.sanitized]))},[]);else if($V(t)){var a=Object.keys(t);n=a.reduce(function(u,d){var p=t[d],f=s.validate(p,r);return f.isValid?u[d]=p:(i=!0,u[d]=f.sanitized),u},{})}else return r.allowUndefined&&typeof t=="undefined"?void 0:null;return i?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const Oy=new Map;function PI(){Oy.clear()}function hU(e){return Oy.get(e)}function fU(e,t){Oy.set(e,t)}function Em(e){Oy.delete(e)}const yU=fe.getLogger("esri.widgets.support.widgetUtils");function mU(e){const t=Ds.acquire();for(let s=0;s<arguments.length;s++){const i=arguments[s],n=typeof i;if(n==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(n==="object")for(const a in i)i[a]&&t.push(a)}const r=t.join(" ");return Ds.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{PI();for(const s of r)e.get(s.target)(s)});return(r,s,i)=>(e.has(r)&&yU.error("Already observing element",r),e.set(r,s),t.observe(r,i),Sd(()=>{t.unobserve(r),e.delete(r)}))})();function gc(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const gU=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],vU=gU.reduce((e,t)=>(e[t]=[],e),{}),bU=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],FI=new pU({whiteList:vU,onTagAttr:(e,t,r)=>{const s=`${t}="${r}"`;if(bU.includes(t))return s},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function wU(e,t){const r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=r.top+r.height,n=s.top+s.height,a=r.top,u=s.top;(i>n||a<u)&&e.scrollIntoView({block:"end"})}function LI(e){return e==="Enter"||e===" "}const NI="http://www.w3.org/",ky=`${NI}2000/svg`,DI=`${NI}1999/xlink`;let $f,XS=[],Jw=(e,t)=>{let r={};return Object.keys(e).forEach(s=>{r[s]=e[s]}),t&&Object.keys(t).forEach(s=>{r[s]=t[s]}),r},Ww=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),zI=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},_U=(e,t,r)=>{if(t.vnodeSelector!==""){for(let s=r;s<e.length;s++)if(Ww(e[s],t))return s}return-1},Om=(e,t,r,s)=>{let i=e[t];if(i.vnodeSelector==="")return;let n=i.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let a=0;a<e.length;a++)if(a!==t){let u=e[a];if(Ww(u,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${s==="added"?s:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},SU=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},bb=[],wb=!1,VI=e=>{(e.children||[]).forEach(VI),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},e8=()=>{wb=!1,bb.forEach(VI),bb.length=0},t8=e=>{bb.push(e),wb||(wb=!0,typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(e8,{timeout:16}):setTimeout(e8,16))},r8=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),t8(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),t8(e))},$U=(e,t,r)=>{if(!t)return;let s=r.eventHandlerInterceptor,i=Object.keys(t),n=i.length;for(let a=0;a<n;a++){let u=i[a],d=t[u];if(u==="className")throw new Error('Property "className" is not supported, use "class".');if(u==="class")_b(e,d,!0);else if(u==="classes"){let p=Object.keys(d),f=p.length;for(let y=0;y<f;y++){let v=p[y];d[v]&&e.classList.add(v)}}else if(u==="styles"){let p=Object.keys(d),f=p.length;for(let y=0;y<f;y++){let v=p[y],b=d[v];b&&(zI(b),r.styleApplyer(e,v,b))}}else if(u!=="key"&&d!=null){let p=typeof d;p==="function"?(u.lastIndexOf("on",0)===0&&(s&&(d=s(u,d,e,t)),u==="oninput"&&function(){let f=d;d=function(y){f.apply(this,[y]),y.target["oninput-value"]=y.target.value}}()),e[u]=d):r.namespace===ky?u==="href"?e.setAttributeNS(DI,u,d):e.setAttribute(u,d):p==="string"&&u!=="value"?u==="innerHTML"?e[u]=FI.sanitize(d):e.setAttribute(u,d):e[u]=d}}},xU=(e,t,r)=>{if(t)for(let s of t)bl(s,e,void 0,r)},UI=(e,t,r)=>{xU(e,t.children,r),t.text&&(e.textContent=t.text),$U(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},bl=(e,t,r,s)=>{let i,n=0,a=e.vnodeSelector,u=t.ownerDocument;if(a==="")i=e.domNode=u.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let d=0;d<=a.length;++d){let p=a.charAt(d);if(d===a.length||p==="."||p==="#"){let f=a.charAt(n-1),y=a.slice(n,d);f==="."?i.classList.add(y):f==="#"?i.id=y:(y==="svg"&&(s=Jw(s,{namespace:ky})),s.namespace!==void 0?i=e.domNode=u.createElementNS(s.namespace,y):(i=e.domNode=e.domNode||u.createElement(y),y==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),n=d+1}}UI(i,e,s)}},_b=(e,t,r)=>{t&&t.split(" ").forEach(s=>{s&&e.classList.toggle(s,r)})},MU=(e,t,r,s)=>{if(!r)return;let i=!1,n=Object.keys(r),a=n.length;for(let u=0;u<a;u++){let d=n[u],p=r[d],f=t[d];if(d==="class")f!==p&&(_b(e,f,!1),_b(e,p,!0));else if(d==="classes"){let y=e.classList,v=Object.keys(p),b=v.length;for(let $=0;$<b;$++){let k=v[$],E=!!p[k];E!==!!f[k]&&(i=!0,E?y.add(k):y.remove(k))}}else if(d==="styles"){let y=Object.keys(p),v=y.length;for(let b=0;b<v;b++){let $=y[b],k=p[$];k!==f[$]&&(i=!0,k?(zI(k),s.styleApplyer(e,$,k)):s.styleApplyer(e,$,""))}}else if(p||typeof f!="string"||(p=""),d==="value"){let y=e[d];y!==p&&(e["oninput-value"]?y===e["oninput-value"]:p!==f)&&(e[d]=p,e["oninput-value"]=void 0),p!==f&&(i=!0)}else if(p!==f){let y=typeof p;y==="function"&&s.eventHandlerInterceptor||(s.namespace===ky?d==="href"?e.setAttributeNS(DI,d,p):e.setAttribute(d,p):y==="string"?d==="innerHTML"?e[d]=FI.sanitize(p):d==="role"&&p===""?e.removeAttribute(d):e.setAttribute(d,p):e[d]!==p&&(e[d]=p),i=!0)}}return i},IU=(e,t,r,s,i)=>{if(r===s)return!1;s=s||XS;let n,a=(r=r||XS).length,u=s.length,d=0,p=0,f=!1;for(;p<u;){let y=d<a?r[d]:void 0,v=s[p];if(y!==void 0&&Ww(y,v))f=$f(y,v,i)||f,d++;else{let b=_U(r,v,d+1);if(b>=0){for(n=d;n<b;n++)r8(r[n]),Om(r,n,e,"removed");f=$f(r[b],v,i)||f,d=b+1}else bl(v,t,d<a?r[d].domNode:void 0,i),SU(v),Om(s,p,e,"added")}p++}if(a>d)for(n=d;n<a;n++)r8(r[n]),Om(r,n,e,"removed");return f};$f=(e,t,r)=>{let s=e.domNode,i=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=s.ownerDocument.createTextNode(t.text);return s.parentNode.replaceChild(a,s),t.domNode=a,i=!0,i}t.domNode=s}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=Jw(r,{namespace:ky})),e.text!==t.text&&(n=!0,t.text===void 0?s.removeChild(s.firstChild):s.textContent=t.text),t.domNode=s,n=IU(t,s,e.children,t.children,r)||n,n=MU(s,e.properties,t.properties,r)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[s,r,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(s,t.properties,e.properties),i};let ku=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let s=e;e=r,$f(s,r,t)},domNode:e.domNode});const EU={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Tu=e=>Jw(EU,e),Ap={create:(e,t)=>(t=Tu(t),bl(e,document.createElement("div"),void 0,t),ku(e,t)),append:(e,t,r)=>(r=Tu(r),bl(t,e,void 0,r),ku(t,r)),insertBefore:(e,t,r)=>(r=Tu(r),bl(t,e.parentNode,e,r),ku(t,r)),merge:(e,t,r)=>(r=Tu(r),t.domNode=e,UI(e,t,r),ku(t,r)),replace:(e,t,r)=>(r=Tu(r),bl(t,e.parentNode,e,r),e.parentNode.removeChild(e),ku(t,r))};const OU={handleInterceptedEvent:(e,t,r,s)=>(e.scheduleRender(),t.properties[`on${s.type}`].apply(t.properties.bind||r,[s]))},kU={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},TU=e=>z(z({},kU),e),jU=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},CU=(e,t)=>e.find(t),s8=(e,t,r=!1)=>{let s=e;return t.forEach((i,n)=>{var a;const u=(a=s)!=null&&a.children?CU(s.children,d=>d.domNode===i):void 0;r&&!u&&n!==t.length-1||(s=u)}),s},AU=e=>{let t;const r=z(z({},OU),e),s=TU(r),i=s.performanceLogger;let n,a=!0,u=!1;const d=[],p=[],f=(v,b,$)=>{let k;s.eventHandlerInterceptor=(P,Q,Z,h)=>function(g){let m;i("domEvent",g);const _=jU(g.currentTarget,k.domNode),x=_.some(S=>{var C;return customElements.get(S==null||(C=S.tagName)==null?void 0:C.toLowerCase())});if(g.eventPhase===Event.CAPTURING_PHASE||!x)_.reverse(),m=s8(k.getLastRender(),_);else{const S=g.composedPath(),C=S.slice(S.indexOf(g.currentTarget),S.indexOf(k.domNode)).filter(J=>J.getRootNode()===J.ownerDocument).reverse();m=s8(k.getLastRender(),C,!0)}let T;return m&&(T=r.handleInterceptedEvent(t,m,this,g)),i("domEventProcessed",g),T},r.postProcessProjectionOptions==null||r.postProcessProjectionOptions(s);const E=$();k=v(b,E,s),d.push(k),p.push($),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(k,E)};let y=()=>{if(n=void 0,a){a=!1,i("renderStart",void 0);for(let v=0;v<d.length;v++){const b=p[v]();i("rendered",void 0),d[v].update(b),i("patched",void 0)}i("renderDone",void 0),a=!0}};return r.modifyDoRenderImplementation&&(y=r.modifyDoRenderImplementation(y,d,p)),t={renderNow:y,scheduleRender:()=>{n||u||(n=requestAnimationFrame(y))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),u=!0},resume:()=>{u=!1,a=!0,t.scheduleRender()},append:(v,b)=>{f(Ap.append,v,b)},insertBefore:(v,b)=>{f(Ap.insertBefore,v,b)},merge:(v,b)=>{f(Ap.merge,v,b)},replace:(v,b)=>{f(Ap.replace,v,b)},detach:v=>{for(let b=0;b<p.length;b++)if(p[b]===v)return p.splice(b,1),d.splice(b,1)[0];throw new Error("renderFunction was not found")}},t},qI=typeof window!="undefined"?window:{};qI.document;qI.HTMLElement||class{};const RU=e=>e;let BI;function PU(){RU(fs(cu(BI)))}BI="components/assets";const GI=Symbol("widget"),FU=[],LU={},xf=new WeakMap;function HI(e,t){let r=t.children;if(r&&r.length)for(let i=0;i<r.length;++i)r[i]=HI(e,r[i]);else r=FU;const s=t.vnodeSelector;if(Kw(s)){const i=t.properties||LU,n=i.key||s;return{vnodeSelector:"div",properties:{key:n,afterCreate:NU,afterUpdate:DU,afterRemoved:JI,parentWidget:e,widgetConstructor:s,widgetProperties:Oe(z({},i),{key:n,children:r})},children:void 0,text:void 0,domNode:null}}return t}function NU(e,t,r,{parentWidget:s,widgetConstructor:i,widgetProperties:n}){const a=new i(n);a.container=e,xf.set(e,a),a.afterCreate==null||a.afterCreate(a,e),s._internalHandles.add(Sd(()=>JI(e)))}function DU(e,t,r,{widgetProperties:s}){const i=xf.get(e);i&&(i.set(s),i.afterUpdate==null||i.afterUpdate(i,e))}function JI(e){const t=xf.get(e);t&&(t.destroy(),xf.delete(e))}function Kw(e){return typeof e=="function"&&e[GI]}function zU(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}const WI="esri.widgets.Widget",i8=fe.getLogger(WI);let VU=0;const UU={widgetIcon:"esri-icon-checkbox-unchecked"};function KI(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?KI(e[r],t[r]):e[r]=t[r]);return e}const qU=AU({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(s,i,n,a)=>{const u=t(s,i,n,a),d=r.test(s);if(!((s=s.replace(r,"")).toLowerCase()in n)||d){const p=s[2].toLowerCase()+s.slice(3),f=b=>u.call(n,b);n.addEventListener(p,f,d);const y=()=>n.removeEventListener(p,f,d),v=a.afterRemoved;a.afterRemoved=b=>{v==null||v(b),y()}}return u}},handleInterceptedEvent(e,t,r,s){const{eventPhase:i,type:n}=s,a=i===Event.CAPTURING_PHASE;let u=`on${n}${a?"capture":""}`;const d=t.properties;(u in d||(u=`on${n[0].toUpperCase()}${n.slice(1)}${a?"Capture":""}`,u in d))&&(PI(),e.scheduleRender(),d[u].call(d.bind||r,s))}});let km=!1,Bt=class extends oy(kd.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new Pa,this._projector=qU,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=UU.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=r1(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const u=await bi(this._messageBundleProps.map(async({bundlePath:d,propertyName:p})=>{let f=await Tw(d);this.uiStrings&&Object.keys(this.uiStrings)&&(f=KI(D(f),this.uiStrings)),this[p]=f}));for(const d of u)d.error&&i8.error("widget-intl:locale-error",this.declaredClass,d.error)}await this.loadLocale()}),PU();const r=["light","dark"],s=zU()||"light";r.includes(s)||Pf(i8,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const i="esri-widget-uid-"+vI(),n=this.render.bind(this);this._trackingTarget=new Bf(()=>this.scheduleRender());const a=()=>{var u;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:i,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const d=n();let{properties:p}=d;p||(d.properties=p={});let{key:f,styles:y}=p;f||(p.key=i),y||(p.styles=y={}),y.display||(y.display="");let v=0;return(u=d.children)==null||u.forEach(b=>{if(Kw(b.vnodeSelector))return;let{properties:$}=b;$||(b.properties=$={}),$.key||($.key=`${this.id}--${v++}`)}),HI(this,d)};this.render=()=>{if(km)return a();let u=hU(this);if(u)return u;this._trackingTarget.clear(),km=!0;try{u=sn(this._trackingTarget,a)}finally{km=!1}return fU(this,u),u},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(e,t){const r=z({},e);return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(Ym)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=Bh(this._trackingTarget),this.viewModel=Bh(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,Em(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return pV(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+VU++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Em(this),this._projector.scheduleRender())}classes(...e){return mU.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){Em(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),(e=this._delegatedEventNames)!=null&&e.length&&this._internalHandles.add(Hl(()=>this.viewModel,(r,s)=>{s&&this._internalHandles.remove("delegated-events"),r&&this._internalHandles.add(this._delegatedEventNames.map(i=>r.on(i,n=>{this.emit(i,n)})),"delegated-events")},H6)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(Ym),this.scheduleRender()};this._internalHandles.add([sM(t),Hl(()=>this.uiStrings,t),Mw(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Bt[GI]=!0,o([c()],Bt.prototype,"_readyForTrueRender",void 0),o([c({value:null})],Bt.prototype,"container",null),o([Tt("container")],Bt.prototype,"castContainer",null),o([c({aliasOf:"container"})],Bt.prototype,"domNode",void 0),o([c()],Bt.prototype,"iconClass",void 0),o([c()],Bt.prototype,"id",null),o([c()],Bt.prototype,"label",void 0),o([c()],Bt.prototype,"renderable",null),o([c()],Bt.prototype,"uiStrings",void 0),o([c()],Bt.prototype,"viewModel",void 0),o([c()],Bt.prototype,"visible",void 0),o([c()],Bt.prototype,"key",void 0),o([c()],Bt.prototype,"children",void 0),o([c()],Bt.prototype,"afterCreate",void 0),o([c()],Bt.prototype,"afterUpdate",void 0),o([c()],Bt.prototype,"afterRemoved",void 0),Bt=o([I(WI)],Bt);const Qw=Bt;function BU(e){return e&&typeof e.highlight=="function"}let Nt=class extends Cd(X){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};o([c()],Nt.prototype,"autoNavigate",void 0),o([c()],Nt.prototype,"filter",void 0),o([c()],Nt.prototype,"getResults",void 0),o([c()],Nt.prototype,"getSuggestions",void 0),o([c()],Nt.prototype,"maxResults",void 0),o([c()],Nt.prototype,"maxSuggestions",void 0),o([c()],Nt.prototype,"minSuggestCharacters",void 0),o([c()],Nt.prototype,"outFields",void 0),o([c()],Nt.prototype,"placeholder",void 0),o([c()],Nt.prototype,"popupEnabled",void 0),o([c()],Nt.prototype,"popupTemplate",void 0),o([c()],Nt.prototype,"prefix",void 0),o([c()],Nt.prototype,"resultGraphicEnabled",void 0),o([c()],Nt.prototype,"resultSymbol",void 0),o([c()],Nt.prototype,"suggestionsEnabled",void 0),o([c()],Nt.prototype,"suffix",void 0),o([c()],Nt.prototype,"withinViewEnabled",void 0),o([c()],Nt.prototype,"zoomScale",void 0),Nt=o([I("esri.widgets.Search.SearchSource")],Nt);const Zw=Nt,QI=96;function GU(e,t){const r=t||e.extent,s=e.width,i=au(r&&r.spatialReference);return r&&s?r.width/s*i*n6*QI:0}function HU(e,t){return e/(au(t)*n6*QI)}function JU(e,t){const r=e.extent,s=e.width,i=HU(t,r.spatialReference);return r.clone().expand(i*s/r.width)}const n8=fe.getLogger("esri.widgets.Search.support.geometryUtils");function WU(e,t){var r,s;if(!t)return n8.error("missing-parameter: view is missing."),Promise.reject(new H("searchgeometryutils:missing-parameter","view is missing."));if(!e)return n8.error("missing-parameter: point is missing."),Promise.reject(new H("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||t.type==="2d")return Promise.resolve(e);const i=t==null||(r=t.map)==null?void 0:r.ground;return i&&i.layers.length?i.queryElevation(e,{cache:(s=t.basemapTerrain)==null?void 0:s.elevationQueryCache}).then(n=>n.geometry):Promise.resolve(e)}function o8(e){if(we(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function Yw(e,t,r){return we(e)?null:e.type==="extent"?e:e.type==="multipoint"||e.type==="polygon"||e.type==="polyline"?e.extent:e.type==="point"?ZI(e,t,r):void 0}function Sb(e,t,r){return we(e)||we(t)?null:ZI(e.center,t,r)}function ZI(e,t,r){const s=e.hasZ?e.z:void 0;return t&&t.map?(r?JU(t,r):t.extent).clone().centerAt(e).set({zmax:s,zmin:s}):new jt({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:s,zmax:s})}const KU=/https?:\/\/services.*\.arcgis\.com/i,QU=/(?:\{([^}]+)\})/g,Rl=fe.getLogger("esri.widgets.Search.support.layerSearchUtils");function ZU(e,t){const{exactMatch:r=!1,location:s,maxResults:i,spatialReference:n,source:a,sourceIndex:u,suggestResult:d,view:p}=e,{layer:f,filter:y,zoomScale:v}=a,b=p&&p.scale,$=YI(a,p),k=t&&t.signal;return eE(f).then(()=>{const E=f.popupTemplate;return E?E.getRequiredFields(f.fieldsIndex):null}).then(E=>{var P,Q,Z;const{objectIdField:h,returnZ:g}=f,m=rE(a);if(!Xw(f,m))throw Rl.error("invalid-field: displayField is invalid."),new H("getResults():invalid-field","displayField is invalid.");const _=E&&E.length?E:[m],x=a.outFields||_,T=XI(x);if(x.indexOf(h)!==-1||T||x.push(h),(P=f.floorInfo)!=null&&P.floorField&&x.push(f.floorInfo.floorField),!(T||Mf(f,x)))throw Rl.error("invalid-field: outField is invalid."),new H("getResults():invalid-field","outField is invalid.");const S=f.createQuery(),{orderByFields:C}=a;if(C&&(S.orderByFields=C),n){S.outSpatialReference=n;const V=1/au(n);V&&(S.maxAllowableOffset=V)}const J=f.geometryType==="mesh"||f.geometryType==="multipatch",B=((Q=f.capabilities)==null||(Z=Q.data)==null?void 0:Z.supportsZ)&&!J;if(S.returnZ=B&&g!==!1,S.returnGeometry=!0,S.multipatchOption=J?"xyFootprint":null,x&&(S.outFields=x),s)S.geometry=s;else if(d.key)S.objectIds=[d.key];else{const V=a.searchFields||[m];if(!Mf(f,V))throw Rl.error("invalid-field: search field is invalid."),new H("getResults():invalid-field","search field is invalid.");if(tE(f)&&(S.num=i),$&&(S.geometry=$),!d.text.trim())return[];const{prefix:W="",suffix:M=""}=a,U=iE({searchTerm:sE(`${W}${d.text}${M}`),layer:f,searchFields:V,filter:y,exactMatch:r,type:"search"});if(!U)return[];S.where=U}return f.queryFeatures(S,{signal:k}).then(V=>uq(V,p,a,u,m,b,v))})}function YU(e,t){const{source:r,spatialReference:s,view:i,suggestTerm:n,maxSuggestions:a,sourceIndex:u,exactMatch:d}=e,{layer:p,filter:f}=r,y=t&&t.signal,v=YI(r,i);return eE(p).then(()=>{if(!tE(p))return[];const b=rE(r),$=r.searchFields||[b],k=[];r.suggestionTemplate?r.suggestionTemplate.replace(QU,(T,S)=>(k.push(S),T)):k.push(b);const E=XI(k);k.indexOf(p.objectIdField)!==-1||E||k.push(p.objectIdField);const P=Xw(p,b),Q=E||Mf(p,k),Z=Mf(p,$);if(!P)throw Rl.error("invalid-field: displayField is invalid."),new H("getSuggestions():invalid-field","displayField is invalid.");if(!Q)throw Rl.error("invalid-field: outField is invalid."),new H("getSuggestions():invalid-field","outField is invalid.");if(!Z)throw Rl.error("invalid-field: search field is invalid."),new H("getSuggestions():invalid-field","search field is invalid.");const h=p.createQuery(),{orderByFields:g}=r;if(g&&(h.orderByFields=g),h.outSpatialReference=s,h.returnGeometry=!1,h.num=a,h.outFields=k,v&&(h.geometry=v),!n.trim())return[];const{prefix:m="",suffix:_=""}=r,x=iE({searchTerm:sE(`${m}${n}${_}`),layer:p,searchFields:$,filter:f,exactMatch:d,type:"suggest"});return x?(h.where=x,p.queryFeatures(h,{signal:y}).then(T=>aq(T,r,u,b))):[]})}function YI(e,t){const{filter:r,withinViewEnabled:s}=e,i=t&&t.extent;return r&&r.geometry||(s&&i?i:void 0)}function XI(e){return e&&e.indexOf("*")!==-1}async function eE(e){e&&await e.load()}function tE(e){var t,r,s;return(t=e==null||(r=e.capabilities)==null||(s=r.query)==null?void 0:s.supportsPagination)!=null&&t}function XU(e){var t,r,s,i;return(t=e==null||(r=e.fieldsIndex)==null||(s=r.fields)==null||(i=s.find(n=>n.type==="string"))==null?void 0:i.name)!=null?t:""}function rE(e){return e.displayField||e.layer.displayField||XU(e.layer)}function Mf(e,t){return!(!e||!t)&&t.every(r=>Xw(e,r))}function Xw(e,t){return!!e.getField(t)}function eq(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function tq(e,t,r){let s=null;const{codedValues:i}=e;return i&&i.some(n=>{const a=n.name,u=r?a:a.toLowerCase();return(r?t:t.toLowerCase())===u&&(s=n.code.toString(),!0)}),s}function sE(e){return e.replace(/\'/g,"''")}function Rp(e,t){const r=t&&t.where;return r?`(${e}) AND (${r})`:e}function rq({currentTerm:e,field:t,filter:r,exactMatch:s,url:i,type:n}){const a=t.type,u=t.name;if(a==="string"||a==="date"||a==="global-id"){const d=KU.test(i),p=d&&eq(e)?"N":"";if(s&&n==="search")return Rp(`${u} = ${p}'${e}'`,r);const f=d?u:`UPPER(${u})`,y=d?e:e.toUpperCase();return Rp(`${f} LIKE ${p}${s?`'${y}%'`:`'%${y}%'`}`,r)}if(a==="oid"||a==="small-integer"||a==="integer"||a==="single"||a==="double"){const d=Number(e);return isNaN(d)?null:Rp(`${u} = ${d}`,r)}return Rp(`${u} = ${e}`,r)}function sq(e,t){return e?` OR (${t})`:`(${t})`}function iE({searchTerm:e,layer:t,searchFields:r,filter:s,exactMatch:i,type:n}){const{definitionExpression:a,url:u}=t;let d="";return e&&r&&r.forEach(p=>{const f=t.getField(p),y=typeof t.getFieldDomain=="function"&&t.getFieldDomain(p),v=(y&&y.type==="coded-value"?tq(y,e,i):null)||e||null;if(v!==null){const b=rq({currentTerm:v,field:f,filter:s,exactMatch:i,url:u,type:n});b&&(d+=sq(d,b))}}),a?`(${a}) AND (${d})`:d}function iq(e,t){let r=null;const{codedValues:s}=e;return s&&s.length&&s.some(i=>i.code===t&&(r=i.name,!0)),r}function nq(e,t){return e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function nE(e,t,r){const s=e.sourceLayer,{attributes:i}=e,n=typeof s.getFieldDomain=="function"&&s.getFieldDomain(r);if(t)return Ow(t,i);if(r&&i){const a=s.getField(r),u=nq(i,r);return u==null?"":n&&n.type==="coded-value"?iq(n,u):(a==null?void 0:a.type)==="date"?Sa(new Date(u)):typeof u=="number"?u.toString():typeof u!="string"?"":u.trim()}return""}function oq(e,t,r,s){const i=e.sourceLayer,{attributes:n}=e,{objectIdField:a}=i,u=n[a];return{text:nE(e,t.suggestionTemplate,s),key:u,sourceIndex:r}}function aq(e,t,r,s){return e.features.map(i=>oq(i,t,r,s))}function lq(e,t,r,s,i,n,a){const u=e.clone(),d=e.sourceLayer,p=d&&d.objectIdField,f=p&&e.attributes[p],y=nE(e,r.searchTemplate,i),v=Yw(u.geometry,t,n),b=typeof a=="number"?Sb(D(v),t,a):v,$=e.clone();return q(b)&&($.geometry=Ma.fromExtent(b)),{extent:b,target:$,feature:u,key:f,name:y,sourceIndex:s}}function uq(e,t,r,s,i,n,a){return e.features.map(u=>lq(u,t,r,s,i,n,a))}var $b;let Ps=$b=class extends Zw{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>ZU(z({source:this},t),r),this.getSuggestions=(t,r)=>YU(z({source:this},t),r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(e){e!==void 0?this._override("name",e):this._clearOverride("name")}clone(){return new $b({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?D(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?D(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return(e=(t=this.layer.fieldsIndex.fields.find(r=>r.type==="string"))==null?void 0:t.name)!=null?e:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const s=e.getField(r);return s&&s.alias||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};o([c({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Ps.prototype,"displayField",void 0),o([c({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Ps.prototype,"exactMatch",void 0),o([c({value:null})],Ps.prototype,"layer",null),o([c()],Ps.prototype,"name",null),o([c({type:[String],json:{write:!0}})],Ps.prototype,"orderByFields",void 0),o([c()],Ps.prototype,"searchFields",void 0),o([c()],Ps.prototype,"searchTemplate",void 0),o([c()],Ps.prototype,"suggestionTemplate",void 0),Ps=$b=o([I("esri.widgets.Search.LayerSearchSource")],Ps);const dl=Ps;function pu(e,t){return t?Oe(z({},t),{query:z(z({},e),t.query)}):{query:e}}function hu(e){return typeof e=="string"?Dr(e):e}function fu(e,t,r){const s={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){s[i]=[];for(let a=0;a<n.length;a++)s[i][a]=fu(n[a])}else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r&&r[i]);s[i]=t?a:JSON.stringify(a)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}function cq(e){return e&&typeof e.x=="number"&&typeof e.y=="number"}function dq(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let Ln=class extends X{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};o([c({type:String,json:{write:!0}})],Ln.prototype,"address",void 0),o([c({type:Object,json:{write:!0}})],Ln.prototype,"attributes",void 0),o([c({type:jt,json:{write:!0}})],Ln.prototype,"extent",void 0),o([c({type:ht,json:{write:!0}})],Ln.prototype,"location",void 0),o([c({type:Number,json:{write:!0}})],Ln.prototype,"score",void 0),Ln=o([I("esri.rest.support.AddressCandidate")],Ln);const e_=Ln,Ty={type:String,json:{read:{source:"token"},write:{target:"token"}}};let ar=class extends X{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};o([c({type:Object,json:{write:!0}})],ar.prototype,"address",void 0),o([c(Ty)],ar.prototype,"apiKey",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],ar.prototype,"categories",void 0),o([c({type:String,json:{write:!0}})],ar.prototype,"countryCode",void 0),o([c({type:Boolean,json:{write:!0}})],ar.prototype,"forStorage",void 0),o([c({type:ht,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],ar.prototype,"location",void 0),o([c({type:String,json:{write:!0}})],ar.prototype,"locationType",void 0),o([c({type:String,json:{write:!0}})],ar.prototype,"magicKey",void 0),o([c({type:Number,json:{write:!0}})],ar.prototype,"maxLocations",void 0),o([c({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],ar.prototype,"outFields",void 0),o([c({type:ze,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ar.prototype,"outSpatialReference",void 0),o([c({type:jt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],ar.prototype,"searchExtent",void 0),ar=o([I("esri.rest.support.AddressToLocationsParameters")],ar),ar.from=ct(ar);const oE=ar;async function aE(e,t,r){t=oE.from(t);const s=hu(e),i=t.toJSON(),{address:n}=i,a=_T(i,["address"]),u=Oe(z(z({},n),a),{f:"json"}),d=fu(z(z({},s.query),u)),p=pu(d,r),f=`${s.path}/findAddressCandidates`;return $t(f,p).then(pq)}function pq({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(s=>{if(!s)return;const{extent:i,location:n}=s,a=!i||dq(i);return cq(n)&&a?(i&&(i.spatialReference=r),n.spatialReference=r,e_.fromJSON(s)):void 0}):[]}let pi=class extends X{constructor(e){super(e),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};o([c({type:[Object],json:{read:{reader:e=>e&&e.records?e.records.map(t=>t.attributes):null},write:{writer:(e,t)=>{const r=[];Array.isArray(e)&&e.forEach(s=>{r.push({attributes:s})}),t.addresses={records:r}}}}})],pi.prototype,"addresses",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],pi.prototype,"categories",void 0),o([c({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],pi.prototype,"countryCode",void 0),o([c({type:String,json:{write:!0}})],pi.prototype,"locationType",void 0),o([c({type:ze,json:{read:{source:"outSR"},write:{target:"outSR"}}})],pi.prototype,"outSpatialReference",void 0),pi=o([I("esri.rest.support.AddressesToLocationsParameters")],pi),pi.from=ct(pi);const hq=pi;async function fq(e,t,r){t=hq.from(t);const s=hu(e),i=Oe(z({},t.toJSON()),{f:"json"}),n=fu(z(z({},s.query),i)),a=pu(n,r),u=`${s.path}/geocodeAddresses`;return $t(u,a).then(yq)}function yq(e){const{data:t}=e;if(!t)return[];const{locations:r,spatialReference:s}=t;return r?r.map(i=>{const{location:n}=i;return n&&(n.spatialReference=s),e_.fromJSON(i)}):[]}let Ui=class extends X{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};o([c(Ty)],Ui.prototype,"apiKey",void 0),o([c({type:ht,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,s=r!==void 0;t.location=s?r:null}}}})],Ui.prototype,"location",void 0),o([c({type:String,json:{write:!0}})],Ui.prototype,"locationType",void 0),o([c({type:ze,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ui.prototype,"outSpatialReference",void 0),Ui=o([I("esri.rest.support.LocationToAddressParameters")],Ui),Ui.from=ct(Ui);const lE=Ui;async function uE(e,t,r){t=lE.from(t);const s=hu(e),i=Oe(z({},t.toJSON()),{f:"json"}),n=fu(z(z({},s.query),i)),a=pu(n,r),u=`${s.path}/reverseGeocode`;return $t(u,a).then(mq)}function mq({data:e}){if(!e)return;const{address:t,location:r}=e,s=t&&t.Match_addr||"";return e_.fromJSON({address:s,attributes:t||{},location:r,score:100})}let pl=class extends X{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};o([c({type:Boolean,json:{write:!0}})],pl.prototype,"isCollection",void 0),o([c({type:String,json:{write:!0}})],pl.prototype,"magicKey",void 0),o([c({type:String,json:{write:!0}})],pl.prototype,"text",void 0),pl=o([I("esri.rest.support.SuggestionCandidate")],pl);const gq=pl;let Gr=class extends X{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};o([c(Ty)],Gr.prototype,"apiKey",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Gr.prototype,"categories",void 0),o([c({type:String,json:{write:!0}})],Gr.prototype,"countryCode",void 0),o([c({type:ht,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Gr.prototype,"location",void 0),o([c({type:Number,json:{write:!0}})],Gr.prototype,"maxSuggestions",void 0),o([c({type:ze,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Gr.prototype,"outSpatialReference",void 0),o([c({type:jt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],Gr.prototype,"searchExtent",void 0),o([c({type:String,json:{write:!0}})],Gr.prototype,"text",void 0),Gr=o([I("esri.rest.support.SuggestLocationsParameters")],Gr),Gr.from=ct(Gr);const cE=Gr;async function dE(e,t,r){const s=hu(e),i=Oe(z({},(t=cE.from(t)).toJSON()),{f:"json"}),n=fu(z(z({},s.query),i)),a=pu(n,r),u=`${s.path}/suggest`;return $t(u,a).then(vq)}function vq(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(s=>new gq(s)):[]}let hl=class extends wt{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return typeof e!="string"?e:z({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Dr(e):null}_encode(e,t,r){const s={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){s[i]=[];for(let a=0;a<n.length;a++)s[i][a]=this._encode(n[a])}else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r&&r[i]);s[i]=t?a:JSON.stringify(a)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}};o([c({readOnly:!0})],hl.prototype,"parsedUrl",null),o([c()],hl.prototype,"requestOptions",void 0),o([c({type:String})],hl.prototype,"url",void 0),hl=o([I("esri.tasks.Task")],hl);const pE=hl;let vc=class extends pE{constructor(e){super(e),this.outSpatialReference=null,this.url=null}addressToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=z(z({},this.requestOptions),t);return aE(this.url,e,r)}suggestLocations(e,t){const r=z(z({},this.requestOptions),t);return dE(this.url,e,r)}addressesToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=z(z({},this.requestOptions),t);return fq(this.url,e,r)}locationToAddress(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=z(z({},this.requestOptions),t);return uE(this.url,e,r)}};o([c({type:ze})],vc.prototype,"outSpatialReference",void 0),o([c()],vc.prototype,"url",void 0),vc=o([I("esri.tasks.Locator")],vc);const bq=vc,wq="Single Line Input",_q=3e5;function Sq(e,t){return e.location?Eq(e,t):Oq(e,t)}function hE(e,t){if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=_q?e.get("extent.center"):null}function $q(e,t){const{source:r,spatialReference:s,view:i,suggestTerm:n,maxSuggestions:a,sourceIndex:u}=e,d=new cE,{apiKey:p,url:f}=r,y=fE(r,i),v=t&&t.signal;if(!f)return Promise.resolve(null);p&&(d.apiKey=p),r.categories&&(d.categories=r.categories),s&&(d.outSpatialReference=s);const b=hE(i,r);if(b&&(d.location=b),!n.trim())return Promise.resolve(null);const{prefix:$="",suffix:k=""}=r,E=`${$}${n}${k}`;return d.text=E,y&&(d.searchExtent=y),d.maxSuggestions=a,r.countryCode&&(d.countryCode=r.countryCode),dE(f,d,{signal:v}).then(P=>Tq(P,u))}function xq(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function Mq(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function a8(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}const Iq="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function Eq(e,t){const{source:r,spatialReference:s,location:i,sourceIndex:n,view:a}=e,{apiKey:u,url:d,zoomScale:p,defaultZoomScale:f}=r,y=a&&a.scale,v=t&&t.signal,b=new lE;return b.location=i,u&&(b.apiKey=u),s&&(b.outSpatialReference=s),uE(d,b,{signal:v}).then($=>yE([$],{sourceIndex:n,scale:y,view:a,zoomScale:p,defaultZoomScale:f})).catch(()=>[])}function fE(e,t){const{filter:r,withinViewEnabled:s}=e,i=t&&t.scale,n=t&&t.extent,a=r&&r.geometry;return Yw(a,t,i)||(s&&n?n:void 0)}function Oq(e,t){const{source:r,suggestResult:s,spatialReference:i,view:n,maxResults:a,sourceIndex:u}=e,d=r&&r.zoomScale,p=r&&r.defaultZoomScale;if(!s.text.trim())return Promise.resolve(null);const f=!s.key&&r.prefix?r.prefix:"",y=!s.key&&r.suffix?r.suffix:"",v=`${f}${s.text}${y}`,b=new oE,{apiKey:$,url:k}=r,E=n&&n.scale,P=fE(r,n),Q=t&&t.signal;if($&&(b.apiKey=$),!k)return Promise.resolve(null);r.categories&&(b.categories=r.categories),r.locationType&&(b.locationType=r.locationType),i&&(b.outSpatialReference=i);const Z=hE(n,r);Z&&(b.location=Z),b.maxLocations=a,P&&(b.searchExtent=P),r.countryCode&&(b.countryCode=r.countryCode);const{key:h}=s,g=`${h}`;return h&&(b.magicKey=g),b.address={},b.address[r.singleLineFieldName||wq]=v,r.outFields&&(b.outFields=r.outFields),aE(k,b,{signal:Q}).then(m=>yE(m,{key:g,scale:E,sourceIndex:u,view:n,zoomScale:d,defaultZoomScale:p}))}function kq(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function Tq(e,t){return e.map(r=>kq(r,t))}function jq(e,t){const{key:r,scale:s,sourceIndex:i,view:n,zoomScale:a,defaultZoomScale:u}=t,{attributes:d,extent:p,location:f,address:y}=e,v=new an({geometry:f,attributes:d}),b=p||f,$=Yw(b,n,s),k=typeof a=="number"?Sb($,n,a):typeof u=="number"&&b.type==="point"?Sb($,n,u):$,E=f?`${f.x},${f.y}`:"",P=y||E,Q=v.clone();return q(k)&&(Q.geometry=Ma.fromExtent(k)),{extent:k,feature:v,target:Q,key:r,name:P,sourceIndex:i}}function yE(e,t){return e.filter(Boolean).map(r=>jq(r,t))}var xb;const mE="esri.widgets.Search.LocatorSearchSource",l8=fe.getLogger(mE);let lr=xb=class extends Zw{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>Sq(z({source:this},t),r),this.getSuggestions=(t,r)=>$q(z({source:this},t),r)}set locator(e){Jc(l8,"locator",{replacement:"url",version:"4.22"}),this._set("url",e.url),this._set("locator",e)}get locator(){return Jc(l8,"locator",{replacement:"url",version:"4.22"}),this._get("locator")}clone(){return new xb({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?D(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?D(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};o([c()],lr.prototype,"apiKey",void 0),o([c()],lr.prototype,"categories",void 0),o([c()],lr.prototype,"countryCode",void 0),o([c({json:{write:!0}})],lr.prototype,"defaultZoomScale",void 0),o([c()],lr.prototype,"localSearchDisabled",void 0),o([c({type:bq,json:{read:!1,write:!1}})],lr.prototype,"locator",null),o([c()],lr.prototype,"locationType",void 0),o([c({json:{write:!0}})],lr.prototype,"name",void 0),o([c({json:{write:!0}})],lr.prototype,"placeholder",void 0),o([c()],lr.prototype,"searchTemplate",void 0),o([c({json:{write:!0}})],lr.prototype,"singleLineFieldName",void 0),o([c({json:{read:{source:"suggest"},write:{target:"suggest"}}})],lr.prototype,"suggestionsEnabled",void 0),o([c({json:{write:!0}})],lr.prototype,"url",void 0),o([c({json:{write:!0}})],lr.prototype,"zoomScale",void 0),lr=xb=o([I(mE)],lr);const gE=lr,Cq=new Te({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),Aq=new Te({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function Rq(e){const{geometries:t,deviationUnit:r,maxDeviation:s}=e.toJSON(),i={maxDeviation:s};return t&&t.length&&(i.geometries=JSON.stringify({geometryType:no(t[0]),geometries:t}),i.sr=JSON.stringify(t[0].spatialReference)),Aq.write(r,i,"deviationUnit"),i}let Nn=class extends X{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};o([c({type:String,json:{write:!0}})],Nn.prototype,"deviationUnit",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>Yr(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],Nn.prototype,"geometries",void 0),o([c({type:Number,json:{write:!0}})],Nn.prototype,"maxDeviation",void 0),Nn=o([I("esri.rest.support.GeneralizeParameters")],Nn),Nn.from=ct(Nn);const Pq=Nn,Fq=new Te({preserveShape:"preserve-shape"});function Lq(e){const{polylines:t,lengthUnit:r,geodesic:s,calculationType:i}=e.toJSON(),n={};n.polylines=JSON.stringify(t);const a=e.polylines[0].spatialReference;return n.sr=a.wkid?a.wkid:JSON.stringify(a.toJSON()),r&&(n.lengthUnit=r),s&&(n.geodesic=s),i&&(n.calculationType=Fq.toJSON(i)),n}let qi=class extends X{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};o([c({type:String,json:{write:!0}})],qi.prototype,"calculationType",void 0),o([c({type:Boolean,json:{write:!0}})],qi.prototype,"geodesic",void 0),o([c({json:{write:!0}})],qi.prototype,"lengthUnit",void 0),o([c({type:[Xl],json:{read:{reader:e=>e?e.map(t=>Yr(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],qi.prototype,"polylines",void 0),qi=o([I("esri.rest.support.LengthsParameters")],qi),qi.from=ct(qi);const Nq=qi,Dq=new Te({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),zq=new Te({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function Vq(e){const{geometries:t,bevelRatio:r,offsetDistance:s,offsetHow:i,offsetUnit:n}=e.toJSON(),a={bevelRatio:r,offsetDistance:s};return t&&t.length&&(a.geometries=JSON.stringify({geometryType:no(t[0]),geometries:t}),a.sr=JSON.stringify(t[0].spatialReference)),i&&(a.offsetHow=Dq.toJSON(i)),n&&(a.offsetUnit=zq.toJSON(n)),a}let hi=class extends X{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};o([c({type:Number,json:{write:!0}})],hi.prototype,"bevelRatio",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>Yr(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],hi.prototype,"geometries",void 0),o([c({type:Number,json:{write:!0}})],hi.prototype,"offsetDistance",void 0),o([c({type:String,json:{write:!0}})],hi.prototype,"offsetHow",void 0),o([c({type:String,json:{write:!0}})],hi.prototype,"offsetUnit",void 0),hi=o([I("esri.rest.support.OffsetParameters")],hi),hi.from=ct(hi);const Uq=hi;function qq(e){return{geometryType:no(e[0]),geometries:e.map(t=>t.toJSON())}}function vE(e,t,r){const s=Qx(t);return e.map(i=>{const n=s.fromJSON(i);return n.spatialReference=r,n})}let Wo=class extends X{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:no(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};o([c()],Wo.prototype,"geometries",void 0),o([c({json:{read:{source:"outSR"}}})],Wo.prototype,"outSpatialReference",void 0),o([c()],Wo.prototype,"transformation",void 0),o([c()],Wo.prototype,"transformForward",void 0),Wo=o([I("esri.rest.support.ProjectParameters")],Wo);const bE=Wo,Bq=ct(bE);async function wE(e,t,r){t=Bq(t);const s=hu(e),i=z(Oe(z({},s.query),{f:"json"}),t.toJSON()),n=t.outSpatialReference,a=no(t.geometries[0]),u=pu(i,r);return $t(s.path+"/project",u).then(({data:{geometries:d}})=>vE(d,a,n))}const Gq=new Te({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function Hq(e){const{geometries1:t,geometries2:r,relation:s,relationParameter:i}=e.toJSON(),n={};if(t&&t.length){n.geometries1=JSON.stringify({geometryType:no(t[0]),geometries:t});const a=t[0].spatialReference;n.sr=a.wkid?a.wkid:JSON.stringify(a)}return r&&r.length>0&&(n.geometries2=JSON.stringify({geometryType:no(r[0]),geometries:r})),s&&(n.relation=Gq.toJSON(s)),i&&(n.relationParam=i),n}let Bi=class extends X{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};o([c({json:{read:{reader:e=>e?e.map(t=>Yr(t)):null},write:{writer:(e,t)=>{t.geometries1=e.map(r=>r.toJSON())}}}})],Bi.prototype,"geometries1",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>Yr(t)):null},write:{writer:(e,t)=>{t.geometries2=e.map(r=>r.toJSON())}}}})],Bi.prototype,"geometries2",void 0),o([c({type:String,json:{write:!0}})],Bi.prototype,"relation",void 0),o([c({type:String,json:{write:!0}})],Bi.prototype,"relationParameter",void 0),Bi=o([I("esri.rest.support.RelationParameters")],Bi),Bi.from=ct(Bi);const Jq=Bi,Wq=new Te({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function Kq(e){const{extendHow:t,polylines:r,trimExtendTo:s}=e.toJSON(),i={};return i.extendHow=Wq.toJSON(t),r&&r.length&&(i.polylines=JSON.stringify(r),i.sr=JSON.stringify(r[0].spatialReference)),s&&(i.trimExtendTo=JSON.stringify(s)),i}let Dn=class extends X{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};o([c({type:String,json:{write:!0}})],Dn.prototype,"extendHow",void 0),o([c({type:[Xl],json:{read:{reader:e=>e?e.map(t=>Yr(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Dn.prototype,"polylines",void 0),o([c({json:{read:{reader:e=>e?Yr(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],Dn.prototype,"trimExtendTo",void 0),Dn=o([I("esri.rest.support.TrimExtendParameters")],Dn),Dn.from=ct(Dn);const Qq=Dn,_E=fe.getLogger("esri.widgets.support.geolocationUtils"),Zq={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function Yq(){const e=K("esri-geolocation");return e||_E.warn("geolocation-unsupported","Geolocation unsupported."),e}function Xq(){const e=window.isSecureContext;return e||_E.warn("insecure-context","Geolocation requires a secure origin."),e}function u8(){return Yq()&&Xq()}function eB(e){return e||(e=Zq),new Promise((r,s)=>{setTimeout(()=>s(new H("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,s,e)})}function tB(e,t){const{position:r,view:s}=e;return iB(sB(rB(r)),s,t)}function rB(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function sB(e){const t=e&&e.coords;return t?new ht({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function iB(e,t,r){if(!t)return Promise.resolve(e);const s=t.spatialReference;return s.isWGS84?Promise.resolve(e):s.isWebMercator?Promise.resolve(Ec(e)):nB(r).then(i=>{if(!i)throw new H("geometry-service:missing-url","Geometry service URL is missing");const n=new bE({geometries:[e],outSpatialReference:s});return wE(i,n,r).then(a=>a[0])})}function nB(e){if(Xe.geometryServiceUrl)return Promise.resolve(Xe.geometryServiceUrl);const t=Ir.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}const oB=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:s}=this;return this.goToOverride?this.goToOverride(s,r):s.goTo(r.target,r.options)}};return o([c()],t.prototype,"goToOverride",void 0),o([c()],t.prototype,"view",void 0),t=o([I("esri.widgets.support.GoTo")],t),t};function cr(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const aB=()=>Tw("esri/widgets/Search/t9n/Search"),SE="esri.widgets.Search.SearchViewModel",Ss=fe.getLogger(SE),c8="highlight",Th=gt.ofType({key:e=>e.layer?"layer":"locator",base:Zw,typeMap:{layer:dl,locator:gE}}),d8=ze.WGS84,lB="esri/images/search/search-symbol-32.svg",uB="esri/images/search/search-symbol-32.png",cB=/<(?:.|\s)*?>/g,fl=-1;let Ae=class extends oB(kd.EventedMixin(wt)){constructor(e){super(e),this._handles=new Pa,this._gotoController=null,this._searching=null,this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Th,this.defaultSymbols={point:new ou({url:cu(K("trident")?uB:lB),size:24,width:24,height:24}),polyline:new Xr({color:[130,130,130,1],width:2}),polygon:new ho({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=Ir.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Th,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const t=await aB();this.messages=t,this.defaultPopupTemplate=new Oa({title:t.searchResult,content:"{Match_addr}"})};e(),this._handles.add([_f(this,["includeDefaultSources","view","portal"],()=>this._update()),sM(e)])}destroy(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:fl}set activeSourceIndex(e){e!==void 0?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var e;return(e=this.messages)==null?void 0:e.allPlaceholder}set allPlaceholder(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder")}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:r}=this,s=typeof r=="function"?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,i=this._get("allSources")||new Th;return i.removeAll(),i.addMany(s.filter(Boolean)),i}get defaultSymbol(){return Jc(Ss,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(e){Jc(Ss,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",e)}get locationEnabled(){return this._get("locationEnabled")||u8()}set locationEnabled(e){if(e===void 0)return void this._clearOverride("locationEnabled");const t=u8();if(e&&!t){const r=new H("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Ss.error(r)}this._override("locationEnabled",e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===fl)return r;const s=e.getItemAt(t);return s?s.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),e===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(e),s=this.when().then(()=>this._getResultsFromSources(r,t).then(i=>{var n;if((n=t==null?void 0:t.signal)!=null&&n.aborted)return null;const a={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(a,i,r);const u=this._getFirstResult(a.results),d=(r.location&&u?u.name:r.text).replace(cB,"");return this._set("searchTerm",d),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",a.results),this._set("resultCount",a.results.reduce((p,f)=>p+f.results.length,0)),this.emit("search-complete",a),this._selectFirstResult(u).then(()=>a)})).then(i=>(this._clearSearching(),i),i=>{throw this._clearSearching(),i});return this._searching=s,s}searchNearby(e){if(!this.locationEnabled){const r=new H("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return Ss.error(r),Promise.reject(r)}const t=eB().then(r=>tB({position:r,view:this.view},e)).then(r=>this.search(r,e));return this._searching=t,t.catch(()=>{}).then(()=>this._clearSearching()),t}select(e){if(this.clearGraphics(),!e){const P=new H("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return Ss.error(P),Promise.reject(P)}const{view:t}=this,r=cr(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),s=this.allSources.getItemAt(r);if(!s){const P=new H("select:missing-source","Cannot select without a source.",{source:s});return Ss.error(P),Promise.reject(P)}const i=s instanceof dl?this._getLayerSourcePopupTemplate(s):s.popupTemplate,n=s.resultSymbol||this._getDefaultSymbol(e),a=cr(s,"resultGraphicEnabled")?s.resultGraphicEnabled:this.resultGraphicEnabled,u=cr(s,"autoNavigate")?s.autoNavigate:this.autoNavigate,d=cr(s,"popupEnabled")?s.popupEnabled:this.popupEnabled,p=d?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:f}=e;if(!f){const P=new H("select:missing-feature","Cannot select without a feature.",{feature:f});return Ss.error(P),Promise.reject(P)}const{attributes:y,geometry:v,layer:b,sourceLayer:$}=f,k=o8(v),E={layerViewQuery:this._getLayerView(f),elevationQuery:t&&q(k)?WU(k,t).catch(()=>k):Promise.resolve(k)};return bi(E).then(P=>{const Q=P.layerViewQuery.value,Z=P.elevationQuery.value;n instanceof fo&&(n.text=e.name);const h=t&&u?e.target||e.extent:null;return(q(h)?this._goToSearchResult(h):Promise.resolve()).then(()=>{var g;const m=Q?f:new an({geometry:v,symbol:n,attributes:y,layer:b,sourceLayer:$,popupTemplate:p}),_=d&&((g=this.view)==null?void 0:g.popup),x=_&&m.getEffectivePopupTemplate(_.defaultPopupTemplateEnabled);return x&&t.popup.open({features:[m],location:Z}),Q&&BU(Q)&&!x&&this._highlightFeature({graphic:m,layerView:Q}),!Q&&a&&t&&t.graphics.push(m),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",m),this.emit("select-result",{result:e,source:s,sourceIndex:r}),e})})}suggest(e,t,r){const s=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:s}),this._suggestTimer(t,r).then(()=>this._suggestImmediate(s,r).then(i=>(this._set("suggestions",i.results),this._set("suggestionCount",i.results.reduce((n,a)=>n+a.results.length,0)),this.emit("suggest-complete",i),i)))}async when(){await Tv(()=>!this.updating)}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const r=this._updatingPromise=bi([e==null?void 0:e.load(),t==null?void 0:t.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await Tv(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var e,t;const r=(e=this.portal)==null||(t=e.helperServices)==null?void 0:t.geocode;return r?r.map(s=>{if(s.placefinding===!1)return;const i=Xe.apiKey&&a8(s.url)?{url:Iq}:null,n=gE.fromJSON(z(z({},s),i)),a=n.url;if(a8(a)||Mq(a)||xq(a)){const u=n.outFields||["Addr_type","Match_addr","StAddr","City"],d=n.placeholder||this.messages.placeholder,p=typeof n.defaultZoomScale=="number"?n.defaultZoomScale:2500;n.set({singleLineFieldName:"SingleLine",outFields:u,placeholder:d,defaultZoomScale:p})}return n.singleLineFieldName?n:void 0}).filter(Boolean):[]}_getLayerSources(e,t){var r;const s=(r=this.view)==null?void 0:r.map;return e.map(i=>{const n=s.findLayerById(i.id);if(!n)return;const a=this._getLayerJSON(i),u=dl.fromJSON(a);return u.placeholder=t,this._getLayer(n,a).then(d=>{u.layer=d}),u}).filter(Boolean).toArray()}_getTableSources(e,t){var r;const s=(r=this.view)==null?void 0:r.map;return e.map(i=>{const n=s.findTableById(i.id);if(!n)return;const a=this._getLayerJSON(i),u=dl.fromJSON(a);return u.placeholder=t,this._getLayer(n,a).then(d=>{u.layer=d}),u}).filter(Boolean).toArray()}_convertApplicationProperties(){var e,t,r;const s=(e=this.view)==null?void 0:e.map,i=s==null||(t=s.applicationProperties)==null||(r=t.viewing)==null?void 0:r.search;if(!i)return[];const{enabled:n,hintText:a,layers:u,tables:d}=i;return n?[...this._getLayerSources(u,a),...this._getTableSources(d,a)]:[]}_getSubLayer(e,t){return e.load().then(()=>{if(!e.allSublayers)return Promise.reject();const r=e.allSublayers.find(s=>s.id===t.subLayer);return r?r.createFeatureLayer():Promise.reject()})}async _getBuildingSubLayer(e,t){await e.load();const r=e.allSublayers.find(s=>s.id===t.subLayer);return(r==null?void 0:r.type)!=="building-component"?Promise.reject():(await r.load(),r.associatedLayer==null?Promise.reject():(await r.associatedLayer.load(),r))}_getLayer(e,t){return e.type==="feature"||e.type==="scene"||e.type==="csv"||e.type==="geojson"||e.type==="ogc-feature"?Promise.resolve(e):e.type==="map-image"?this._getSubLayer(e,t).catch(()=>{const r=new H("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return Ss.error(r),null}):e.type==="building-scene"?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return typeof e.toJSON=="function"?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var e;const t=(e=this.view)==null?void 0:e.popup,{resultGraphic:r}=this;if(!t||!r)return;const{selectedFeature:s}=t;s&&s===r&&t.close()}_suggestTimer(e,t){const r=e!=null?e:this.suggestionDelay;return t1(r,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof an?o8(e.geometry):e instanceof ht?e:Array.isArray(e)&&e.length===2?new ht({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&cr(e,"key")&&cr(e,"text")&&cr(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),r=typeof e=="string"?e:this.searchTerm,{selectedSuggestion:s,selectedResult:i}=this,n=!e&&s&&i,a=n&&s.key===i.key&&s.sourceIndex===i.sourceIndex,u=n&&s.location;return a||u?s:{location:t,text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){let t=null;return e&&e.some(r=>{const{results:s}=r,i=s[0],n=!!i;return n&&(t=i),n}),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then(()=>this._getSuggestionsFromSources(e,t)).then(r=>{var s;if((s=t==null?void 0:t.signal)!=null&&s.aborted)return null;const i={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(i,r),i})}_formatSourceResponse(e,t,r){const s=t&&t.value||[],i=t&&t.error,n=this.allSources.getItemAt(r);if(i){const a={sourceIndex:r,source:n,error:i};e.errors.push(a),Ss.error(i),e.numErrors++}else{const a={sourceIndex:r,source:n,results:s};e.results.push(a),e.numResults+=s.length}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===fl){const s=r&&cr(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;t.forEach((i,n)=>{const a=s!==void 0?s:n;this._formatSourceResponse(e,i,a)})}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}_getResultsFromSources(e,t){const{allSources:r}=this,s=!e.location&&cr(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[];if(!r.length){const n=new H("search:no-sources-defined","At least one source is required.",{allSources:r});return Ss.error(n),Promise.reject(n)}return s===fl?r.forEach((n,a)=>{i.push(this._getResultsFromSource(e,a,t))}):i.push(this._getResultsFromSource(e,s,t)),bi(i)}_getSuggestionsFromSources(e,t){const{allSources:r,activeSourceIndex:s}=this,i=[];if(!r.length){const n=new H("suggest:no-sources-defined","At least one source is required.",{allSources:r});return Ss.error(n),Promise.reject(n)}return s===fl?r.forEach((n,a)=>{i.push(this._getSuggestionsFromSource(e,a,t))}):i.push(this._getSuggestionsFromSource(e,s,t)),bi(i)}_getResultsFromSource(e,t,r){var s;const i=this.allSources.getItemAt(t),{location:n=null}=e,a=((s=this.view)==null?void 0:s.spatialReference)||d8,u=cr(i,"maxResults")?i.maxResults:this.maxResults,d=!!(i instanceof dl&&cr(i,"exactMatch"))&&i.exactMatch,{view:p}=this;return i.getResults({view:p,sourceIndex:t,location:n,suggestResult:e,spatialReference:a,exactMatch:d,maxResults:u},r)}_getSuggestionsFromSource(e,t,r){const s=this.allSources.getItemAt(t),i=cr(s,"suggestionsEnabled")?s.suggestionsEnabled:this.suggestionsEnabled,n=e.length,a=cr(s,"minSuggestCharacters")?s.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&n>=a){var u;const d=((u=this.view)==null?void 0:u.spatialReference)||d8,p=cr(s,"maxSuggestions")?s.maxSuggestions:this.maxSuggestions,{view:f}=this,y=!!(s instanceof dl&&cr(s,"exactMatch"))&&s.exactMatch;return s.getSuggestions({view:f,sourceIndex:t,suggestTerm:e,spatialReference:d,maxSuggestions:p,exactMatch:y},r)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return cr(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){const t=this.results;let r=null;return t.some(s=>s.results.some(i=>i===e&&(r=s.sourceIndex,!0))),r}async _goToSearchResult(e){const t=!!e;this._abortGoTo();const r=new AbortController;this._gotoController=r;const s={target:{target:e},options:{animate:t,signal:r.signal}};await this.callGoTo(s),this._gotoController=null}_getDefaultSymbol(e){var t;const{defaultSymbols:r}=this,s=(t=e.feature)==null?void 0:t.geometry;if(!q(s))return null;const i=this._get("defaultSymbol");if(i&&(s.type==="point"||s.type==="multipoint"))return i;switch(s.type){case"point":case"multipoint":return r.point;case"polyline":return r.polyline;case"extent":case"polygon":return r.polygon;default:return null}}_removeHighlight(){this._handles.remove(c8)}async _getLayerView(e){const{view:t}=this;if(!e||!t||e.layer.type==="building-component"||e.layer.type==="subtype-sublayer")return Promise.resolve(null);const{layer:r}=e;return await t.when(),t.whenLayerView(r)}_highlightFeature(e){const{graphic:t,layerView:r}=e,{attributes:s,layer:i}=t,{objectIdField:n}=i,a=s&&s[n],u=r.highlight(a||t);this._handles.add(u,c8)}_setResultFloor(e){var t,r,s;const{view:i}=this,n=(t=e.feature)==null?void 0:t.attributes,a=(r=e.feature)==null?void 0:r.sourceLayer;if(a&&"floorInfo"in a&&a!=null&&(s=a.floorInfo)!=null&&s.floorField&&n){const u=n[a.floorInfo.floorField];i.emit("select-result-floor",u)}}};Ae.ALL_INDEX=fl,o([c()],Ae.prototype,"_searching",void 0),o([c()],Ae.prototype,"_updatingPromise",void 0),o([c({readOnly:!0,value:null})],Ae.prototype,"activeSource",null),o([c()],Ae.prototype,"activeSourceIndex",null),o([c()],Ae.prototype,"allPlaceholder",null),o([c({readOnly:!0})],Ae.prototype,"allSources",null),o([c()],Ae.prototype,"autoNavigate",void 0),o([c()],Ae.prototype,"autoSelect",void 0),o([c()],Ae.prototype,"defaultPopupTemplate",void 0),o([c({readOnly:!0})],Ae.prototype,"defaultSources",void 0),o([c()],Ae.prototype,"defaultSymbol",null),o([c()],Ae.prototype,"defaultSymbols",void 0),o([c()],Ae.prototype,"includeDefaultSources",void 0),o([c()],Ae.prototype,"locationEnabled",null),o([c()],Ae.prototype,"maxInputLength",void 0),o([c()],Ae.prototype,"maxResults",void 0),o([c()],Ae.prototype,"maxSuggestions",void 0),o([c()],Ae.prototype,"messages",void 0),o([c()],Ae.prototype,"minSuggestCharacters",void 0),o([c({readOnly:!0})],Ae.prototype,"placeholder",null),o([c()],Ae.prototype,"popupEnabled",void 0),o([c({type:Oa})],Ae.prototype,"popupTemplate",void 0),o([c({type:Ir})],Ae.prototype,"portal",void 0),o([c()],Ae.prototype,"resultCount",void 0),o([c()],Ae.prototype,"resultGraphicEnabled",void 0),o([c({readOnly:!0})],Ae.prototype,"resultGraphic",void 0),o([c({readOnly:!0})],Ae.prototype,"results",void 0),o([c({readOnly:!0})],Ae.prototype,"selectedSuggestion",void 0),o([c()],Ae.prototype,"searchAllEnabled",void 0),o([c({readOnly:!0})],Ae.prototype,"selectedResult",void 0),o([c()],Ae.prototype,"searchTerm",null),o([c({type:Th})],Ae.prototype,"sources",void 0),o([c({readOnly:!0})],Ae.prototype,"state",null),o([c()],Ae.prototype,"suggestionDelay",void 0),o([c()],Ae.prototype,"suggestionCount",void 0),o([c({readOnly:!0})],Ae.prototype,"suggestions",void 0),o([c()],Ae.prototype,"suggestionsEnabled",void 0),o([c({readOnly:!0})],Ae.prototype,"updating",null),o([c()],Ae.prototype,"view",void 0),o([c()],Ae.prototype,"clear",null),Ae=o([I(SE)],Ae);const wl=Ae;function p8(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:pB(e[t])}}}function dB(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function pB(e){return function(t,...r){dB(t)?LI(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function If(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var hB=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},$E=function(e,t){for(var r=0,s=e.length;r<s;r++){var i=e[r];Array.isArray(i)?$E(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=hB(i)),t.push(i))}},fB=function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return $E(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function Me(e,t,...r){return typeof e!="function"||Kw(e)?fB(e,t,...r):e(t,...r)}const ki={base:"esri-search-result-renderer esri-widget",anchor:"esri-widget__anchor",showMoreResults:"esri-search-result-renderer__more-results--show-more-results",moreResults:"esri-search-result-renderer__more-results",moreResultsList:"esri-search-result-renderer__more-results-list",moreResultsHeader:"esri-search-result-renderer__more-results-header",moreResultsItem:"esri-search-result-renderer__more-results-item",moreResultsListHeader:"esri-search-result-renderer__more-results-list-header"};let zn=class extends Qw{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const e={[ki.showMoreResults]:this.showMoreResultsOpen};return Me("div",{class:ki.base},Me("div",{key:"esri-search-renderer__container",class:this.classes(ki.moreResults,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return Me("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var e;const t=(e=this.viewModel)==null?void 0:e.selectedResult,r=t&&t.name||"";return Me("div",{key:"esri-search-renderer__result-name",class:ki.moreResultsItem},r)}renderMoreResultsLists(){var e;const t=(e=this.viewModel)==null?void 0:e.results,{resultCount:r}=this.viewModel;if(r<2)return null;const s=t.map(i=>this.renderMoreResultsList(i));return Me("div",{key:"esri-search-renderer__more-results-container",class:ki.moreResultsList},s)}renderMoreResultsButton(){const{messages:e}=this,{resultCount:t}=this.viewModel;return t<2?null:Me("div",{key:"esri-search-renderer__more-results-button",class:ki.moreResultsItem},Me("a",{class:ki.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,t){return Me("div",{key:`esri-search-result-renderer__header-${t}`,class:ki.moreResultsListHeader},e)}renderMoreResultsList(e){var t,r;const{results:s}=e,i=s.length,n=!!i,a=(t=this.viewModel)==null?void 0:t.selectedResult,u=i===1&&s[0]===a,d=this._getSourceName(e.source,e.sourceIndex),p=((r=this.viewModel)==null?void 0:r.results.length)>1&&!u?this.renderMoreResultsHeader(d,e.sourceIndex):null,f=n&&s.map((v,b)=>this.renderMoreResultsListItem(v,b)),y=n&&!u?Me("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},f):null;return n?Me("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},p,y):null}renderMoreResultsListItem(e,t){return e!==this.get("viewModel.selectedResult")?Me("li",{key:`esri-search-result-renderer__list-item-${t}`},Me("a",{class:ki.anchor,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const t=this.get("viewModel.view.popup");t&&t.reposition()}_selectResultClick(e){e.preventDefault();const t=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(t)}_getSourceName(e,t){return t===wl.ALL_INDEX?this.messages.all:e.name}};o([c(),If("esri/widgets/Search/t9n/Search")],zn.prototype,"messages",void 0),o([c()],zn.prototype,"showMoreResultsOpen",void 0),o([c()],zn.prototype,"viewModel",void 0),o([p8()],zn.prototype,"_showMoreResultsClick",null),o([p8()],zn.prototype,"_selectResultClick",null),zn=o([I("esri.widgets.Search.SearchResultRenderer")],zn);const yB=zn;function mB(e){return e.split(",").map(t=>t.trim())}function gB(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,s=Array.isArray(e)?e:mB(e);r.push(...s)}}const _e={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},vB=/<[a-z/][\s\S]*>/i;let Fe=class extends Qw{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new Pa,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new yB,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=_e.widgetIcon,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new wl,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=r=>{var s;const i=r.relatedTarget;i&&(s=this._container)!=null&&s.contains(i)||this._clearActiveMenu()},this.own(vb(this,"searchTerm",r=>{(r&&this.activeMenu==="warning"||!r&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),lV(this,"viewModel.allSources","change",()=>this._watchSourceChanges()),_f(this,"activeMenu",()=>this._resetActiveMenuItemIndex()),_f(this,"viewModel.defaultPopupTemplate",r=>{r&&(r.content=this._renderSearchResultsContent.bind(this))}))}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var e;(e=this._inputNode)==null||e.focus(),this.emit("search-focus")}blur(){var e;(e=this._inputNode)==null||e.blur(),this.emit("search-blur")}search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;return this._searchController=t,this.viewModel.search(e,{signal:r}).catch(s=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,s}).then(s=>{if(this._searchController===t)return this.activeMenu=s.numResults?"none":"warning",this._searchController=null,s})}suggest(e){this._cancelSuggest();const t=new AbortController,{signal:r}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:r}).then(s=>{if(this._suggestController===t)return this._suggestController=null,s.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),s}).catch(()=>{if(this._suggestController===t)return this._suggestController=null,null})}render(){const{state:e}=this.viewModel,t={[_e.disabled]:e==="disabled",[_e.esriWidgetDisabled]:this.disabled};return Me("div",{class:this.classes(_e.base,t)},e==="loading"?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:e}=this;return Me("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes(_e.submitButton,_e.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},Me("span",{"aria-hidden":"true",class:_e.searchIcon}))}renderWarningMenu(){return Me("div",{key:"esri-search__error-menu",class:this.classes(_e.menu,_e.warningMenu)},Me("div",{class:_e.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:r,sourceMenuButtonId:s}=this,{activeSourceIndex:i,allSources:n}=this.viewModel;return n.length>1?Me("button",{id:s,key:"esri-search__source-menu-button",bind:this,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":(t==="source").toString(),"aria-controls":r,class:this.classes(_e.sourcesButton,_e.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:gc,"data-node-ref":"_sourceMenuButtonNode",type:"button"},Me("span",{"aria-hidden":"true",class:_e.dropdownIcon}),Me("span",{"aria-hidden":"true",class:_e.dropupIcon}),Me("span",{class:_e.sourceName},this._getSourceName(i))):null}renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:s,sourceMenuId:i,sourceMenuButtonId:n}=this,a=s==="source"&&r>-1?this._buildId("source-item",r):null;return e.length>1?Me("ul",{"aria-activedescendant":a,"aria-labelledby":n,id:i,role:"menu",bind:this,afterCreate:gc,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:_e.menuList,tabIndex:-1},t?this.renderSource(wl.ALL_INDEX):null,e.map((u,d)=>this.renderSource(d)).toArray()):null}renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?Me("div",{key:"esri-search__source-menu",class:this.classes(_e.menu,_e.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:e,messagesCommon:t}=this;return Me("div",{class:_e.loader,key:"base-loader"},Me("span",{"aria-hidden":"true",class:_e.loaderAnimation}),Me("span",{class:_e.fallbackText},e.searchButtonTitle),Me("span",{class:_e.loaderText},t.loading))}renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:r}=this,s={[_e.hasMultipleSources]:e.length>1,[_e.isLoading]:t==="loading",[_e.isSearching]:t==="searching",[_e.showWarning]:r==="warning",[_e.showSources]:r==="source",[_e.showSuggestions]:r==="suggestion"};return Me("div",{tabIndex:-1,afterCreate:i=>{this._container=i,i.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:i=>{i.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(s,_e.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?Me("button",{bind:this,class:this.classes(_e.clearButton,_e.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},Me("span",{"aria-hidden":"true",class:_e.clearIcon})):null}renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:r}=this,s=t&&!r,i=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return s?Me("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(_e.menuList,_e.suggestionList,_e.suggestionListCurrentLocation)},Me("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),role:"option",class:this.classes(_e.menuItem,i?_e.menuItemFocus:null)},Me("span",{"aria-hidden":"true",class:_e.locate})," ",e.useCurrentLocation)):null}renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:r,messages:s,suggestionsMenuId:i,inputId:n,_activeMenuItemIndex:a}=this,{maxInputLength:u,placeholder:d,searchTerm:p,suggestionCount:f}=this.viewModel,y=!(!(t&&!r)&&!f),v=e==="suggestion"&&a>-1?this._buildId("suggestion-item",a):null;return Me("input",{"aria-activedescendant":v,"aria-autocomplete":"list","aria-expanded":(y&&e==="suggestion").toString(),"aria-controls":y?i:null,"aria-haspopup":"listbox","aria-label":s.searchButtonTitle,bind:this,placeholder:d,maxlength:u,autocomplete:"off",type:"text",class:this.classes(_e.esriInput,_e.input),value:p,id:n,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:gc,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:p?"":d})}renderForm(){return Me("form",{key:"esri-search__form",bind:this,class:_e.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){const{sourceIndex:t}=e,r=e.results.length,s=e.results;return r?Me("ul",{role:"group",key:`esri-search__suggestion-list-${t}`,class:this.classes(_e.menuList,_e.suggestionList)},s.map(i=>this.renderSuggestion(i,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map(t=>[this.renderSuggestionHeader(t),this.renderSuggestList(t)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:r,inputId:s}=this,{suggestionCount:i}=this.viewModel,n=t&&!e||i;return this._menuItemCount=0,n?Me("div",{id:r,key:"esri-search__suggestions-menu",class:this.classes(_e.menu,_e.suggestionsMenu),role:"listbox","aria-labelledby":s,bind:this,afterCreate:gc,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return Me("div",{key:"esri-search__input-container",class:_e.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:r}=this.viewModel,{sourceIndex:s}=e,i=e.results.length,n=t.length>1&&r===wl.ALL_INDEX;return i&&n?Me("div",{key:`esri-search__suggestion-header-${s}`,class:_e.menuHeader},this._getSourceName(s)):null}renderSuggestion(e,t){const{_activeMenuItemIndex:r,messages:s}=this,{searchTerm:i}=this.viewModel;if(i){const{text:n}=e,a=n||s.untitledResult,u=vB.test(a),d=[];if(u)d.push(Me("div",{innerHTML:a}));else{const f=this._splitResult(a,i),y=i.toLowerCase();f.forEach((v,b)=>{v&&v.length&&(v.toLowerCase()===y?d.push(Me("strong",{key:b},v)):d.push(v))})}const p=this.activeMenu==="suggestion"&&r===t;return Me("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${t}`,"data-suggestion":e,role:"option",class:this.classes(_e.menuItem,p?_e.menuItemFocus:null)},d)}}renderSource(e){const{activeSourceIndex:t,searchAllEnabled:r}=this.viewModel,s={[_e.menuItemActive]:e===t,[_e.menuItemFocus]:this.activeMenu==="source"&&e===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},i=r?e+1:e;return Me("li",{bind:this,key:`esri-search__source-${e}`,id:this._buildId("source-item",i),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(_e.source,_e.menuItem,s)},this._getSourceName(e))}renderNoResultsWarning(e){const{messages:t}=this,r=e?Ow(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return Me("div",{key:"esri-search__no_results"},Me("div",{class:_e.warningMenuHeader},t.noResults),Me("div",{class:_e.warningMenuText},r))}renderEmptySearchWarning(){const{messages:e}=this;return Me("div",{key:"esri-search__empty-search"},Me("span",{"aria-hidden":"true",class:_e.noticeIcon}),Me("span",{class:_e.noValueText},e.emptyValue))}renderLocateWarning(){const{messages:e}=this;return Me("div",{key:"esri-search__locate-error"},Me("span",{"aria-hidden":"true",class:_e.noticeIcon}),Me("span",{class:_e.noValueText},e.locateError))}renderWarning(){var e;const{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:s}=this;return r?this.renderLocateWarning():(e=s.selectedSuggestion)!=null&&e.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${t===void 0?"":`-${t}`}`}_watchSourceChanges(){const{_handles:e,viewModel:{allSources:t}}=this,r="sources";e.remove(r),t.forEach(s=>e.add(vb(s,"name",()=>this.scheduleRender()),r))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){const e=this.activeMenu==="source";var t;this.activeMenu=e?"none":"source",this.renderNow(),this.activeMenu==="source"&&((t=this._sourceListNode)==null||t.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).then(r=>{this.activeMenu=r.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var t;if(!e)return;const r=e["data-source-index"];this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),(t=this._sourceMenuButtonNode)==null||t.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(e){var t;const r=Gy(e);if(e.ctrlKey||e.metaKey||r==="Copy"||r==="ArrowLeft"||r==="ArrowRight"||r==="Shift")return;if(r==="Tab"||r==="Escape"||e.shiftKey&&r==="Tab")return this._cancelSuggest(),void(r==="Escape"&&this._clearActiveMenu());const s=r==="Home"||r==="End"||r==="ArrowUp"||r==="ArrowDown";if(r==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const i=(t=this._suggestionListNode)==null?void 0:t.getElementsByTagName("li");if(i!=null&&i.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),s)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(r,i,this._suggestionListNode);const n=i[this._activeMenuItemIndex];if(r==="Enter"&&n){const a=n["data-suggestion"];return void(a?(this._focus(),this.search(a)):n["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,r){const s=this._activeMenuItemIndex;e==="Home"&&(this._activeMenuItemIndex=0),e==="End"&&(this._activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),e==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),s!==this._activeMenuItemIndex&&wU(t[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){const t=Gy(e);if(LI(t)){e.preventDefault();const r=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}else t!=="ArrowUp"&&t!=="ArrowDown"&&t!=="End"&&t!=="Home"||e.preventDefault()}_handleSourceMenuKeyup(e){var t;const r=Gy(e),s=r==="ArrowUp"||r==="ArrowDown"||r==="End"||r==="Home";var i;if(s&&e.preventDefault(),r==="Escape")return this._clearActiveMenu(),void((i=this._sourceMenuButtonNode)==null||i.focus());const n=(t=this._sourceListNode)==null?void 0:t.getElementsByTagName("li");return n&&n.length!==0&&s?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(r,n,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(e){const{messages:t}=this,r=this.viewModel,{allSources:s}=r,i=s.getItemAt(e);return e===wl.ALL_INDEX?t.all:i&&i.name||t.untitledSource}_splitResult(e,t){const r=R$(t);return e.replace(new RegExp(`(^|)(${r})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};o([c()],Fe.prototype,"_activeMenuItemIndex",void 0),o([c()],Fe.prototype,"displayedSearchTerm",null),o([c({readOnly:!0})],Fe.prototype,"inputId",null),o([c({readOnly:!0})],Fe.prototype,"suggestionsMenuId",null),o([c({readOnly:!0})],Fe.prototype,"sourceMenuId",null),o([c({readOnly:!0})],Fe.prototype,"sourceMenuButtonId",null),o([c()],Fe.prototype,"activeMenu",void 0),o([it("viewModel.activeSource")],Fe.prototype,"activeSource",void 0),o([it("viewModel.activeSourceIndex")],Fe.prototype,"activeSourceIndex",void 0),o([it("viewModel.allPlaceholder")],Fe.prototype,"allPlaceholder",void 0),o([it("viewModel.allSources")],Fe.prototype,"allSources",void 0),o([it("viewModel.autoNavigate")],Fe.prototype,"autoNavigate",void 0),o([it("viewModel.autoSelect")],Fe.prototype,"autoSelect",void 0),o([it("viewModel.defaultSources")],Fe.prototype,"defaultSources",void 0),o([c()],Fe.prototype,"disabled",void 0),o([it("viewModel.goToOverride")],Fe.prototype,"goToOverride",void 0),o([c()],Fe.prototype,"iconClass",void 0),o([it("viewModel.includeDefaultSources")],Fe.prototype,"includeDefaultSources",void 0),o([c({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Fe.prototype,"label",void 0),o([it("viewModel.locationEnabled")],Fe.prototype,"locationEnabled",void 0),o([it("viewModel.maxResults")],Fe.prototype,"maxResults",void 0),o([it("viewModel.maxSuggestions")],Fe.prototype,"maxSuggestions",void 0),o([c(),If("esri/widgets/Search/t9n/Search")],Fe.prototype,"messages",void 0),o([c(),If("esri/t9n/common")],Fe.prototype,"messagesCommon",void 0),o([it("viewModel.minSuggestCharacters")],Fe.prototype,"minSuggestCharacters",void 0),o([it("viewModel.popupEnabled")],Fe.prototype,"popupEnabled",void 0),o([it("viewModel.popupTemplate")],Fe.prototype,"popupTemplate",void 0),o([it("viewModel.portal")],Fe.prototype,"portal",void 0),o([it("viewModel.resultGraphic")],Fe.prototype,"resultGraphic",void 0),o([it("viewModel.resultGraphicEnabled")],Fe.prototype,"resultGraphicEnabled",void 0),o([it("viewModel.results")],Fe.prototype,"results",void 0),o([it("viewModel.searchAllEnabled")],Fe.prototype,"searchAllEnabled",void 0),o([it("viewModel.searchTerm")],Fe.prototype,"searchTerm",void 0),o([it("viewModel.selectedResult")],Fe.prototype,"selectedResult",void 0),o([it("viewModel.sources")],Fe.prototype,"sources",void 0),o([it("viewModel.suggestions")],Fe.prototype,"suggestions",void 0),o([it("viewModel.suggestionsEnabled")],Fe.prototype,"suggestionsEnabled",void 0),o([it("viewModel.view")],Fe.prototype,"view",void 0),o([gB(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),c({type:wl})],Fe.prototype,"viewModel",void 0),o([it("viewModel.clear")],Fe.prototype,"clear",null),Fe=o([I("esri.widgets.Search")],Fe);const bB=Fe,en=V8(""),hs=Js({activeSourceIndex:0}),t_=un(()=>{var e;return new bB(Oe(z({},hs),{sources:(e=hs.sources)==null?void 0:e.map(t=>t.layer?Oe(z({},t),{layer:new Iy(t.layer)}):t)}))}),Mb=un(()=>{var e,t;return(t=hs.sources)==null?void 0:t[(e=hs.activeSourceIndex)!=null?e:0]}),ds=Js({loading:!1,data:[]});async function xE(){if(ds.status=void 0,!en.value)throw"Invalid input";ds.loading=!0,ds.status="Searching...";try{const{results:e}=await t_.value.search(en.value),{results:t}=e[0];return ds.status=t.length?void 0:"Your search returned no results.",ds.data=t.map(({name:r,extent:s})=>({name:r,extent:s.toJSON()})),t}catch(e){return console.warn(e),ds.status="An error occurred when searching.",[]}finally{ds.loading=!1}}function wB(e,t=500){let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>{e(...s)},t)}}Sc(()=>hs.activeSourceIndex,()=>{en.value="",Qn.data=[]});const Qn=Js({loading:!1,data:[]}),_B=un(()=>[...new Map(Qn.data.map(e=>[e.key,e])).values()]);async function ME(){if(!!en.value){Qn.loading=!0,Qn.error=void 0;try{const{results:e}=await t_.value.suggest(en.value),{results:t}=e[0];Qn.data=t}catch{}finally{Qn.loading=!1}}}const Ib=wB(ME),jy=Js({}),bc=Js({loading:!1,data:[]});async function r_(e,t){bc.loading=!0,bc.data=[];try{const r=new Iy(jy),{features:s}=await r.queryFeatures(Oe(z({outFields:["*"]},t),{geometry:e.hasOwnProperty("type")?e:jt.fromJSON(e)}));return bc.data=s.map(i=>i.toJSON()),s}finally{bc.loading=!1}}const SB={name:"Address",placeholder:"Search by Address",url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/Composite_Address_Locator_Overall/GeocodeServer",singleLineFieldName:"SingleLine",minSuggestCharacters:2},$B={name:"Folio Number",placeholder:"Search by Folio Number",layer:{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/HC_Parcels/MapServer/0",outFields:["FOLIO","SITE_ADDR"],displayField:"FOLIO"},searchFields:["FOLIO","FOLIO_NUMB"],minSuggestCharacters:2},xB=["onSubmit"],MB={key:0},IB=Ve("legend",null,"Search Source:",-1),EB={class:"form-check form-check-inline"},OB=["value","id"],kB=["for"],TB=Ve("legend",null,"Search:",-1),jB=["placeholder","aria-label"],CB={class:"btn btn-outline-secondary",type:"submit",id:"search-button"},AB={key:0,class:"spinner-border spinner-border-sm",role:"status"},RB=Ve("span",{class:"visually-hidden"},"Loading...",-1),PB=[RB],FB={key:1},LB={id:"suggestions"},NB={class:"form-text"},IE=Cf({props:{small:{type:Boolean},large:{type:Boolean},hcSources:{type:Boolean},hideSources:{type:Boolean}},emits:["results"],setup(e,{emit:t}){const r=e;Sc(()=>r.hcSources,()=>{hs.includeDefaultSources=!r.hcSources,hs.sources=r.hcSources?[SB,$B]:void 0},{immediate:!0});const s=async i=>{const n=await xE();t("results",n)};return(i,n)=>{var a,u,d;return ut(),pt("form",{onSubmit:pT(s,["prevent"])},[(a=je(hs).sources)!=null&&a.length?zy((ut(),pt("fieldset",MB,[IB,(ut(!0),pt(Rr,null,Nh(je(hs).sources,(p,f)=>(ut(),pt("div",EB,[zy(Ve("input",{type:"radio",name:"search-source",value:f,id:`source-${f}`,"onUpdate:modelValue":n[0]||(n[0]=y=>je(hs).activeSourceIndex=y),class:"form-check-input"},null,8,OB),[[lT,je(hs).activeSourceIndex]]),Ve("label",{for:`source-${f}`,class:"form-check-label"},zs(p.name),9,kB)]))),256))],512)),[[hT,!e.hideSources]]):Ns("",!0),Ve("fieldset",null,[TB,Ve("div",{class:vd(["input-group",{"input-group-sm":e.small,"input-group-lg":e.large}])},[zy(Ve("input",{type:"text",class:"form-control",placeholder:((u=je(Mb))==null?void 0:u.placeholder)||"Find Address","aria-label":((d=je(Mb))==null?void 0:d.placeholder)||"Find Address","aria-describedby":"search-button","onUpdate:modelValue":n[1]||(n[1]=p=>er(en)?en.value=p:null),onInput:n[2]||(n[2]=(...p)=>je(Ib)&&je(Ib)(...p)),list:"suggestions",required:"",id:"esriSearchInput"},null,40,jB),[[aT,je(en)]]),Ve("button",CB,[je(ds).loading?(ut(),pt("div",AB,PB)):(ut(),pt("span",FB,"Search"))]),Ve("datalist",LB,[(ut(!0),pt(Rr,null,Nh(je(Qn).data,({text:p})=>(ut(),pt("option",null,zs(p),1))),256))])],2),Ve("div",NB,zs(je(ds).status),1)])],40,xB)}}});var RG=Object.freeze(Object.defineProperty({__proto__:null,$:cd,A:yy,B:Av,C:$t,D:mc,E:o,F:c,G:$a,H:I,I:pE,J:K,get K(){return cs},L:J$,M:jt,N:Te,O:Nd,P:X6,Q:xi,R:Mc,S:L7,T:Lr,U:r1,V:eI,W:tI,X:rI,Y:zt,get Z(){return X},_:Yl,a:Xl,a$:ce,a0:w1,a1:_1,a2:b1,a3:rn,a4:OT,a5:If,a6:Qw,a7:Me,a8:Ow,a9:gc,aA:ht,aB:fy,aC:H$,aD:K$,aE:xj,aF:uo,aG:Gs,aH:Zf,aI:Px,aJ:Sj,aK:Zl,aL:rf,aM:tw,aN:au,aO:na,aP:Tw,aQ:cu,aR:Wf,aS:M5,aT:dn,aU:Hs,aV:bi,aW:Pf,aX:ye,aY:cz,aZ:zw,a_:mx,aa:Sd,ab:kd,get ac(){return kt},ad:Zb,ae:da,af:Q$,ag:nn,ah:io,ai:ad,aj:K1,ak:V7,al:Id,am:ql,an:gs,ao:Fd,ap:wd,aq:fs,ar:s0,as:hP,at:R$,au:Ud,av:o4,aw:Q7,ax:bf,ay:fI,az:Ir,b:Dr,b$:R0,b0:rr,b1:$e,b2:pu,b3:ew,b4:Y6,b5:S$,b6:d4,b7:U4,b8:H4,b9:Sw,bA:Vq,bB:Jq,bC:Hq,bD:vE,bE:Qq,bF:Kq,bG:wE,bH:ct,bI:fu,bJ:yw,bK:on,bL:kF,bM:TF,bN:jF,bO:qA,bP:VF,bQ:DR,bR:rw,bS:NR,bT:PT,bU:O6,bV:yL,bW:QF,bX:_5,bY:E6,bZ:Ca,b_:mL,ba:jT,bb:Ql,bc:V6,bd:P4,be:U6,bf:DT,bg:Ew,bh:S6,bi:Hl,bj:Ws,bk:jj,bl:Qc,bm:Tt,bn:wt,bo:DL,bp:ur,bq:Si,br:Ox,bs:p1,bt:qq,bu:Cq,bv:Pq,bw:Rq,bx:Nq,by:Lq,bz:Uq,c:Tl,c$:XR,get c0(){return jl},c1:hf,c2:gL,c3:b$,c4:tP,c5:oo,c6:Er,c7:Q5,c8:Z5,c9:Mj,cA:kl,cB:Ic,cC:kA,cD:d6,cE:ZA,cF:g1,cG:Fx,cH:vA,cI:jx,cJ:Rx,cK:v1,cL:h1,cM:tA,cN:e1,cO:H6,cP:Jb,cQ:bd,cR:Ej,cS:Pa,cT:Mw,cU:Xm,cV:_6,cW:ty,cX:YF,cY:Bh,cZ:u5,c_:Zg,ca:Zx,cb:ga,cc:sa,cd:kx,ce:cI,cf:Zr,cg:jd,ch:Td,ci:i6,cj:td,ck:HC,cl:pF,get cm(){return ma},cn:ff,co:yf,cp:Kf,cq:Qf,cr:jR,cs:ka,ct:Ad,cu:TR,cv:m4,cw:hn,cx:Aw,cy:XM,cz:l7,d:Yr,d$:XA,d0:ET,d1:SA,d2:FT,d3:Qb,d4:Kb,d5:OM,d6:cf,d7:ps,d8:zT,d9:UT,dA:RM,dB:eA,dC:f4,dD:u6,dE:Hr,dF:DM,dG:VM,dH:GM,dI:KM,dJ:QM,dK:z1,dL:V1,dM:WM,dN:ZM,dO:YM,dP:NM,dQ:dz,get dR(){return jv},dS:Wb,dT:G6,dU:ya,get dV(){return Fc},dW:Vw,dX:aV,dY:t4,dZ:M1,d_:YA,da:A1,db:uf,dc:D1,dd:jM,de:CR,df:LM,dg:R1,dh:F1,di:IR,dj:zM,dk:Ze,dl:Wn,dm:Ta,dn:g4,dp:y4,dq:h4,dr:p4,ds:AM,dt:hF,du:Rw,dv:$4,dw:FM,dx:S4,dy:vM,dz:GC,e:Qx,e$:D4,e0:n9,e1:AR,e2:Ml,e3:I6,e4:M6,e5:PA,e6:K6,e7:W$,e8:cL,e9:$j,eA:Hf,eB:sy,eC:IM,eD:v4,eE:TM,eF:oy,eG:O4,eH:Q4,eI:mr,eJ:K4,eK:Cd,get eL(){return cv},eM:iz,eN:Iy,eO:mI,eP:A4,eQ:k6,eR:Nw,eS:Oa,eT:dI,eU:Nr,eV:q1,eW:vI,eX:r4,eY:oz,eZ:L4,e_:tx,ea:Uf,eb:qf,ec:t1,ed:Ym,ee:v$,ef:Cw,eg:AT,eh:RT,ei:qh,ej:yl,ek:Tv,el:Ds,em:T4,en:ER,eo:qT,ep:PM,eq:Ge,er:cy,es:e6,et:$$,eu:w5,ev:iy,ew:Kx,ex:Lf,ey:ao,ez:ru,f:fe,f$:pI,f0:a4,f1:my,f2:u4,f3:c4,f4:ny,f5:F4,f6:Xr,f7:ou,f8:Aa,f9:ho,fA:EM,fB:hw,fC:UF,fD:vw,fE:dd,fF:py,fG:Xj,fH:pw,fI:pd,fJ:l4,fK:s1,get fL(){return Bl},fM:Yi,fN:Fr,fO:x5,fP:Ld,fQ:Md,fR:oP,fS:kv,fT:u7,fU:$A,fV:ZT,fW:nz,get fX(){return De},fY:GU,fZ:Gf,get f_(){return ea},fa:B4,fb:k4,fc:C4,fd:Z4,fe:fg,ff:S1,fg:uI,fh:Dw,fi:xy,fj:db,fk:Nc,fl:ww,fm:R4,fn:My,fo:Gw,fp:gw,fq:it,fr:Ia,fs:cx,ft:Od,fu:hI,fv:lu,fw:We,fx:Y5,fy:WP,fz:uz,g:an,g$:RR,g0:Wc,g1:I5,g2:a1,g3:fo,g4:hg,g5:_d,g6:hM,g7:to,g8:Ty,g9:kT,gA:Sa,gB:nM,gC:Ul,gD:Bw,gE:po,gF:ix,gG:q7,gH:z7,gI:b4,gJ:Kc,gK:wM,gL:ey,gM:M$,gN:x$,gO:i7,gP:d7,gQ:y7,gR:CM,gS:L1,gT:I$,gU:LT,gV:TT,gW:k5,gX:kR,gY:n7,gZ:o7,g_:N1,ga:T6,gb:zc,gc:cb,gd:od,ge:dy,gf:V4,gg:z4,gh:xa,gi:uw,gj:TN,gk:ja,gl:R7,gm:N4,gn:jN,go:Mx,gp:Ij,gq:w,gr:yF,gs:j4,gt:OR,gu:eu,gv:sI,gw:iI,gx:nI,gy:$y,gz:RA,h:Xe,h0:x4,h1:qd,h2:e7,h3:bM,h4:a7,h5:P1,h6:IE,h7:en,h8:hs,h9:t_,ha:Mb,hb:ds,hc:xE,hd:Qn,he:_B,hf:ME,hg:Ib,hh:jy,hi:bc,hj:r_,hk:C5,hl:tL,hm:MN,hn:nV,i:Ma,j:gt,k:ze,l:Ec,m:D,n:Y1,o:Ru,p:fP,q:hu,r:q,s:H,t:we,u:yI,v:no,w:ta,x:e4,y:dF,z:yb},Symbol.toStringTag,{value:"Module"}));const Vn={ExactMonthDate:(e,t)=>r=>e==r.getMonth()&&t==r.getDate(),MonthsFirstDayOfWeek:(e,t)=>r=>{let s=new Date(r.getFullYear(),e,1);for(;s.getDay()!==t;)s.setDate(s.getDate()+1);return r.getTime()==s.getTime()},MonthsLastDayOfWeek:(e,t)=>r=>{let s=new Date(r.getFullYear(),e+1,0);for(;s.getDay()!==t;)s.setDate(s.getDate()-1);return r.getTime()==s.getTime()},MonthsNthDayOfWeek:(e,t,r)=>s=>{let i=new Date(s.getFullYear(),e,1);for(;i.getDay()!==t;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+(r-1)*7),s.getTime()==i.getTime()},MonthsNthToLastDayOfWeek:(e,t,r)=>s=>{let i=new Date(s.getFullYear(),e+1,0);for(;i.getDay()!==t;)i.setDate(i.getDate()-1);return i.setDate(i.getDate()-(r-1)*7),s.getTime()==i.getTime()}};var Ji=(e=>(e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December",e))(Ji||{}),_l=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(_l||{});const EE={holidays:[Vn.MonthsNthDayOfWeek(Ji.January,_l.Monday,3),Vn.MonthsLastDayOfWeek(Ji.May,_l.Monday),Vn.ExactMonthDate(Ji.June,19),Vn.ExactMonthDate(Ji.July,4),Vn.MonthsFirstDayOfWeek(Ji.September,_l.Monday),Vn.MonthsNthDayOfWeek(Ji.November,_l.Thursday,4),Vn.ExactMonthDate(Ji.December,25)]},DB={holidays:[...EE.holidays,Vn.ExactMonthDate(Ji.January,1)]};class OE{constructor(t){i_(this,"holidays");this.holidays=t.holidays}isHoliday(t){let r=!1;for(let s of this.holidays)if(r=s(t),r)break;return r}}const h8=new OE(EE),f8=new OE(DB);function y8(e,t=new Date,r=!1){t=new Date(t.getFullYear(),t.getMonth(),r?t.getDate()+1:t.getDate());const s=t.getDate(),i=t.getDay(),n=_l[e]-i;let a=new Date(t.getFullYear(),t.getMonth(),s+n);return a<t?new Date(a.setDate(a.getDate()+7)):a}function Tm(e){let t=[],r=y8(e),s={date:r,isHoliday:this==="recycle"?h8.isHoliday(r):f8.isHoliday(r)};for(t.push(s);s.isHoliday;)r=y8(e,s.date,!0),s={date:r,isHoliday:this==="recycle"?h8.isHoliday(r):f8.isHoliday(r)},t.push(s);return t}function jm(e,t){return e.date.valueOf()-t.date.valueOf()}function m8(e){return`(${e.substring(0,3)}) ${e.substring(3,6)}-${e.substring(6,10)}`}var jh=(e=>(e.garbage="Garbage",e.recycle="Recycling",e.yard="Yard Waste",e))(jh||{});const Cm="https://maps.hillsboroughcounty.org/arcgis/rest/services/SolidWaste_Viewer/SolidWasteRouteSchedules/MapServer",g8={garbage:`${Cm}/2`,recycle:`${Cm}/1`,yard:`${Cm}/0`},ro=Js({loading:!1,data:{garbage:void 0,recycle:void 0,yard:void 0}});async function zB(e){ro.loading=!0;try{let t;for(t in g8)try{jy.url=g8[t];const[r]=await r_(e);ro.data[t]=(r==null?void 0:r.toJSON().attributes)||void 0}catch{console.info(`unable to find ${t} schedule`)}}finally{ro.loading=!1}}const kE=un(()=>{const{garbage:e,recycle:t,yard:r}=ro.data;return{garbage:e?[e.Day1,e.Day2]:void 0,recycle:t?[t.Day]:void 0,yard:r?[r.Day]:void 0}}),VB=un(()=>{const{garbage:e,recycle:t,yard:r}=kE.value;return{garbage:e?e.map(Tm).flat().sort(jm):void 0,recycle:t?t.map(Tm.bind("recycle")).flat().sort(jm):void 0,yard:r?r.map(Tm).flat().sort(jm):void 0}}),UB=un(()=>ro.data.garbage!==void 0||ro.data.recycle!==void 0||ro.data.yard!==void 0),qB=[{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/SW_FACILITIES/MapServer/1",lookup:"TAG"},{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/MaintStar/MapServiceBaseMap_20150801_Production_1/MapServer/80",lookup:"NAME"}],Zn=Js({loading:!1});async function BB(e){Zn.loading=!0,Zn.lookup=void 0;try{for(const{url:t,lookup:r}of qB)try{jy.url=t;const[s]=await r_(e);if(!s)continue;return Zn.lookup=s==null?void 0:s.attributes[r]}catch{continue}}finally{Zn.loading=!1}}const Pl=Js({loading:!1,data:[]});async function GB(){Pl.loading=!0;try{const{records:e}=await fetch("https://hc-caching-proxy.herokuapp.com/airtable/appQrDnZGUnnURpdH/providers").then(t=>t.json());Pl.data=e}catch{}finally{Pl.loading=!1}}const nr=un(()=>{var e;return Zn.lookup?(e=Pl.data.find(({fields:t})=>t.lookups.includes(Zn.lookup)))==null?void 0:e.fields:void 0}),HB=un(()=>Pl.data.length>0&&Zn.lookup!==void 0),JB={key:0,class:"card-body d-flex justify-content-center"},WB=Ve("div",{class:"spinner-border",role:"status"},[Ve("span",{class:"visually-hidden"},"Loading...")],-1),KB=[WB],QB={key:1,class:"table table-striped mb-0"},ZB={key:0},YB=["id"],XB=Ve("small",{class:"d-block fw-light"},"Next Pickup Date(s)",-1),eG=["aria-describedby"],tG={key:0,class:"badge bg-secondary ms-2"},rG={key:2,class:"card-body"},sG=Cf({setup(e){const t={weekday:"short",year:"numeric",month:"long",day:"numeric"};return(r,s)=>je(ro).loading?(ut(),pt("div",JB,KB)):je(UB)?(ut(),pt("table",QB,[Ve("tbody",null,[(ut(!0),pt(Rr,null,Nh(je(kE),(i,n)=>(ut(),pt(Rr,null,[i?(ut(),pt("tr",ZB,[Ve("th",{id:je(jh)[n]},[Gm(zs(je(jh)[n])+" Days ",1),XB],8,YB),Ve("td",{"aria-describedby":je(jh)[n]},[Gm(zs(i.map(a=>`${a.toString()}s`).join(" & "))+" ",1),Ve("ul",null,[(ut(!0),pt(Rr,null,Nh(je(VB)[n],a=>(ut(),pt("li",null,[Ve("span",{class:vd({"text-decoration-line-through":a.isHoliday})},zs(a.date.toLocaleDateString(void 0,t)),3),a.isHoliday?(ut(),pt("span",tG," No pickup on holiday ")):Ns("",!0)]))),256))])],8,eG)])):Ns("",!0)],64))),256))])])):je(HB)?(ut(),pt("div",rG," We weren't able to find your trash and recycling schedule, but we know who your hauler is. Contact the provider listed above for your pickup schedule. ")):Ns("",!0)}});var iG=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},TE={exports:{}};(function(e){(function(){function t(h){var g={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `\xAB\xAB\xAB` and `\xBB\xBB\xBB` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(h===!1)return JSON.parse(JSON.stringify(g));var m={};for(var _ in g)g.hasOwnProperty(_)&&(m[_]=g[_].defaultValue);return m}function r(){var h=t(!0),g={};for(var m in h)h.hasOwnProperty(m)&&(g[m]=!0);return g}var s={},i={},n={},a=t(!0),u="vanilla",d={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:r()};s.helper={},s.extensions={},s.setOption=function(h,g){return a[h]=g,this},s.getOption=function(h){return a[h]},s.getOptions=function(){return a},s.resetOptions=function(){a=t(!0)},s.setFlavor=function(h){if(!d.hasOwnProperty(h))throw Error(h+" flavor was not found");s.resetOptions();var g=d[h];u=h;for(var m in g)g.hasOwnProperty(m)&&(a[m]=g[m])},s.getFlavor=function(){return u},s.getFlavorOptions=function(h){if(d.hasOwnProperty(h))return d[h]},s.getDefaultOptions=function(h){return t(h)},s.subParser=function(h,g){if(s.helper.isString(h))if(typeof g!="undefined")i[h]=g;else{if(i.hasOwnProperty(h))return i[h];throw Error("SubParser named "+h+" not registered!")}},s.extension=function(h,g){if(!s.helper.isString(h))throw Error("Extension 'name' must be a string");if(h=s.helper.stdExtName(h),s.helper.isUndefined(g)){if(!n.hasOwnProperty(h))throw Error("Extension named "+h+" is not registered!");return n[h]}else{typeof g=="function"&&(g=g()),s.helper.isArray(g)||(g=[g]);var m=p(g,h);if(m.valid)n[h]=g;else throw Error(m.error)}},s.getAllExtensions=function(){return n},s.removeExtension=function(h){delete n[h]},s.resetExtensions=function(){n={}};function p(h,g){var m=g?"Error in "+g+" extension->":"Error in unnamed extension",_={valid:!0,error:""};s.helper.isArray(h)||(h=[h]);for(var x=0;x<h.length;++x){var T=m+" sub-extension "+x+": ",S=h[x];if(typeof S!="object")return _.valid=!1,_.error=T+"must be an object, but "+typeof S+" given",_;if(!s.helper.isString(S.type))return _.valid=!1,_.error=T+'property "type" must be a string, but '+typeof S.type+" given",_;var C=S.type=S.type.toLowerCase();if(C==="language"&&(C=S.type="lang"),C==="html"&&(C=S.type="output"),C!=="lang"&&C!=="output"&&C!=="listener")return _.valid=!1,_.error=T+"type "+C+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',_;if(C==="listener"){if(s.helper.isUndefined(S.listeners))return _.valid=!1,_.error=T+'. Extensions of type "listener" must have a property called "listeners"',_}else if(s.helper.isUndefined(S.filter)&&s.helper.isUndefined(S.regex))return _.valid=!1,_.error=T+C+' extensions must define either a "regex" property or a "filter" method',_;if(S.listeners){if(typeof S.listeners!="object")return _.valid=!1,_.error=T+'"listeners" property must be an object but '+typeof S.listeners+" given",_;for(var J in S.listeners)if(S.listeners.hasOwnProperty(J)&&typeof S.listeners[J]!="function")return _.valid=!1,_.error=T+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+J+" must be a function but "+typeof S.listeners[J]+" given",_}if(S.filter){if(typeof S.filter!="function")return _.valid=!1,_.error=T+'"filter" must be a function, but '+typeof S.filter+" given",_}else if(S.regex){if(s.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return _.valid=!1,_.error=T+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",_;if(s.helper.isUndefined(S.replace))return _.valid=!1,_.error=T+'"regex" extensions must implement a replace string or function',_}}return _}s.validateExtension=function(h){var g=p(h,null);return g.valid?!0:(console.warn(g.error),!1)},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(h){return typeof h=="string"||h instanceof String},s.helper.isFunction=function(h){var g={};return h&&g.toString.call(h)==="[object Function]"},s.helper.isArray=function(h){return Array.isArray(h)},s.helper.isUndefined=function(h){return typeof h=="undefined"},s.helper.forEach=function(h,g){if(s.helper.isUndefined(h))throw new Error("obj param is required");if(s.helper.isUndefined(g))throw new Error("callback param is required");if(!s.helper.isFunction(g))throw new Error("callback param must be a function/closure");if(typeof h.forEach=="function")h.forEach(g);else if(s.helper.isArray(h))for(var m=0;m<h.length;m++)g(h[m],m,h);else if(typeof h=="object")for(var _ in h)h.hasOwnProperty(_)&&g(h[_],_,h);else throw new Error("obj does not seem to be an array or an iterable object")},s.helper.stdExtName=function(h){return h.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function f(h,g){var m=g.charCodeAt(0);return"\xA8E"+m+"E"}s.helper.escapeCharactersCallback=f,s.helper.escapeCharacters=function(h,g,m){var _="(["+g.replace(/([\[\]\\])/g,"\\$1")+"])";m&&(_="\\\\"+_);var x=new RegExp(_,"g");return h=h.replace(x,f),h},s.helper.unescapeHTMLEntities=function(h){return h.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var y=function(h,g,m,_){var x=_||"",T=x.indexOf("g")>-1,S=new RegExp(g+"|"+m,"g"+x.replace(/g/g,"")),C=new RegExp(g,x.replace(/g/g,"")),J=[],B,V,W,M,U;do for(B=0;W=S.exec(h);)if(C.test(W[0]))B++||(V=S.lastIndex,M=V-W[0].length);else if(B&&!--B){U=W.index+W[0].length;var te={left:{start:M,end:V},match:{start:V,end:W.index},right:{start:W.index,end:U},wholeMatch:{start:M,end:U}};if(J.push(te),!T)return J}while(B&&(S.lastIndex=V));return J};s.helper.matchRecursiveRegExp=function(h,g,m,_){for(var x=y(h,g,m,_),T=[],S=0;S<x.length;++S)T.push([h.slice(x[S].wholeMatch.start,x[S].wholeMatch.end),h.slice(x[S].match.start,x[S].match.end),h.slice(x[S].left.start,x[S].left.end),h.slice(x[S].right.start,x[S].right.end)]);return T},s.helper.replaceRecursiveRegExp=function(h,g,m,_,x){if(!s.helper.isFunction(g)){var T=g;g=function(){return T}}var S=y(h,m,_,x),C=h,J=S.length;if(J>0){var B=[];S[0].wholeMatch.start!==0&&B.push(h.slice(0,S[0].wholeMatch.start));for(var V=0;V<J;++V)B.push(g(h.slice(S[V].wholeMatch.start,S[V].wholeMatch.end),h.slice(S[V].match.start,S[V].match.end),h.slice(S[V].left.start,S[V].left.end),h.slice(S[V].right.start,S[V].right.end))),V<J-1&&B.push(h.slice(S[V].wholeMatch.end,S[V+1].wholeMatch.start));S[J-1].wholeMatch.end<h.length&&B.push(h.slice(S[J-1].wholeMatch.end)),C=B.join("")}return C},s.helper.regexIndexOf=function(h,g,m){if(!s.helper.isString(h))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(g instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var _=h.substring(m||0).search(g);return _>=0?_+(m||0):_},s.helper.splitAtIndex=function(h,g){if(!s.helper.isString(h))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[h.substring(0,g),h.substring(g)]},s.helper.encodeEmailAddress=function(h){var g=[function(m){return"&#"+m.charCodeAt(0)+";"},function(m){return"&#x"+m.charCodeAt(0).toString(16)+";"},function(m){return m}];return h=h.replace(/./g,function(m){if(m==="@")m=g[Math.floor(Math.random()*2)](m);else{var _=Math.random();m=_>.9?g[2](m):_>.45?g[1](m):g[0](m)}return m}),h},s.helper.padEnd=function(g,m,_){return m=m>>0,_=String(_||" "),g.length>m?String(g):(m=m-g.length,m>_.length&&(_+=_.repeat(m/_.length)),String(g)+_.slice(0,m))},typeof console=="undefined"&&(console={warn:function(h){alert(h)},log:function(h){alert(h)},error:function(h){throw h}}),s.helper.regexes={asteriskDashAndColon:/([*_:~])/g},s.helper.emojis={"+1":"\u{1F44D}","-1":"\u{1F44E}","100":"\u{1F4AF}","1234":"\u{1F522}","1st_place_medal":"\u{1F947}","2nd_place_medal":"\u{1F948}","3rd_place_medal":"\u{1F949}","8ball":"\u{1F3B1}",a:"\u{1F170}\uFE0F",ab:"\u{1F18E}",abc:"\u{1F524}",abcd:"\u{1F521}",accept:"\u{1F251}",aerial_tramway:"\u{1F6A1}",airplane:"\u2708\uFE0F",alarm_clock:"\u23F0",alembic:"\u2697\uFE0F",alien:"\u{1F47D}",ambulance:"\u{1F691}",amphora:"\u{1F3FA}",anchor:"\u2693\uFE0F",angel:"\u{1F47C}",anger:"\u{1F4A2}",angry:"\u{1F620}",anguished:"\u{1F627}",ant:"\u{1F41C}",apple:"\u{1F34E}",aquarius:"\u2652\uFE0F",aries:"\u2648\uFE0F",arrow_backward:"\u25C0\uFE0F",arrow_double_down:"\u23EC",arrow_double_up:"\u23EB",arrow_down:"\u2B07\uFE0F",arrow_down_small:"\u{1F53D}",arrow_forward:"\u25B6\uFE0F",arrow_heading_down:"\u2935\uFE0F",arrow_heading_up:"\u2934\uFE0F",arrow_left:"\u2B05\uFE0F",arrow_lower_left:"\u2199\uFE0F",arrow_lower_right:"\u2198\uFE0F",arrow_right:"\u27A1\uFE0F",arrow_right_hook:"\u21AA\uFE0F",arrow_up:"\u2B06\uFE0F",arrow_up_down:"\u2195\uFE0F",arrow_up_small:"\u{1F53C}",arrow_upper_left:"\u2196\uFE0F",arrow_upper_right:"\u2197\uFE0F",arrows_clockwise:"\u{1F503}",arrows_counterclockwise:"\u{1F504}",art:"\u{1F3A8}",articulated_lorry:"\u{1F69B}",artificial_satellite:"\u{1F6F0}",astonished:"\u{1F632}",athletic_shoe:"\u{1F45F}",atm:"\u{1F3E7}",atom_symbol:"\u269B\uFE0F",avocado:"\u{1F951}",b:"\u{1F171}\uFE0F",baby:"\u{1F476}",baby_bottle:"\u{1F37C}",baby_chick:"\u{1F424}",baby_symbol:"\u{1F6BC}",back:"\u{1F519}",bacon:"\u{1F953}",badminton:"\u{1F3F8}",baggage_claim:"\u{1F6C4}",baguette_bread:"\u{1F956}",balance_scale:"\u2696\uFE0F",balloon:"\u{1F388}",ballot_box:"\u{1F5F3}",ballot_box_with_check:"\u2611\uFE0F",bamboo:"\u{1F38D}",banana:"\u{1F34C}",bangbang:"\u203C\uFE0F",bank:"\u{1F3E6}",bar_chart:"\u{1F4CA}",barber:"\u{1F488}",baseball:"\u26BE\uFE0F",basketball:"\u{1F3C0}",basketball_man:"\u26F9\uFE0F",basketball_woman:"\u26F9\uFE0F&zwj;\u2640\uFE0F",bat:"\u{1F987}",bath:"\u{1F6C0}",bathtub:"\u{1F6C1}",battery:"\u{1F50B}",beach_umbrella:"\u{1F3D6}",bear:"\u{1F43B}",bed:"\u{1F6CF}",bee:"\u{1F41D}",beer:"\u{1F37A}",beers:"\u{1F37B}",beetle:"\u{1F41E}",beginner:"\u{1F530}",bell:"\u{1F514}",bellhop_bell:"\u{1F6CE}",bento:"\u{1F371}",biking_man:"\u{1F6B4}",bike:"\u{1F6B2}",biking_woman:"\u{1F6B4}&zwj;\u2640\uFE0F",bikini:"\u{1F459}",biohazard:"\u2623\uFE0F",bird:"\u{1F426}",birthday:"\u{1F382}",black_circle:"\u26AB\uFE0F",black_flag:"\u{1F3F4}",black_heart:"\u{1F5A4}",black_joker:"\u{1F0CF}",black_large_square:"\u2B1B\uFE0F",black_medium_small_square:"\u25FE\uFE0F",black_medium_square:"\u25FC\uFE0F",black_nib:"\u2712\uFE0F",black_small_square:"\u25AA\uFE0F",black_square_button:"\u{1F532}",blonde_man:"\u{1F471}",blonde_woman:"\u{1F471}&zwj;\u2640\uFE0F",blossom:"\u{1F33C}",blowfish:"\u{1F421}",blue_book:"\u{1F4D8}",blue_car:"\u{1F699}",blue_heart:"\u{1F499}",blush:"\u{1F60A}",boar:"\u{1F417}",boat:"\u26F5\uFE0F",bomb:"\u{1F4A3}",book:"\u{1F4D6}",bookmark:"\u{1F516}",bookmark_tabs:"\u{1F4D1}",books:"\u{1F4DA}",boom:"\u{1F4A5}",boot:"\u{1F462}",bouquet:"\u{1F490}",bowing_man:"\u{1F647}",bow_and_arrow:"\u{1F3F9}",bowing_woman:"\u{1F647}&zwj;\u2640\uFE0F",bowling:"\u{1F3B3}",boxing_glove:"\u{1F94A}",boy:"\u{1F466}",bread:"\u{1F35E}",bride_with_veil:"\u{1F470}",bridge_at_night:"\u{1F309}",briefcase:"\u{1F4BC}",broken_heart:"\u{1F494}",bug:"\u{1F41B}",building_construction:"\u{1F3D7}",bulb:"\u{1F4A1}",bullettrain_front:"\u{1F685}",bullettrain_side:"\u{1F684}",burrito:"\u{1F32F}",bus:"\u{1F68C}",business_suit_levitating:"\u{1F574}",busstop:"\u{1F68F}",bust_in_silhouette:"\u{1F464}",busts_in_silhouette:"\u{1F465}",butterfly:"\u{1F98B}",cactus:"\u{1F335}",cake:"\u{1F370}",calendar:"\u{1F4C6}",call_me_hand:"\u{1F919}",calling:"\u{1F4F2}",camel:"\u{1F42B}",camera:"\u{1F4F7}",camera_flash:"\u{1F4F8}",camping:"\u{1F3D5}",cancer:"\u264B\uFE0F",candle:"\u{1F56F}",candy:"\u{1F36C}",canoe:"\u{1F6F6}",capital_abcd:"\u{1F520}",capricorn:"\u2651\uFE0F",car:"\u{1F697}",card_file_box:"\u{1F5C3}",card_index:"\u{1F4C7}",card_index_dividers:"\u{1F5C2}",carousel_horse:"\u{1F3A0}",carrot:"\u{1F955}",cat:"\u{1F431}",cat2:"\u{1F408}",cd:"\u{1F4BF}",chains:"\u26D3",champagne:"\u{1F37E}",chart:"\u{1F4B9}",chart_with_downwards_trend:"\u{1F4C9}",chart_with_upwards_trend:"\u{1F4C8}",checkered_flag:"\u{1F3C1}",cheese:"\u{1F9C0}",cherries:"\u{1F352}",cherry_blossom:"\u{1F338}",chestnut:"\u{1F330}",chicken:"\u{1F414}",children_crossing:"\u{1F6B8}",chipmunk:"\u{1F43F}",chocolate_bar:"\u{1F36B}",christmas_tree:"\u{1F384}",church:"\u26EA\uFE0F",cinema:"\u{1F3A6}",circus_tent:"\u{1F3AA}",city_sunrise:"\u{1F307}",city_sunset:"\u{1F306}",cityscape:"\u{1F3D9}",cl:"\u{1F191}",clamp:"\u{1F5DC}",clap:"\u{1F44F}",clapper:"\u{1F3AC}",classical_building:"\u{1F3DB}",clinking_glasses:"\u{1F942}",clipboard:"\u{1F4CB}",clock1:"\u{1F550}",clock10:"\u{1F559}",clock1030:"\u{1F565}",clock11:"\u{1F55A}",clock1130:"\u{1F566}",clock12:"\u{1F55B}",clock1230:"\u{1F567}",clock130:"\u{1F55C}",clock2:"\u{1F551}",clock230:"\u{1F55D}",clock3:"\u{1F552}",clock330:"\u{1F55E}",clock4:"\u{1F553}",clock430:"\u{1F55F}",clock5:"\u{1F554}",clock530:"\u{1F560}",clock6:"\u{1F555}",clock630:"\u{1F561}",clock7:"\u{1F556}",clock730:"\u{1F562}",clock8:"\u{1F557}",clock830:"\u{1F563}",clock9:"\u{1F558}",clock930:"\u{1F564}",closed_book:"\u{1F4D5}",closed_lock_with_key:"\u{1F510}",closed_umbrella:"\u{1F302}",cloud:"\u2601\uFE0F",cloud_with_lightning:"\u{1F329}",cloud_with_lightning_and_rain:"\u26C8",cloud_with_rain:"\u{1F327}",cloud_with_snow:"\u{1F328}",clown_face:"\u{1F921}",clubs:"\u2663\uFE0F",cocktail:"\u{1F378}",coffee:"\u2615\uFE0F",coffin:"\u26B0\uFE0F",cold_sweat:"\u{1F630}",comet:"\u2604\uFE0F",computer:"\u{1F4BB}",computer_mouse:"\u{1F5B1}",confetti_ball:"\u{1F38A}",confounded:"\u{1F616}",confused:"\u{1F615}",congratulations:"\u3297\uFE0F",construction:"\u{1F6A7}",construction_worker_man:"\u{1F477}",construction_worker_woman:"\u{1F477}&zwj;\u2640\uFE0F",control_knobs:"\u{1F39B}",convenience_store:"\u{1F3EA}",cookie:"\u{1F36A}",cool:"\u{1F192}",policeman:"\u{1F46E}",copyright:"\xA9\uFE0F",corn:"\u{1F33D}",couch_and_lamp:"\u{1F6CB}",couple:"\u{1F46B}",couple_with_heart_woman_man:"\u{1F491}",couple_with_heart_man_man:"\u{1F468}&zwj;\u2764\uFE0F&zwj;\u{1F468}",couple_with_heart_woman_woman:"\u{1F469}&zwj;\u2764\uFE0F&zwj;\u{1F469}",couplekiss_man_man:"\u{1F468}&zwj;\u2764\uFE0F&zwj;\u{1F48B}&zwj;\u{1F468}",couplekiss_man_woman:"\u{1F48F}",couplekiss_woman_woman:"\u{1F469}&zwj;\u2764\uFE0F&zwj;\u{1F48B}&zwj;\u{1F469}",cow:"\u{1F42E}",cow2:"\u{1F404}",cowboy_hat_face:"\u{1F920}",crab:"\u{1F980}",crayon:"\u{1F58D}",credit_card:"\u{1F4B3}",crescent_moon:"\u{1F319}",cricket:"\u{1F3CF}",crocodile:"\u{1F40A}",croissant:"\u{1F950}",crossed_fingers:"\u{1F91E}",crossed_flags:"\u{1F38C}",crossed_swords:"\u2694\uFE0F",crown:"\u{1F451}",cry:"\u{1F622}",crying_cat_face:"\u{1F63F}",crystal_ball:"\u{1F52E}",cucumber:"\u{1F952}",cupid:"\u{1F498}",curly_loop:"\u27B0",currency_exchange:"\u{1F4B1}",curry:"\u{1F35B}",custard:"\u{1F36E}",customs:"\u{1F6C3}",cyclone:"\u{1F300}",dagger:"\u{1F5E1}",dancer:"\u{1F483}",dancing_women:"\u{1F46F}",dancing_men:"\u{1F46F}&zwj;\u2642\uFE0F",dango:"\u{1F361}",dark_sunglasses:"\u{1F576}",dart:"\u{1F3AF}",dash:"\u{1F4A8}",date:"\u{1F4C5}",deciduous_tree:"\u{1F333}",deer:"\u{1F98C}",department_store:"\u{1F3EC}",derelict_house:"\u{1F3DA}",desert:"\u{1F3DC}",desert_island:"\u{1F3DD}",desktop_computer:"\u{1F5A5}",male_detective:"\u{1F575}\uFE0F",diamond_shape_with_a_dot_inside:"\u{1F4A0}",diamonds:"\u2666\uFE0F",disappointed:"\u{1F61E}",disappointed_relieved:"\u{1F625}",dizzy:"\u{1F4AB}",dizzy_face:"\u{1F635}",do_not_litter:"\u{1F6AF}",dog:"\u{1F436}",dog2:"\u{1F415}",dollar:"\u{1F4B5}",dolls:"\u{1F38E}",dolphin:"\u{1F42C}",door:"\u{1F6AA}",doughnut:"\u{1F369}",dove:"\u{1F54A}",dragon:"\u{1F409}",dragon_face:"\u{1F432}",dress:"\u{1F457}",dromedary_camel:"\u{1F42A}",drooling_face:"\u{1F924}",droplet:"\u{1F4A7}",drum:"\u{1F941}",duck:"\u{1F986}",dvd:"\u{1F4C0}","e-mail":"\u{1F4E7}",eagle:"\u{1F985}",ear:"\u{1F442}",ear_of_rice:"\u{1F33E}",earth_africa:"\u{1F30D}",earth_americas:"\u{1F30E}",earth_asia:"\u{1F30F}",egg:"\u{1F95A}",eggplant:"\u{1F346}",eight_pointed_black_star:"\u2734\uFE0F",eight_spoked_asterisk:"\u2733\uFE0F",electric_plug:"\u{1F50C}",elephant:"\u{1F418}",email:"\u2709\uFE0F",end:"\u{1F51A}",envelope_with_arrow:"\u{1F4E9}",euro:"\u{1F4B6}",european_castle:"\u{1F3F0}",european_post_office:"\u{1F3E4}",evergreen_tree:"\u{1F332}",exclamation:"\u2757\uFE0F",expressionless:"\u{1F611}",eye:"\u{1F441}",eye_speech_bubble:"\u{1F441}&zwj;\u{1F5E8}",eyeglasses:"\u{1F453}",eyes:"\u{1F440}",face_with_head_bandage:"\u{1F915}",face_with_thermometer:"\u{1F912}",fist_oncoming:"\u{1F44A}",factory:"\u{1F3ED}",fallen_leaf:"\u{1F342}",family_man_woman_boy:"\u{1F46A}",family_man_boy:"\u{1F468}&zwj;\u{1F466}",family_man_boy_boy:"\u{1F468}&zwj;\u{1F466}&zwj;\u{1F466}",family_man_girl:"\u{1F468}&zwj;\u{1F467}",family_man_girl_boy:"\u{1F468}&zwj;\u{1F467}&zwj;\u{1F466}",family_man_girl_girl:"\u{1F468}&zwj;\u{1F467}&zwj;\u{1F467}",family_man_man_boy:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F466}",family_man_man_boy_boy:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F466}&zwj;\u{1F466}",family_man_man_girl:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F467}",family_man_man_girl_boy:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F467}&zwj;\u{1F466}",family_man_man_girl_girl:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F467}&zwj;\u{1F467}",family_man_woman_boy_boy:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F466}&zwj;\u{1F466}",family_man_woman_girl:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F467}",family_man_woman_girl_boy:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F466}",family_man_woman_girl_girl:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F467}",family_woman_boy:"\u{1F469}&zwj;\u{1F466}",family_woman_boy_boy:"\u{1F469}&zwj;\u{1F466}&zwj;\u{1F466}",family_woman_girl:"\u{1F469}&zwj;\u{1F467}",family_woman_girl_boy:"\u{1F469}&zwj;\u{1F467}&zwj;\u{1F466}",family_woman_girl_girl:"\u{1F469}&zwj;\u{1F467}&zwj;\u{1F467}",family_woman_woman_boy:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F466}",family_woman_woman_boy_boy:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F466}&zwj;\u{1F466}",family_woman_woman_girl:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F467}",family_woman_woman_girl_boy:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F466}",family_woman_woman_girl_girl:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F467}",fast_forward:"\u23E9",fax:"\u{1F4E0}",fearful:"\u{1F628}",feet:"\u{1F43E}",female_detective:"\u{1F575}\uFE0F&zwj;\u2640\uFE0F",ferris_wheel:"\u{1F3A1}",ferry:"\u26F4",field_hockey:"\u{1F3D1}",file_cabinet:"\u{1F5C4}",file_folder:"\u{1F4C1}",film_projector:"\u{1F4FD}",film_strip:"\u{1F39E}",fire:"\u{1F525}",fire_engine:"\u{1F692}",fireworks:"\u{1F386}",first_quarter_moon:"\u{1F313}",first_quarter_moon_with_face:"\u{1F31B}",fish:"\u{1F41F}",fish_cake:"\u{1F365}",fishing_pole_and_fish:"\u{1F3A3}",fist_raised:"\u270A",fist_left:"\u{1F91B}",fist_right:"\u{1F91C}",flags:"\u{1F38F}",flashlight:"\u{1F526}",fleur_de_lis:"\u269C\uFE0F",flight_arrival:"\u{1F6EC}",flight_departure:"\u{1F6EB}",floppy_disk:"\u{1F4BE}",flower_playing_cards:"\u{1F3B4}",flushed:"\u{1F633}",fog:"\u{1F32B}",foggy:"\u{1F301}",football:"\u{1F3C8}",footprints:"\u{1F463}",fork_and_knife:"\u{1F374}",fountain:"\u26F2\uFE0F",fountain_pen:"\u{1F58B}",four_leaf_clover:"\u{1F340}",fox_face:"\u{1F98A}",framed_picture:"\u{1F5BC}",free:"\u{1F193}",fried_egg:"\u{1F373}",fried_shrimp:"\u{1F364}",fries:"\u{1F35F}",frog:"\u{1F438}",frowning:"\u{1F626}",frowning_face:"\u2639\uFE0F",frowning_man:"\u{1F64D}&zwj;\u2642\uFE0F",frowning_woman:"\u{1F64D}",middle_finger:"\u{1F595}",fuelpump:"\u26FD\uFE0F",full_moon:"\u{1F315}",full_moon_with_face:"\u{1F31D}",funeral_urn:"\u26B1\uFE0F",game_die:"\u{1F3B2}",gear:"\u2699\uFE0F",gem:"\u{1F48E}",gemini:"\u264A\uFE0F",ghost:"\u{1F47B}",gift:"\u{1F381}",gift_heart:"\u{1F49D}",girl:"\u{1F467}",globe_with_meridians:"\u{1F310}",goal_net:"\u{1F945}",goat:"\u{1F410}",golf:"\u26F3\uFE0F",golfing_man:"\u{1F3CC}\uFE0F",golfing_woman:"\u{1F3CC}\uFE0F&zwj;\u2640\uFE0F",gorilla:"\u{1F98D}",grapes:"\u{1F347}",green_apple:"\u{1F34F}",green_book:"\u{1F4D7}",green_heart:"\u{1F49A}",green_salad:"\u{1F957}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1F62C}",grin:"\u{1F601}",grinning:"\u{1F600}",guardsman:"\u{1F482}",guardswoman:"\u{1F482}&zwj;\u2640\uFE0F",guitar:"\u{1F3B8}",gun:"\u{1F52B}",haircut_woman:"\u{1F487}",haircut_man:"\u{1F487}&zwj;\u2642\uFE0F",hamburger:"\u{1F354}",hammer:"\u{1F528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1F6E0}",hamster:"\u{1F439}",hand:"\u270B",handbag:"\u{1F45C}",handshake:"\u{1F91D}",hankey:"\u{1F4A9}",hatched_chick:"\u{1F425}",hatching_chick:"\u{1F423}",headphones:"\u{1F3A7}",hear_no_evil:"\u{1F649}",heart:"\u2764\uFE0F",heart_decoration:"\u{1F49F}",heart_eyes:"\u{1F60D}",heart_eyes_cat:"\u{1F63B}",heartbeat:"\u{1F493}",heartpulse:"\u{1F497}",hearts:"\u2665\uFE0F",heavy_check_mark:"\u2714\uFE0F",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1F4B2}",heavy_heart_exclamation:"\u2763\uFE0F",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\uFE0F",heavy_plus_sign:"\u2795",helicopter:"\u{1F681}",herb:"\u{1F33F}",hibiscus:"\u{1F33A}",high_brightness:"\u{1F506}",high_heel:"\u{1F460}",hocho:"\u{1F52A}",hole:"\u{1F573}",honey_pot:"\u{1F36F}",horse:"\u{1F434}",horse_racing:"\u{1F3C7}",hospital:"\u{1F3E5}",hot_pepper:"\u{1F336}",hotdog:"\u{1F32D}",hotel:"\u{1F3E8}",hotsprings:"\u2668\uFE0F",hourglass:"\u231B\uFE0F",hourglass_flowing_sand:"\u23F3",house:"\u{1F3E0}",house_with_garden:"\u{1F3E1}",houses:"\u{1F3D8}",hugs:"\u{1F917}",hushed:"\u{1F62F}",ice_cream:"\u{1F368}",ice_hockey:"\u{1F3D2}",ice_skate:"\u26F8",icecream:"\u{1F366}",id:"\u{1F194}",ideograph_advantage:"\u{1F250}",imp:"\u{1F47F}",inbox_tray:"\u{1F4E5}",incoming_envelope:"\u{1F4E8}",tipping_hand_woman:"\u{1F481}",information_source:"\u2139\uFE0F",innocent:"\u{1F607}",interrobang:"\u2049\uFE0F",iphone:"\u{1F4F1}",izakaya_lantern:"\u{1F3EE}",jack_o_lantern:"\u{1F383}",japan:"\u{1F5FE}",japanese_castle:"\u{1F3EF}",japanese_goblin:"\u{1F47A}",japanese_ogre:"\u{1F479}",jeans:"\u{1F456}",joy:"\u{1F602}",joy_cat:"\u{1F639}",joystick:"\u{1F579}",kaaba:"\u{1F54B}",key:"\u{1F511}",keyboard:"\u2328\uFE0F",keycap_ten:"\u{1F51F}",kick_scooter:"\u{1F6F4}",kimono:"\u{1F458}",kiss:"\u{1F48B}",kissing:"\u{1F617}",kissing_cat:"\u{1F63D}",kissing_closed_eyes:"\u{1F61A}",kissing_heart:"\u{1F618}",kissing_smiling_eyes:"\u{1F619}",kiwi_fruit:"\u{1F95D}",koala:"\u{1F428}",koko:"\u{1F201}",label:"\u{1F3F7}",large_blue_circle:"\u{1F535}",large_blue_diamond:"\u{1F537}",large_orange_diamond:"\u{1F536}",last_quarter_moon:"\u{1F317}",last_quarter_moon_with_face:"\u{1F31C}",latin_cross:"\u271D\uFE0F",laughing:"\u{1F606}",leaves:"\u{1F343}",ledger:"\u{1F4D2}",left_luggage:"\u{1F6C5}",left_right_arrow:"\u2194\uFE0F",leftwards_arrow_with_hook:"\u21A9\uFE0F",lemon:"\u{1F34B}",leo:"\u264C\uFE0F",leopard:"\u{1F406}",level_slider:"\u{1F39A}",libra:"\u264E\uFE0F",light_rail:"\u{1F688}",link:"\u{1F517}",lion:"\u{1F981}",lips:"\u{1F444}",lipstick:"\u{1F484}",lizard:"\u{1F98E}",lock:"\u{1F512}",lock_with_ink_pen:"\u{1F50F}",lollipop:"\u{1F36D}",loop:"\u27BF",loud_sound:"\u{1F50A}",loudspeaker:"\u{1F4E2}",love_hotel:"\u{1F3E9}",love_letter:"\u{1F48C}",low_brightness:"\u{1F505}",lying_face:"\u{1F925}",m:"\u24C2\uFE0F",mag:"\u{1F50D}",mag_right:"\u{1F50E}",mahjong:"\u{1F004}\uFE0F",mailbox:"\u{1F4EB}",mailbox_closed:"\u{1F4EA}",mailbox_with_mail:"\u{1F4EC}",mailbox_with_no_mail:"\u{1F4ED}",man:"\u{1F468}",man_artist:"\u{1F468}&zwj;\u{1F3A8}",man_astronaut:"\u{1F468}&zwj;\u{1F680}",man_cartwheeling:"\u{1F938}&zwj;\u2642\uFE0F",man_cook:"\u{1F468}&zwj;\u{1F373}",man_dancing:"\u{1F57A}",man_facepalming:"\u{1F926}&zwj;\u2642\uFE0F",man_factory_worker:"\u{1F468}&zwj;\u{1F3ED}",man_farmer:"\u{1F468}&zwj;\u{1F33E}",man_firefighter:"\u{1F468}&zwj;\u{1F692}",man_health_worker:"\u{1F468}&zwj;\u2695\uFE0F",man_in_tuxedo:"\u{1F935}",man_judge:"\u{1F468}&zwj;\u2696\uFE0F",man_juggling:"\u{1F939}&zwj;\u2642\uFE0F",man_mechanic:"\u{1F468}&zwj;\u{1F527}",man_office_worker:"\u{1F468}&zwj;\u{1F4BC}",man_pilot:"\u{1F468}&zwj;\u2708\uFE0F",man_playing_handball:"\u{1F93E}&zwj;\u2642\uFE0F",man_playing_water_polo:"\u{1F93D}&zwj;\u2642\uFE0F",man_scientist:"\u{1F468}&zwj;\u{1F52C}",man_shrugging:"\u{1F937}&zwj;\u2642\uFE0F",man_singer:"\u{1F468}&zwj;\u{1F3A4}",man_student:"\u{1F468}&zwj;\u{1F393}",man_teacher:"\u{1F468}&zwj;\u{1F3EB}",man_technologist:"\u{1F468}&zwj;\u{1F4BB}",man_with_gua_pi_mao:"\u{1F472}",man_with_turban:"\u{1F473}",tangerine:"\u{1F34A}",mans_shoe:"\u{1F45E}",mantelpiece_clock:"\u{1F570}",maple_leaf:"\u{1F341}",martial_arts_uniform:"\u{1F94B}",mask:"\u{1F637}",massage_woman:"\u{1F486}",massage_man:"\u{1F486}&zwj;\u2642\uFE0F",meat_on_bone:"\u{1F356}",medal_military:"\u{1F396}",medal_sports:"\u{1F3C5}",mega:"\u{1F4E3}",melon:"\u{1F348}",memo:"\u{1F4DD}",men_wrestling:"\u{1F93C}&zwj;\u2642\uFE0F",menorah:"\u{1F54E}",mens:"\u{1F6B9}",metal:"\u{1F918}",metro:"\u{1F687}",microphone:"\u{1F3A4}",microscope:"\u{1F52C}",milk_glass:"\u{1F95B}",milky_way:"\u{1F30C}",minibus:"\u{1F690}",minidisc:"\u{1F4BD}",mobile_phone_off:"\u{1F4F4}",money_mouth_face:"\u{1F911}",money_with_wings:"\u{1F4B8}",moneybag:"\u{1F4B0}",monkey:"\u{1F412}",monkey_face:"\u{1F435}",monorail:"\u{1F69D}",moon:"\u{1F314}",mortar_board:"\u{1F393}",mosque:"\u{1F54C}",motor_boat:"\u{1F6E5}",motor_scooter:"\u{1F6F5}",motorcycle:"\u{1F3CD}",motorway:"\u{1F6E3}",mount_fuji:"\u{1F5FB}",mountain:"\u26F0",mountain_biking_man:"\u{1F6B5}",mountain_biking_woman:"\u{1F6B5}&zwj;\u2640\uFE0F",mountain_cableway:"\u{1F6A0}",mountain_railway:"\u{1F69E}",mountain_snow:"\u{1F3D4}",mouse:"\u{1F42D}",mouse2:"\u{1F401}",movie_camera:"\u{1F3A5}",moyai:"\u{1F5FF}",mrs_claus:"\u{1F936}",muscle:"\u{1F4AA}",mushroom:"\u{1F344}",musical_keyboard:"\u{1F3B9}",musical_note:"\u{1F3B5}",musical_score:"\u{1F3BC}",mute:"\u{1F507}",nail_care:"\u{1F485}",name_badge:"\u{1F4DB}",national_park:"\u{1F3DE}",nauseated_face:"\u{1F922}",necktie:"\u{1F454}",negative_squared_cross_mark:"\u274E",nerd_face:"\u{1F913}",neutral_face:"\u{1F610}",new:"\u{1F195}",new_moon:"\u{1F311}",new_moon_with_face:"\u{1F31A}",newspaper:"\u{1F4F0}",newspaper_roll:"\u{1F5DE}",next_track_button:"\u23ED",ng:"\u{1F196}",no_good_man:"\u{1F645}&zwj;\u2642\uFE0F",no_good_woman:"\u{1F645}",night_with_stars:"\u{1F303}",no_bell:"\u{1F515}",no_bicycles:"\u{1F6B3}",no_entry:"\u26D4\uFE0F",no_entry_sign:"\u{1F6AB}",no_mobile_phones:"\u{1F4F5}",no_mouth:"\u{1F636}",no_pedestrians:"\u{1F6B7}",no_smoking:"\u{1F6AD}","non-potable_water":"\u{1F6B1}",nose:"\u{1F443}",notebook:"\u{1F4D3}",notebook_with_decorative_cover:"\u{1F4D4}",notes:"\u{1F3B6}",nut_and_bolt:"\u{1F529}",o:"\u2B55\uFE0F",o2:"\u{1F17E}\uFE0F",ocean:"\u{1F30A}",octopus:"\u{1F419}",oden:"\u{1F362}",office:"\u{1F3E2}",oil_drum:"\u{1F6E2}",ok:"\u{1F197}",ok_hand:"\u{1F44C}",ok_man:"\u{1F646}&zwj;\u2642\uFE0F",ok_woman:"\u{1F646}",old_key:"\u{1F5DD}",older_man:"\u{1F474}",older_woman:"\u{1F475}",om:"\u{1F549}",on:"\u{1F51B}",oncoming_automobile:"\u{1F698}",oncoming_bus:"\u{1F68D}",oncoming_police_car:"\u{1F694}",oncoming_taxi:"\u{1F696}",open_file_folder:"\u{1F4C2}",open_hands:"\u{1F450}",open_mouth:"\u{1F62E}",open_umbrella:"\u2602\uFE0F",ophiuchus:"\u26CE",orange_book:"\u{1F4D9}",orthodox_cross:"\u2626\uFE0F",outbox_tray:"\u{1F4E4}",owl:"\u{1F989}",ox:"\u{1F402}",package:"\u{1F4E6}",page_facing_up:"\u{1F4C4}",page_with_curl:"\u{1F4C3}",pager:"\u{1F4DF}",paintbrush:"\u{1F58C}",palm_tree:"\u{1F334}",pancakes:"\u{1F95E}",panda_face:"\u{1F43C}",paperclip:"\u{1F4CE}",paperclips:"\u{1F587}",parasol_on_ground:"\u26F1",parking:"\u{1F17F}\uFE0F",part_alternation_mark:"\u303D\uFE0F",partly_sunny:"\u26C5\uFE0F",passenger_ship:"\u{1F6F3}",passport_control:"\u{1F6C2}",pause_button:"\u23F8",peace_symbol:"\u262E\uFE0F",peach:"\u{1F351}",peanuts:"\u{1F95C}",pear:"\u{1F350}",pen:"\u{1F58A}",pencil2:"\u270F\uFE0F",penguin:"\u{1F427}",pensive:"\u{1F614}",performing_arts:"\u{1F3AD}",persevere:"\u{1F623}",person_fencing:"\u{1F93A}",pouting_woman:"\u{1F64E}",phone:"\u260E\uFE0F",pick:"\u26CF",pig:"\u{1F437}",pig2:"\u{1F416}",pig_nose:"\u{1F43D}",pill:"\u{1F48A}",pineapple:"\u{1F34D}",ping_pong:"\u{1F3D3}",pisces:"\u2653\uFE0F",pizza:"\u{1F355}",place_of_worship:"\u{1F6D0}",plate_with_cutlery:"\u{1F37D}",play_or_pause_button:"\u23EF",point_down:"\u{1F447}",point_left:"\u{1F448}",point_right:"\u{1F449}",point_up:"\u261D\uFE0F",point_up_2:"\u{1F446}",police_car:"\u{1F693}",policewoman:"\u{1F46E}&zwj;\u2640\uFE0F",poodle:"\u{1F429}",popcorn:"\u{1F37F}",post_office:"\u{1F3E3}",postal_horn:"\u{1F4EF}",postbox:"\u{1F4EE}",potable_water:"\u{1F6B0}",potato:"\u{1F954}",pouch:"\u{1F45D}",poultry_leg:"\u{1F357}",pound:"\u{1F4B7}",rage:"\u{1F621}",pouting_cat:"\u{1F63E}",pouting_man:"\u{1F64E}&zwj;\u2642\uFE0F",pray:"\u{1F64F}",prayer_beads:"\u{1F4FF}",pregnant_woman:"\u{1F930}",previous_track_button:"\u23EE",prince:"\u{1F934}",princess:"\u{1F478}",printer:"\u{1F5A8}",purple_heart:"\u{1F49C}",purse:"\u{1F45B}",pushpin:"\u{1F4CC}",put_litter_in_its_place:"\u{1F6AE}",question:"\u2753",rabbit:"\u{1F430}",rabbit2:"\u{1F407}",racehorse:"\u{1F40E}",racing_car:"\u{1F3CE}",radio:"\u{1F4FB}",radio_button:"\u{1F518}",radioactive:"\u2622\uFE0F",railway_car:"\u{1F683}",railway_track:"\u{1F6E4}",rainbow:"\u{1F308}",rainbow_flag:"\u{1F3F3}\uFE0F&zwj;\u{1F308}",raised_back_of_hand:"\u{1F91A}",raised_hand_with_fingers_splayed:"\u{1F590}",raised_hands:"\u{1F64C}",raising_hand_woman:"\u{1F64B}",raising_hand_man:"\u{1F64B}&zwj;\u2642\uFE0F",ram:"\u{1F40F}",ramen:"\u{1F35C}",rat:"\u{1F400}",record_button:"\u23FA",recycle:"\u267B\uFE0F",red_circle:"\u{1F534}",registered:"\xAE\uFE0F",relaxed:"\u263A\uFE0F",relieved:"\u{1F60C}",reminder_ribbon:"\u{1F397}",repeat:"\u{1F501}",repeat_one:"\u{1F502}",rescue_worker_helmet:"\u26D1",restroom:"\u{1F6BB}",revolving_hearts:"\u{1F49E}",rewind:"\u23EA",rhinoceros:"\u{1F98F}",ribbon:"\u{1F380}",rice:"\u{1F35A}",rice_ball:"\u{1F359}",rice_cracker:"\u{1F358}",rice_scene:"\u{1F391}",right_anger_bubble:"\u{1F5EF}",ring:"\u{1F48D}",robot:"\u{1F916}",rocket:"\u{1F680}",rofl:"\u{1F923}",roll_eyes:"\u{1F644}",roller_coaster:"\u{1F3A2}",rooster:"\u{1F413}",rose:"\u{1F339}",rosette:"\u{1F3F5}",rotating_light:"\u{1F6A8}",round_pushpin:"\u{1F4CD}",rowing_man:"\u{1F6A3}",rowing_woman:"\u{1F6A3}&zwj;\u2640\uFE0F",rugby_football:"\u{1F3C9}",running_man:"\u{1F3C3}",running_shirt_with_sash:"\u{1F3BD}",running_woman:"\u{1F3C3}&zwj;\u2640\uFE0F",sa:"\u{1F202}\uFE0F",sagittarius:"\u2650\uFE0F",sake:"\u{1F376}",sandal:"\u{1F461}",santa:"\u{1F385}",satellite:"\u{1F4E1}",saxophone:"\u{1F3B7}",school:"\u{1F3EB}",school_satchel:"\u{1F392}",scissors:"\u2702\uFE0F",scorpion:"\u{1F982}",scorpius:"\u264F\uFE0F",scream:"\u{1F631}",scream_cat:"\u{1F640}",scroll:"\u{1F4DC}",seat:"\u{1F4BA}",secret:"\u3299\uFE0F",see_no_evil:"\u{1F648}",seedling:"\u{1F331}",selfie:"\u{1F933}",shallow_pan_of_food:"\u{1F958}",shamrock:"\u2618\uFE0F",shark:"\u{1F988}",shaved_ice:"\u{1F367}",sheep:"\u{1F411}",shell:"\u{1F41A}",shield:"\u{1F6E1}",shinto_shrine:"\u26E9",ship:"\u{1F6A2}",shirt:"\u{1F455}",shopping:"\u{1F6CD}",shopping_cart:"\u{1F6D2}",shower:"\u{1F6BF}",shrimp:"\u{1F990}",signal_strength:"\u{1F4F6}",six_pointed_star:"\u{1F52F}",ski:"\u{1F3BF}",skier:"\u26F7",skull:"\u{1F480}",skull_and_crossbones:"\u2620\uFE0F",sleeping:"\u{1F634}",sleeping_bed:"\u{1F6CC}",sleepy:"\u{1F62A}",slightly_frowning_face:"\u{1F641}",slightly_smiling_face:"\u{1F642}",slot_machine:"\u{1F3B0}",small_airplane:"\u{1F6E9}",small_blue_diamond:"\u{1F539}",small_orange_diamond:"\u{1F538}",small_red_triangle:"\u{1F53A}",small_red_triangle_down:"\u{1F53B}",smile:"\u{1F604}",smile_cat:"\u{1F638}",smiley:"\u{1F603}",smiley_cat:"\u{1F63A}",smiling_imp:"\u{1F608}",smirk:"\u{1F60F}",smirk_cat:"\u{1F63C}",smoking:"\u{1F6AC}",snail:"\u{1F40C}",snake:"\u{1F40D}",sneezing_face:"\u{1F927}",snowboarder:"\u{1F3C2}",snowflake:"\u2744\uFE0F",snowman:"\u26C4\uFE0F",snowman_with_snow:"\u2603\uFE0F",sob:"\u{1F62D}",soccer:"\u26BD\uFE0F",soon:"\u{1F51C}",sos:"\u{1F198}",sound:"\u{1F509}",space_invader:"\u{1F47E}",spades:"\u2660\uFE0F",spaghetti:"\u{1F35D}",sparkle:"\u2747\uFE0F",sparkler:"\u{1F387}",sparkles:"\u2728",sparkling_heart:"\u{1F496}",speak_no_evil:"\u{1F64A}",speaker:"\u{1F508}",speaking_head:"\u{1F5E3}",speech_balloon:"\u{1F4AC}",speedboat:"\u{1F6A4}",spider:"\u{1F577}",spider_web:"\u{1F578}",spiral_calendar:"\u{1F5D3}",spiral_notepad:"\u{1F5D2}",spoon:"\u{1F944}",squid:"\u{1F991}",stadium:"\u{1F3DF}",star:"\u2B50\uFE0F",star2:"\u{1F31F}",star_and_crescent:"\u262A\uFE0F",star_of_david:"\u2721\uFE0F",stars:"\u{1F320}",station:"\u{1F689}",statue_of_liberty:"\u{1F5FD}",steam_locomotive:"\u{1F682}",stew:"\u{1F372}",stop_button:"\u23F9",stop_sign:"\u{1F6D1}",stopwatch:"\u23F1",straight_ruler:"\u{1F4CF}",strawberry:"\u{1F353}",stuck_out_tongue:"\u{1F61B}",stuck_out_tongue_closed_eyes:"\u{1F61D}",stuck_out_tongue_winking_eye:"\u{1F61C}",studio_microphone:"\u{1F399}",stuffed_flatbread:"\u{1F959}",sun_behind_large_cloud:"\u{1F325}",sun_behind_rain_cloud:"\u{1F326}",sun_behind_small_cloud:"\u{1F324}",sun_with_face:"\u{1F31E}",sunflower:"\u{1F33B}",sunglasses:"\u{1F60E}",sunny:"\u2600\uFE0F",sunrise:"\u{1F305}",sunrise_over_mountains:"\u{1F304}",surfing_man:"\u{1F3C4}",surfing_woman:"\u{1F3C4}&zwj;\u2640\uFE0F",sushi:"\u{1F363}",suspension_railway:"\u{1F69F}",sweat:"\u{1F613}",sweat_drops:"\u{1F4A6}",sweat_smile:"\u{1F605}",sweet_potato:"\u{1F360}",swimming_man:"\u{1F3CA}",swimming_woman:"\u{1F3CA}&zwj;\u2640\uFE0F",symbols:"\u{1F523}",synagogue:"\u{1F54D}",syringe:"\u{1F489}",taco:"\u{1F32E}",tada:"\u{1F389}",tanabata_tree:"\u{1F38B}",taurus:"\u2649\uFE0F",taxi:"\u{1F695}",tea:"\u{1F375}",telephone_receiver:"\u{1F4DE}",telescope:"\u{1F52D}",tennis:"\u{1F3BE}",tent:"\u26FA\uFE0F",thermometer:"\u{1F321}",thinking:"\u{1F914}",thought_balloon:"\u{1F4AD}",ticket:"\u{1F3AB}",tickets:"\u{1F39F}",tiger:"\u{1F42F}",tiger2:"\u{1F405}",timer_clock:"\u23F2",tipping_hand_man:"\u{1F481}&zwj;\u2642\uFE0F",tired_face:"\u{1F62B}",tm:"\u2122\uFE0F",toilet:"\u{1F6BD}",tokyo_tower:"\u{1F5FC}",tomato:"\u{1F345}",tongue:"\u{1F445}",top:"\u{1F51D}",tophat:"\u{1F3A9}",tornado:"\u{1F32A}",trackball:"\u{1F5B2}",tractor:"\u{1F69C}",traffic_light:"\u{1F6A5}",train:"\u{1F68B}",train2:"\u{1F686}",tram:"\u{1F68A}",triangular_flag_on_post:"\u{1F6A9}",triangular_ruler:"\u{1F4D0}",trident:"\u{1F531}",triumph:"\u{1F624}",trolleybus:"\u{1F68E}",trophy:"\u{1F3C6}",tropical_drink:"\u{1F379}",tropical_fish:"\u{1F420}",truck:"\u{1F69A}",trumpet:"\u{1F3BA}",tulip:"\u{1F337}",tumbler_glass:"\u{1F943}",turkey:"\u{1F983}",turtle:"\u{1F422}",tv:"\u{1F4FA}",twisted_rightwards_arrows:"\u{1F500}",two_hearts:"\u{1F495}",two_men_holding_hands:"\u{1F46C}",two_women_holding_hands:"\u{1F46D}",u5272:"\u{1F239}",u5408:"\u{1F234}",u55b6:"\u{1F23A}",u6307:"\u{1F22F}\uFE0F",u6708:"\u{1F237}\uFE0F",u6709:"\u{1F236}",u6e80:"\u{1F235}",u7121:"\u{1F21A}\uFE0F",u7533:"\u{1F238}",u7981:"\u{1F232}",u7a7a:"\u{1F233}",umbrella:"\u2614\uFE0F",unamused:"\u{1F612}",underage:"\u{1F51E}",unicorn:"\u{1F984}",unlock:"\u{1F513}",up:"\u{1F199}",upside_down_face:"\u{1F643}",v:"\u270C\uFE0F",vertical_traffic_light:"\u{1F6A6}",vhs:"\u{1F4FC}",vibration_mode:"\u{1F4F3}",video_camera:"\u{1F4F9}",video_game:"\u{1F3AE}",violin:"\u{1F3BB}",virgo:"\u264D\uFE0F",volcano:"\u{1F30B}",volleyball:"\u{1F3D0}",vs:"\u{1F19A}",vulcan_salute:"\u{1F596}",walking_man:"\u{1F6B6}",walking_woman:"\u{1F6B6}&zwj;\u2640\uFE0F",waning_crescent_moon:"\u{1F318}",waning_gibbous_moon:"\u{1F316}",warning:"\u26A0\uFE0F",wastebasket:"\u{1F5D1}",watch:"\u231A\uFE0F",water_buffalo:"\u{1F403}",watermelon:"\u{1F349}",wave:"\u{1F44B}",wavy_dash:"\u3030\uFE0F",waxing_crescent_moon:"\u{1F312}",wc:"\u{1F6BE}",weary:"\u{1F629}",wedding:"\u{1F492}",weight_lifting_man:"\u{1F3CB}\uFE0F",weight_lifting_woman:"\u{1F3CB}\uFE0F&zwj;\u2640\uFE0F",whale:"\u{1F433}",whale2:"\u{1F40B}",wheel_of_dharma:"\u2638\uFE0F",wheelchair:"\u267F\uFE0F",white_check_mark:"\u2705",white_circle:"\u26AA\uFE0F",white_flag:"\u{1F3F3}\uFE0F",white_flower:"\u{1F4AE}",white_large_square:"\u2B1C\uFE0F",white_medium_small_square:"\u25FD\uFE0F",white_medium_square:"\u25FB\uFE0F",white_small_square:"\u25AB\uFE0F",white_square_button:"\u{1F533}",wilted_flower:"\u{1F940}",wind_chime:"\u{1F390}",wind_face:"\u{1F32C}",wine_glass:"\u{1F377}",wink:"\u{1F609}",wolf:"\u{1F43A}",woman:"\u{1F469}",woman_artist:"\u{1F469}&zwj;\u{1F3A8}",woman_astronaut:"\u{1F469}&zwj;\u{1F680}",woman_cartwheeling:"\u{1F938}&zwj;\u2640\uFE0F",woman_cook:"\u{1F469}&zwj;\u{1F373}",woman_facepalming:"\u{1F926}&zwj;\u2640\uFE0F",woman_factory_worker:"\u{1F469}&zwj;\u{1F3ED}",woman_farmer:"\u{1F469}&zwj;\u{1F33E}",woman_firefighter:"\u{1F469}&zwj;\u{1F692}",woman_health_worker:"\u{1F469}&zwj;\u2695\uFE0F",woman_judge:"\u{1F469}&zwj;\u2696\uFE0F",woman_juggling:"\u{1F939}&zwj;\u2640\uFE0F",woman_mechanic:"\u{1F469}&zwj;\u{1F527}",woman_office_worker:"\u{1F469}&zwj;\u{1F4BC}",woman_pilot:"\u{1F469}&zwj;\u2708\uFE0F",woman_playing_handball:"\u{1F93E}&zwj;\u2640\uFE0F",woman_playing_water_polo:"\u{1F93D}&zwj;\u2640\uFE0F",woman_scientist:"\u{1F469}&zwj;\u{1F52C}",woman_shrugging:"\u{1F937}&zwj;\u2640\uFE0F",woman_singer:"\u{1F469}&zwj;\u{1F3A4}",woman_student:"\u{1F469}&zwj;\u{1F393}",woman_teacher:"\u{1F469}&zwj;\u{1F3EB}",woman_technologist:"\u{1F469}&zwj;\u{1F4BB}",woman_with_turban:"\u{1F473}&zwj;\u2640\uFE0F",womans_clothes:"\u{1F45A}",womans_hat:"\u{1F452}",women_wrestling:"\u{1F93C}&zwj;\u2640\uFE0F",womens:"\u{1F6BA}",world_map:"\u{1F5FA}",worried:"\u{1F61F}",wrench:"\u{1F527}",writing_hand:"\u270D\uFE0F",x:"\u274C",yellow_heart:"\u{1F49B}",yen:"\u{1F4B4}",yin_yang:"\u262F\uFE0F",yum:"\u{1F60B}",zap:"\u26A1\uFE0F",zipper_mouth_face:"\u{1F910}",zzz:"\u{1F4A4}",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},s.Converter=function(h){var g={},m=[],_=[],x={},T=u,S={parsed:{},raw:"",format:""};C();function C(){h=h||{};for(var M in a)a.hasOwnProperty(M)&&(g[M]=a[M]);if(typeof h=="object")for(var U in h)h.hasOwnProperty(U)&&(g[U]=h[U]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof h+" was passed instead.");g.extensions&&s.helper.forEach(g.extensions,J)}function J(M,U){if(U=U||null,s.helper.isString(M))if(M=s.helper.stdExtName(M),U=M,s.extensions[M]){console.warn("DEPRECATION WARNING: "+M+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),B(s.extensions[M],M);return}else if(!s.helper.isUndefined(n[M]))M=n[M];else throw Error('Extension "'+M+'" could not be loaded. It was either not found or is not a valid extension.');typeof M=="function"&&(M=M()),s.helper.isArray(M)||(M=[M]);var te=p(M,U);if(!te.valid)throw Error(te.error);for(var de=0;de<M.length;++de){switch(M[de].type){case"lang":m.push(M[de]);break;case"output":_.push(M[de]);break}if(M[de].hasOwnProperty("listeners"))for(var Ie in M[de].listeners)M[de].listeners.hasOwnProperty(Ie)&&V(Ie,M[de].listeners[Ie])}}function B(M,U){typeof M=="function"&&(M=M(new s.Converter)),s.helper.isArray(M)||(M=[M]);var te=p(M,U);if(!te.valid)throw Error(te.error);for(var de=0;de<M.length;++de)switch(M[de].type){case"lang":m.push(M[de]);break;case"output":_.push(M[de]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function V(M,U){if(!s.helper.isString(M))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof M+" given");if(typeof U!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof U+" given");x.hasOwnProperty(M)||(x[M]=[]),x[M].push(U)}function W(M){var U=M.match(/^\s*/)[0].length,te=new RegExp("^\\s{0,"+U+"}","gm");return M.replace(te,"")}this._dispatch=function(U,te,de,Ie){if(x.hasOwnProperty(U))for(var ge=0;ge<x[U].length;++ge){var at=x[U][ge](U,te,this,de,Ie);at&&typeof at!="undefined"&&(te=at)}return te},this.listen=function(M,U){return V(M,U),this},this.makeHtml=function(M){if(!M)return M;var U={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:m,outputModifiers:_,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return M=M.replace(/¨/g,"\xA8T"),M=M.replace(/\$/g,"\xA8D"),M=M.replace(/\r\n/g,`
`),M=M.replace(/\r/g,`
`),M=M.replace(/\u00A0/g,"&nbsp;"),g.smartIndentationFix&&(M=W(M)),M=`

`+M+`

`,M=s.subParser("detab")(M,g,U),M=M.replace(/^[ \t]+$/mg,""),s.helper.forEach(m,function(te){M=s.subParser("runExtension")(te,M,g,U)}),M=s.subParser("metadata")(M,g,U),M=s.subParser("hashPreCodeTags")(M,g,U),M=s.subParser("githubCodeBlocks")(M,g,U),M=s.subParser("hashHTMLBlocks")(M,g,U),M=s.subParser("hashCodeTags")(M,g,U),M=s.subParser("stripLinkDefinitions")(M,g,U),M=s.subParser("blockGamut")(M,g,U),M=s.subParser("unhashHTMLSpans")(M,g,U),M=s.subParser("unescapeSpecialChars")(M,g,U),M=M.replace(/¨D/g,"$$"),M=M.replace(/¨T/g,"\xA8"),M=s.subParser("completeHTMLDocument")(M,g,U),s.helper.forEach(_,function(te){M=s.subParser("runExtension")(te,M,g,U)}),S=U.metadata,M},this.makeMarkdown=this.makeMd=function(M,U){if(M=M.replace(/\r\n/g,`
`),M=M.replace(/\r/g,`
`),M=M.replace(/>[ \t]+</,">\xA8NBSP;<"),!U)if(window&&window.document)U=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var te=U.createElement("div");te.innerHTML=M;var de={preList:Vt(te)};et(te);for(var Ie=te.childNodes,ge="",at=0;at<Ie.length;at++)ge+=s.subParser("makeMarkdown.node")(Ie[at],de);function et(_t){for(var xt=0;xt<_t.childNodes.length;++xt){var tt=_t.childNodes[xt];tt.nodeType===3?!/\S/.test(tt.nodeValue)&&!/^[ ]+$/.test(tt.nodeValue)?(_t.removeChild(tt),--xt):(tt.nodeValue=tt.nodeValue.split(`
`).join(" "),tt.nodeValue=tt.nodeValue.replace(/(\s)+/g,"$1")):tt.nodeType===1&&et(tt)}}function Vt(_t){for(var xt=_t.querySelectorAll("pre"),tt=[],Mt=0;Mt<xt.length;++Mt)if(xt[Mt].childElementCount===1&&xt[Mt].firstChild.tagName.toLowerCase()==="code"){var vs=xt[Mt].firstChild.innerHTML.trim(),Ht=xt[Mt].firstChild.getAttribute("data-language")||"";if(Ht==="")for(var Ks=xt[Mt].firstChild.className.split(" "),es=0;es<Ks.length;++es){var j=Ks[es].match(/^language-(.+)$/);if(j!==null){Ht=j[1];break}}vs=s.helper.unescapeHTMLEntities(vs),tt.push(vs),xt[Mt].outerHTML='<precode language="'+Ht+'" precodenum="'+Mt.toString()+'"></precode>'}else tt.push(xt[Mt].innerHTML),xt[Mt].innerHTML="",xt[Mt].setAttribute("prenum",Mt.toString());return tt}return ge},this.setOption=function(M,U){g[M]=U},this.getOption=function(M){return g[M]},this.getOptions=function(){return g},this.addExtension=function(M,U){U=U||null,J(M,U)},this.useExtension=function(M){J(M)},this.setFlavor=function(M){if(!d.hasOwnProperty(M))throw Error(M+" flavor was not found");var U=d[M];T=M;for(var te in U)U.hasOwnProperty(te)&&(g[te]=U[te])},this.getFlavor=function(){return T},this.removeExtension=function(M){s.helper.isArray(M)||(M=[M]);for(var U=0;U<M.length;++U){for(var te=M[U],de=0;de<m.length;++de)m[de]===te&&m.splice(de,1);for(var Ie=0;Ie<_.length;++Ie)_[Ie]===te&&_.splice(Ie,1)}},this.getAllExtensions=function(){return{language:m,output:_}},this.getMetadata=function(M){return M?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(M,U){S.parsed[M]=U},this._setMetadataFormat=function(M){S.format=M},this._setMetadataRaw=function(M){S.raw=M}},s.subParser("anchors",function(h,g,m){h=m.converter._dispatch("anchors.before",h,g,m);var _=function(x,T,S,C,J,B,V){if(s.helper.isUndefined(V)&&(V=""),S=S.toLowerCase(),x.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)C="";else if(!C)if(S||(S=T.toLowerCase().replace(/ ?\n/g," ")),C="#"+S,!s.helper.isUndefined(m.gUrls[S]))C=m.gUrls[S],s.helper.isUndefined(m.gTitles[S])||(V=m.gTitles[S]);else return x;C=C.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var W='<a href="'+C+'"';return V!==""&&V!==null&&(V=V.replace(/"/g,"&quot;"),V=V.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),W+=' title="'+V+'"'),g.openLinksInNewWindow&&!/^#/.test(C)&&(W+=' rel="noopener noreferrer" target="\xA8E95Eblank"'),W+=">"+T+"</a>",W};return h=h.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,_),h=h.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),h=h.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),h=h.replace(/\[([^\[\]]+)]()()()()()/g,_),g.ghMentions&&(h=h.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(x,T,S,C,J){if(S==="\\")return T+C;if(!s.helper.isString(g.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var B=g.ghMentionsLink.replace(/\{u}/g,J),V="";return g.openLinksInNewWindow&&(V=' rel="noopener noreferrer" target="\xA8E95Eblank"'),T+'<a href="'+B+'"'+V+">"+C+"</a>"})),h=m.converter._dispatch("anchors.after",h,g,m),h});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,b=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,$=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,k=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,E=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,P=function(h){return function(g,m,_,x,T,S,C){_=_.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var J=_,B="",V="",W=m||"",M=C||"";return/^www\./i.test(_)&&(_=_.replace(/^www\./i,"http://www.")),h.excludeTrailingPunctuationFromURLs&&S&&(B=S),h.openLinksInNewWindow&&(V=' rel="noopener noreferrer" target="\xA8E95Eblank"'),W+'<a href="'+_+'"'+V+">"+J+"</a>"+B+M}},Q=function(h,g){return function(m,_,x){var T="mailto:";return _=_||"",x=s.subParser("unescapeSpecialChars")(x,h,g),h.encodeEmails?(T=s.helper.encodeEmailAddress(T+x),x=s.helper.encodeEmailAddress(x)):T=T+x,_+'<a href="'+T+'">'+x+"</a>"}};s.subParser("autoLinks",function(h,g,m){return h=m.converter._dispatch("autoLinks.before",h,g,m),h=h.replace($,P(g)),h=h.replace(E,Q(g,m)),h=m.converter._dispatch("autoLinks.after",h,g,m),h}),s.subParser("simplifiedAutoLinks",function(h,g,m){return g.simplifiedAutoLink&&(h=m.converter._dispatch("simplifiedAutoLinks.before",h,g,m),g.excludeTrailingPunctuationFromURLs?h=h.replace(b,P(g)):h=h.replace(v,P(g)),h=h.replace(k,Q(g,m)),h=m.converter._dispatch("simplifiedAutoLinks.after",h,g,m)),h}),s.subParser("blockGamut",function(h,g,m){return h=m.converter._dispatch("blockGamut.before",h,g,m),h=s.subParser("blockQuotes")(h,g,m),h=s.subParser("headers")(h,g,m),h=s.subParser("horizontalRule")(h,g,m),h=s.subParser("lists")(h,g,m),h=s.subParser("codeBlocks")(h,g,m),h=s.subParser("tables")(h,g,m),h=s.subParser("hashHTMLBlocks")(h,g,m),h=s.subParser("paragraphs")(h,g,m),h=m.converter._dispatch("blockGamut.after",h,g,m),h}),s.subParser("blockQuotes",function(h,g,m){h=m.converter._dispatch("blockQuotes.before",h,g,m),h=h+`

`;var _=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return g.splitAdjacentBlockquotes&&(_=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),h=h.replace(_,function(x){return x=x.replace(/^[ \t]*>[ \t]?/gm,""),x=x.replace(/¨0/g,""),x=x.replace(/^[ \t]+$/gm,""),x=s.subParser("githubCodeBlocks")(x,g,m),x=s.subParser("blockGamut")(x,g,m),x=x.replace(/(^|\n)/g,"$1  "),x=x.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(T,S){var C=S;return C=C.replace(/^  /mg,"\xA80"),C=C.replace(/¨0/g,""),C}),s.subParser("hashBlock")(`<blockquote>
`+x+`
</blockquote>`,g,m)}),h=m.converter._dispatch("blockQuotes.after",h,g,m),h}),s.subParser("codeBlocks",function(h,g,m){h=m.converter._dispatch("codeBlocks.before",h,g,m),h+="\xA80";var _=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return h=h.replace(_,function(x,T,S){var C=T,J=S,B=`
`;return C=s.subParser("outdent")(C,g,m),C=s.subParser("encodeCode")(C,g,m),C=s.subParser("detab")(C,g,m),C=C.replace(/^\n+/g,""),C=C.replace(/\n+$/g,""),g.omitExtraWLInCodeBlocks&&(B=""),C="<pre><code>"+C+B+"</code></pre>",s.subParser("hashBlock")(C,g,m)+J}),h=h.replace(/¨0/,""),h=m.converter._dispatch("codeBlocks.after",h,g,m),h}),s.subParser("codeSpans",function(h,g,m){return h=m.converter._dispatch("codeSpans.before",h,g,m),typeof h=="undefined"&&(h=""),h=h.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(_,x,T,S){var C=S;return C=C.replace(/^([ \t]*)/g,""),C=C.replace(/[ \t]*$/g,""),C=s.subParser("encodeCode")(C,g,m),C=x+"<code>"+C+"</code>",C=s.subParser("hashHTMLSpans")(C,g,m),C}),h=m.converter._dispatch("codeSpans.after",h,g,m),h}),s.subParser("completeHTMLDocument",function(h,g,m){if(!g.completeHTMLDocument)return h;h=m.converter._dispatch("completeHTMLDocument.before",h,g,m);var _="html",x=`<!DOCTYPE HTML>
`,T="",S=`<meta charset="utf-8">
`,C="",J="";typeof m.metadata.parsed.doctype!="undefined"&&(x="<!DOCTYPE "+m.metadata.parsed.doctype+`>
`,_=m.metadata.parsed.doctype.toString().toLowerCase(),(_==="html"||_==="html5")&&(S='<meta charset="utf-8">'));for(var B in m.metadata.parsed)if(m.metadata.parsed.hasOwnProperty(B))switch(B.toLowerCase()){case"doctype":break;case"title":T="<title>"+m.metadata.parsed.title+`</title>
`;break;case"charset":_==="html"||_==="html5"?S='<meta charset="'+m.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+m.metadata.parsed.charset+`">
`;break;case"language":case"lang":C=' lang="'+m.metadata.parsed[B]+'"',J+='<meta name="'+B+'" content="'+m.metadata.parsed[B]+`">
`;break;default:J+='<meta name="'+B+'" content="'+m.metadata.parsed[B]+`">
`}return h=x+"<html"+C+`>
<head>
`+T+S+J+`</head>
<body>
`+h.trim()+`
</body>
</html>`,h=m.converter._dispatch("completeHTMLDocument.after",h,g,m),h}),s.subParser("detab",function(h,g,m){return h=m.converter._dispatch("detab.before",h,g,m),h=h.replace(/\t(?=\t)/g,"    "),h=h.replace(/\t/g,"\xA8A\xA8B"),h=h.replace(/¨B(.+?)¨A/g,function(_,x){for(var T=x,S=4-T.length%4,C=0;C<S;C++)T+=" ";return T}),h=h.replace(/¨A/g,"    "),h=h.replace(/¨B/g,""),h=m.converter._dispatch("detab.after",h,g,m),h}),s.subParser("ellipsis",function(h,g,m){return g.ellipsis&&(h=m.converter._dispatch("ellipsis.before",h,g,m),h=h.replace(/\.\.\./g,"\u2026"),h=m.converter._dispatch("ellipsis.after",h,g,m)),h}),s.subParser("emoji",function(h,g,m){if(!g.emoji)return h;h=m.converter._dispatch("emoji.before",h,g,m);var _=/:([\S]+?):/g;return h=h.replace(_,function(x,T){return s.helper.emojis.hasOwnProperty(T)?s.helper.emojis[T]:x}),h=m.converter._dispatch("emoji.after",h,g,m),h}),s.subParser("encodeAmpsAndAngles",function(h,g,m){return h=m.converter._dispatch("encodeAmpsAndAngles.before",h,g,m),h=h.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),h=h.replace(/<(?![a-z\/?$!])/gi,"&lt;"),h=h.replace(/</g,"&lt;"),h=h.replace(/>/g,"&gt;"),h=m.converter._dispatch("encodeAmpsAndAngles.after",h,g,m),h}),s.subParser("encodeBackslashEscapes",function(h,g,m){return h=m.converter._dispatch("encodeBackslashEscapes.before",h,g,m),h=h.replace(/\\(\\)/g,s.helper.escapeCharactersCallback),h=h.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,s.helper.escapeCharactersCallback),h=m.converter._dispatch("encodeBackslashEscapes.after",h,g,m),h}),s.subParser("encodeCode",function(h,g,m){return h=m.converter._dispatch("encodeCode.before",h,g,m),h=h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,s.helper.escapeCharactersCallback),h=m.converter._dispatch("encodeCode.after",h,g,m),h}),s.subParser("escapeSpecialCharsWithinTagAttributes",function(h,g,m){h=m.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",h,g,m);var _=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,x=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return h=h.replace(_,function(T){return T.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),h=h.replace(x,function(T){return T.replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),h=m.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",h,g,m),h}),s.subParser("githubCodeBlocks",function(h,g,m){return g.ghCodeBlocks?(h=m.converter._dispatch("githubCodeBlocks.before",h,g,m),h+="\xA80",h=h.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(_,x,T,S){var C=g.omitExtraWLInCodeBlocks?"":`
`;return S=s.subParser("encodeCode")(S,g,m),S=s.subParser("detab")(S,g,m),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(T?' class="'+T+" language-"+T+'"':"")+">"+S+C+"</code></pre>",S=s.subParser("hashBlock")(S,g,m),`

\xA8G`+(m.ghCodeBlocks.push({text:_,codeblock:S})-1)+`G

`}),h=h.replace(/¨0/,""),m.converter._dispatch("githubCodeBlocks.after",h,g,m)):h}),s.subParser("hashBlock",function(h,g,m){return h=m.converter._dispatch("hashBlock.before",h,g,m),h=h.replace(/(^\n+|\n+$)/g,""),h=`

\xA8K`+(m.gHtmlBlocks.push(h)-1)+`K

`,h=m.converter._dispatch("hashBlock.after",h,g,m),h}),s.subParser("hashCodeTags",function(h,g,m){h=m.converter._dispatch("hashCodeTags.before",h,g,m);var _=function(x,T,S,C){var J=S+s.subParser("encodeCode")(T,g,m)+C;return"\xA8C"+(m.gHtmlSpans.push(J)-1)+"C"};return h=s.helper.replaceRecursiveRegExp(h,_,"<code\\b[^>]*>","</code>","gim"),h=m.converter._dispatch("hashCodeTags.after",h,g,m),h}),s.subParser("hashElement",function(h,g,m){return function(_,x){var T=x;return T=T.replace(/\n\n/g,`
`),T=T.replace(/^\n/,""),T=T.replace(/\n+$/g,""),T=`

\xA8K`+(m.gHtmlBlocks.push(T)-1)+`K

`,T}}),s.subParser("hashHTMLBlocks",function(h,g,m){h=m.converter._dispatch("hashHTMLBlocks.before",h,g,m);var _=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],x=function(M,U,te,de){var Ie=M;return te.search(/\bmarkdown\b/)!==-1&&(Ie=te+m.converter.makeHtml(U)+de),`

\xA8K`+(m.gHtmlBlocks.push(Ie)-1)+`K

`};g.backslashEscapesHTMLTags&&(h=h.replace(/\\<(\/?[^>]+?)>/g,function(M,U){return"&lt;"+U+"&gt;"}));for(var T=0;T<_.length;++T)for(var S,C=new RegExp("^ {0,3}(<"+_[T]+"\\b[^>]*>)","im"),J="<"+_[T]+"\\b[^>]*>",B="</"+_[T]+">";(S=s.helper.regexIndexOf(h,C))!==-1;){var V=s.helper.splitAtIndex(h,S),W=s.helper.replaceRecursiveRegExp(V[1],x,J,B,"im");if(W===V[1])break;h=V[0].concat(W)}return h=h.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(h,g,m)),h=s.helper.replaceRecursiveRegExp(h,function(M){return`

\xA8K`+(m.gHtmlBlocks.push(M)-1)+`K

`},"^ {0,3}<!--","-->","gm"),h=h.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(h,g,m)),h=m.converter._dispatch("hashHTMLBlocks.after",h,g,m),h}),s.subParser("hashHTMLSpans",function(h,g,m){h=m.converter._dispatch("hashHTMLSpans.before",h,g,m);function _(x){return"\xA8C"+(m.gHtmlSpans.push(x)-1)+"C"}return h=h.replace(/<[^>]+?\/>/gi,function(x){return _(x)}),h=h.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(x){return _(x)}),h=h.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(x){return _(x)}),h=h.replace(/<[^>]+?>/gi,function(x){return _(x)}),h=m.converter._dispatch("hashHTMLSpans.after",h,g,m),h}),s.subParser("unhashHTMLSpans",function(h,g,m){h=m.converter._dispatch("unhashHTMLSpans.before",h,g,m);for(var _=0;_<m.gHtmlSpans.length;++_){for(var x=m.gHtmlSpans[_],T=0;/¨C(\d+)C/.test(x);){var S=RegExp.$1;if(x=x.replace("\xA8C"+S+"C",m.gHtmlSpans[S]),T===10){console.error("maximum nesting of 10 spans reached!!!");break}++T}h=h.replace("\xA8C"+_+"C",x)}return h=m.converter._dispatch("unhashHTMLSpans.after",h,g,m),h}),s.subParser("hashPreCodeTags",function(h,g,m){h=m.converter._dispatch("hashPreCodeTags.before",h,g,m);var _=function(x,T,S,C){var J=S+s.subParser("encodeCode")(T,g,m)+C;return`

\xA8G`+(m.ghCodeBlocks.push({text:x,codeblock:J})-1)+`G

`};return h=s.helper.replaceRecursiveRegExp(h,_,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),h=m.converter._dispatch("hashPreCodeTags.after",h,g,m),h}),s.subParser("headers",function(h,g,m){h=m.converter._dispatch("headers.before",h,g,m);var _=isNaN(parseInt(g.headerLevelStart))?1:parseInt(g.headerLevelStart),x=g.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,T=g.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;h=h.replace(x,function(J,B){var V=s.subParser("spanGamut")(B,g,m),W=g.noHeaderId?"":' id="'+C(B)+'"',M=_,U="<h"+M+W+">"+V+"</h"+M+">";return s.subParser("hashBlock")(U,g,m)}),h=h.replace(T,function(J,B){var V=s.subParser("spanGamut")(B,g,m),W=g.noHeaderId?"":' id="'+C(B)+'"',M=_+1,U="<h"+M+W+">"+V+"</h"+M+">";return s.subParser("hashBlock")(U,g,m)});var S=g.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;h=h.replace(S,function(J,B,V){var W=V;g.customizedHeaderId&&(W=V.replace(/\s?\{([^{]+?)}\s*$/,""));var M=s.subParser("spanGamut")(W,g,m),U=g.noHeaderId?"":' id="'+C(V)+'"',te=_-1+B.length,de="<h"+te+U+">"+M+"</h"+te+">";return s.subParser("hashBlock")(de,g,m)});function C(J){var B,V;if(g.customizedHeaderId){var W=J.match(/\{([^{]+?)}\s*$/);W&&W[1]&&(J=W[1])}return B=J,s.helper.isString(g.prefixHeaderId)?V=g.prefixHeaderId:g.prefixHeaderId===!0?V="section-":V="",g.rawPrefixHeaderId||(B=V+B),g.ghCompatibleHeaderId?B=B.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():g.rawHeaderId?B=B.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"\xA8").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():B=B.replace(/[^\w]/g,"").toLowerCase(),g.rawPrefixHeaderId&&(B=V+B),m.hashLinkCounts[B]?B=B+"-"+m.hashLinkCounts[B]++:m.hashLinkCounts[B]=1,B}return h=m.converter._dispatch("headers.after",h,g,m),h}),s.subParser("horizontalRule",function(h,g,m){h=m.converter._dispatch("horizontalRule.before",h,g,m);var _=s.subParser("hashBlock")("<hr />",g,m);return h=h.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,_),h=h.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,_),h=h.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,_),h=m.converter._dispatch("horizontalRule.after",h,g,m),h}),s.subParser("images",function(h,g,m){h=m.converter._dispatch("images.before",h,g,m);var _=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,x=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,T=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,C=/!\[([^\[\]]+)]()()()()()/g;function J(V,W,M,U,te,de,Ie,ge){return U=U.replace(/\s/g,""),B(V,W,M,U,te,de,Ie,ge)}function B(V,W,M,U,te,de,Ie,ge){var at=m.gUrls,et=m.gTitles,Vt=m.gDimensions;if(M=M.toLowerCase(),ge||(ge=""),V.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)U="";else if(U===""||U===null)if((M===""||M===null)&&(M=W.toLowerCase().replace(/ ?\n/g," ")),U="#"+M,!s.helper.isUndefined(at[M]))U=at[M],s.helper.isUndefined(et[M])||(ge=et[M]),s.helper.isUndefined(Vt[M])||(te=Vt[M].width,de=Vt[M].height);else return V;W=W.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),U=U.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var _t='<img src="'+U+'" alt="'+W+'"';return ge&&s.helper.isString(ge)&&(ge=ge.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),_t+=' title="'+ge+'"'),te&&de&&(te=te==="*"?"auto":te,de=de==="*"?"auto":de,_t+=' width="'+te+'"',_t+=' height="'+de+'"'),_t+=" />",_t}return h=h.replace(S,B),h=h.replace(T,J),h=h.replace(x,B),h=h.replace(_,B),h=h.replace(C,B),h=m.converter._dispatch("images.after",h,g,m),h}),s.subParser("italicsAndBold",function(h,g,m){h=m.converter._dispatch("italicsAndBold.before",h,g,m);function _(x,T,S){return T+x+S}return g.literalMidWordUnderscores?(h=h.replace(/\b___(\S[\s\S]*?)___\b/g,function(x,T){return _(T,"<strong><em>","</em></strong>")}),h=h.replace(/\b__(\S[\s\S]*?)__\b/g,function(x,T){return _(T,"<strong>","</strong>")}),h=h.replace(/\b_(\S[\s\S]*?)_\b/g,function(x,T){return _(T,"<em>","</em>")})):(h=h.replace(/___(\S[\s\S]*?)___/g,function(x,T){return/\S$/.test(T)?_(T,"<strong><em>","</em></strong>"):x}),h=h.replace(/__(\S[\s\S]*?)__/g,function(x,T){return/\S$/.test(T)?_(T,"<strong>","</strong>"):x}),h=h.replace(/_([^\s_][\s\S]*?)_/g,function(x,T){return/\S$/.test(T)?_(T,"<em>","</em>"):x})),g.literalMidWordAsterisks?(h=h.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(x,T,S){return _(S,T+"<strong><em>","</em></strong>")}),h=h.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(x,T,S){return _(S,T+"<strong>","</strong>")}),h=h.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(x,T,S){return _(S,T+"<em>","</em>")})):(h=h.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(x,T){return/\S$/.test(T)?_(T,"<strong><em>","</em></strong>"):x}),h=h.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(x,T){return/\S$/.test(T)?_(T,"<strong>","</strong>"):x}),h=h.replace(/\*([^\s*][\s\S]*?)\*/g,function(x,T){return/\S$/.test(T)?_(T,"<em>","</em>"):x})),h=m.converter._dispatch("italicsAndBold.after",h,g,m),h}),s.subParser("lists",function(h,g,m){function _(S,C){m.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="\xA80";var J=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,B=/\n[ \t]*\n(?!¨0)/.test(S);return g.disableForced4SpacesIndentedSublists&&(J=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(J,function(V,W,M,U,te,de,Ie){Ie=Ie&&Ie.trim()!=="";var ge=s.subParser("outdent")(te,g,m),at="";return de&&g.tasklists&&(at=' class="task-list-item" style="list-style-type: none;"',ge=ge.replace(/^[ \t]*\[(x|X| )?]/m,function(){var et='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return Ie&&(et+=" checked"),et+=">",et})),ge=ge.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(et){return"\xA8A"+et}),W||ge.search(/\n{2,}/)>-1?(ge=s.subParser("githubCodeBlocks")(ge,g,m),ge=s.subParser("blockGamut")(ge,g,m)):(ge=s.subParser("lists")(ge,g,m),ge=ge.replace(/\n$/,""),ge=s.subParser("hashHTMLBlocks")(ge,g,m),ge=ge.replace(/\n\n+/g,`

`),B?ge=s.subParser("paragraphs")(ge,g,m):ge=s.subParser("spanGamut")(ge,g,m)),ge=ge.replace("\xA8A",""),ge="<li"+at+">"+ge+`</li>
`,ge}),S=S.replace(/¨0/g,""),m.gListLevel--,C&&(S=S.replace(/\s+$/,"")),S}function x(S,C){if(C==="ol"){var J=S.match(/^ *(\d+)\./);if(J&&J[1]!=="1")return' start="'+J[1]+'"'}return""}function T(S,C,J){var B=g.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,V=g.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,W=C==="ul"?B:V,M="";if(S.search(W)!==-1)(function te(de){var Ie=de.search(W),ge=x(S,C);Ie!==-1?(M+=`

<`+C+ge+`>
`+_(de.slice(0,Ie),!!J)+"</"+C+`>
`,C=C==="ul"?"ol":"ul",W=C==="ul"?B:V,te(de.slice(Ie))):M+=`

<`+C+ge+`>
`+_(de,!!J)+"</"+C+`>
`})(S);else{var U=x(S,C);M=`

<`+C+U+`>
`+_(S,!!J)+"</"+C+`>
`}return M}return h=m.converter._dispatch("lists.before",h,g,m),h+="\xA80",m.gListLevel?h=h.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,C,J){var B=J.search(/[*+-]/g)>-1?"ul":"ol";return T(C,B,!0)}):h=h.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,C,J,B){var V=B.search(/[*+-]/g)>-1?"ul":"ol";return T(J,V,!1)}),h=h.replace(/¨0/,""),h=m.converter._dispatch("lists.after",h,g,m),h}),s.subParser("metadata",function(h,g,m){if(!g.metadata)return h;h=m.converter._dispatch("metadata.before",h,g,m);function _(x){m.metadata.raw=x,x=x.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),x=x.replace(/\n {4}/g," "),x.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(T,S,C){return m.metadata.parsed[S]=C,""})}return h=h.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(x,T,S){return _(S),"\xA8M"}),h=h.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(x,T,S){return T&&(m.metadata.format=T),_(S),"\xA8M"}),h=h.replace(/¨M/g,""),h=m.converter._dispatch("metadata.after",h,g,m),h}),s.subParser("outdent",function(h,g,m){return h=m.converter._dispatch("outdent.before",h,g,m),h=h.replace(/^(\t|[ ]{1,4})/gm,"\xA80"),h=h.replace(/¨0/g,""),h=m.converter._dispatch("outdent.after",h,g,m),h}),s.subParser("paragraphs",function(h,g,m){h=m.converter._dispatch("paragraphs.before",h,g,m),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,"");for(var _=h.split(/\n{2,}/g),x=[],T=_.length,S=0;S<T;S++){var C=_[S];C.search(/¨(K|G)(\d+)\1/g)>=0?x.push(C):C.search(/\S/)>=0&&(C=s.subParser("spanGamut")(C,g,m),C=C.replace(/^([ \t]*)/g,"<p>"),C+="</p>",x.push(C))}for(T=x.length,S=0;S<T;S++){for(var J="",B=x[S],V=!1;/¨(K|G)(\d+)\1/.test(B);){var W=RegExp.$1,M=RegExp.$2;W==="K"?J=m.gHtmlBlocks[M]:V?J=s.subParser("encodeCode")(m.ghCodeBlocks[M].text,g,m):J=m.ghCodeBlocks[M].codeblock,J=J.replace(/\$/g,"$$$$"),B=B.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,J),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(B)&&(V=!0)}x[S]=B}return h=x.join(`
`),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,""),m.converter._dispatch("paragraphs.after",h,g,m)}),s.subParser("runExtension",function(h,g,m,_){if(h.filter)g=h.filter(g,_.converter,m);else if(h.regex){var x=h.regex;x instanceof RegExp||(x=new RegExp(x,"g")),g=g.replace(x,h.replace)}return g}),s.subParser("spanGamut",function(h,g,m){return h=m.converter._dispatch("spanGamut.before",h,g,m),h=s.subParser("codeSpans")(h,g,m),h=s.subParser("escapeSpecialCharsWithinTagAttributes")(h,g,m),h=s.subParser("encodeBackslashEscapes")(h,g,m),h=s.subParser("images")(h,g,m),h=s.subParser("anchors")(h,g,m),h=s.subParser("autoLinks")(h,g,m),h=s.subParser("simplifiedAutoLinks")(h,g,m),h=s.subParser("emoji")(h,g,m),h=s.subParser("underline")(h,g,m),h=s.subParser("italicsAndBold")(h,g,m),h=s.subParser("strikethrough")(h,g,m),h=s.subParser("ellipsis")(h,g,m),h=s.subParser("hashHTMLSpans")(h,g,m),h=s.subParser("encodeAmpsAndAngles")(h,g,m),g.simpleLineBreaks?/\n\n¨K/.test(h)||(h=h.replace(/\n+/g,`<br />
`)):h=h.replace(/  +\n/g,`<br />
`),h=m.converter._dispatch("spanGamut.after",h,g,m),h}),s.subParser("strikethrough",function(h,g,m){function _(x){return g.simplifiedAutoLink&&(x=s.subParser("simplifiedAutoLinks")(x,g,m)),"<del>"+x+"</del>"}return g.strikethrough&&(h=m.converter._dispatch("strikethrough.before",h,g,m),h=h.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(x,T){return _(T)}),h=m.converter._dispatch("strikethrough.after",h,g,m)),h}),s.subParser("stripLinkDefinitions",function(h,g,m){var _=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,x=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;h+="\xA80";var T=function(S,C,J,B,V,W,M){return C=C.toLowerCase(),h.toLowerCase().split(C).length-1<2?S:(J.match(/^data:.+?\/.+?;base64,/)?m.gUrls[C]=J.replace(/\s/g,""):m.gUrls[C]=s.subParser("encodeAmpsAndAngles")(J,g,m),W?W+M:(M&&(m.gTitles[C]=M.replace(/"|'/g,"&quot;")),g.parseImgDimensions&&B&&V&&(m.gDimensions[C]={width:B,height:V}),""))};return h=h.replace(x,T),h=h.replace(_,T),h=h.replace(/¨0/,""),h}),s.subParser("tables",function(h,g,m){if(!g.tables)return h;var _=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,x=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function T(V){return/^:[ \t]*--*$/.test(V)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(V)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(V)?' style="text-align:center;"':""}function S(V,W){var M="";return V=V.trim(),(g.tablesHeaderId||g.tableHeaderId)&&(M=' id="'+V.replace(/ /g,"_").toLowerCase()+'"'),V=s.subParser("spanGamut")(V,g,m),"<th"+M+W+">"+V+`</th>
`}function C(V,W){var M=s.subParser("spanGamut")(V,g,m);return"<td"+W+">"+M+`</td>
`}function J(V,W){for(var M=`<table>
<thead>
<tr>
`,U=V.length,te=0;te<U;++te)M+=V[te];for(M+=`</tr>
</thead>
<tbody>
`,te=0;te<W.length;++te){M+=`<tr>
`;for(var de=0;de<U;++de)M+=W[te][de];M+=`</tr>
`}return M+=`</tbody>
</table>
`,M}function B(V){var W,M=V.split(`
`);for(W=0;W<M.length;++W)/^ {0,3}\|/.test(M[W])&&(M[W]=M[W].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(M[W])&&(M[W]=M[W].replace(/\|[ \t]*$/,"")),M[W]=s.subParser("codeSpans")(M[W],g,m);var U=M[0].split("|").map(function(_t){return _t.trim()}),te=M[1].split("|").map(function(_t){return _t.trim()}),de=[],Ie=[],ge=[],at=[];for(M.shift(),M.shift(),W=0;W<M.length;++W)M[W].trim()!==""&&de.push(M[W].split("|").map(function(_t){return _t.trim()}));if(U.length<te.length)return V;for(W=0;W<te.length;++W)ge.push(T(te[W]));for(W=0;W<U.length;++W)s.helper.isUndefined(ge[W])&&(ge[W]=""),Ie.push(S(U[W],ge[W]));for(W=0;W<de.length;++W){for(var et=[],Vt=0;Vt<Ie.length;++Vt)s.helper.isUndefined(de[W][Vt]),et.push(C(de[W][Vt],ge[Vt]));at.push(et)}return J(Ie,at)}return h=m.converter._dispatch("tables.before",h,g,m),h=h.replace(/\\(\|)/g,s.helper.escapeCharactersCallback),h=h.replace(_,B),h=h.replace(x,B),h=m.converter._dispatch("tables.after",h,g,m),h}),s.subParser("underline",function(h,g,m){return g.underline&&(h=m.converter._dispatch("underline.before",h,g,m),g.literalMidWordUnderscores?(h=h.replace(/\b___(\S[\s\S]*?)___\b/g,function(_,x){return"<u>"+x+"</u>"}),h=h.replace(/\b__(\S[\s\S]*?)__\b/g,function(_,x){return"<u>"+x+"</u>"})):(h=h.replace(/___(\S[\s\S]*?)___/g,function(_,x){return/\S$/.test(x)?"<u>"+x+"</u>":_}),h=h.replace(/__(\S[\s\S]*?)__/g,function(_,x){return/\S$/.test(x)?"<u>"+x+"</u>":_})),h=h.replace(/(_)/g,s.helper.escapeCharactersCallback),h=m.converter._dispatch("underline.after",h,g,m)),h}),s.subParser("unescapeSpecialChars",function(h,g,m){return h=m.converter._dispatch("unescapeSpecialChars.before",h,g,m),h=h.replace(/¨E(\d+)E/g,function(_,x){var T=parseInt(x);return String.fromCharCode(T)}),h=m.converter._dispatch("unescapeSpecialChars.after",h,g,m),h}),s.subParser("makeMarkdown.blockquote",function(h,g){var m="";if(h.hasChildNodes())for(var _=h.childNodes,x=_.length,T=0;T<x;++T){var S=s.subParser("makeMarkdown.node")(_[T],g);S!==""&&(m+=S)}return m=m.trim(),m="> "+m.split(`
`).join(`
> `),m}),s.subParser("makeMarkdown.codeBlock",function(h,g){var m=h.getAttribute("language"),_=h.getAttribute("precodenum");return"```"+m+`
`+g.preList[_]+"\n```"}),s.subParser("makeMarkdown.codeSpan",function(h){return"`"+h.innerHTML+"`"}),s.subParser("makeMarkdown.emphasis",function(h,g){var m="";if(h.hasChildNodes()){m+="*";for(var _=h.childNodes,x=_.length,T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g);m+="*"}return m}),s.subParser("makeMarkdown.header",function(h,g,m){var _=new Array(m+1).join("#"),x="";if(h.hasChildNodes()){x=_+" ";for(var T=h.childNodes,S=T.length,C=0;C<S;++C)x+=s.subParser("makeMarkdown.node")(T[C],g)}return x}),s.subParser("makeMarkdown.hr",function(){return"---"}),s.subParser("makeMarkdown.image",function(h){var g="";return h.hasAttribute("src")&&(g+="!["+h.getAttribute("alt")+"](",g+="<"+h.getAttribute("src")+">",h.hasAttribute("width")&&h.hasAttribute("height")&&(g+=" ="+h.getAttribute("width")+"x"+h.getAttribute("height")),h.hasAttribute("title")&&(g+=' "'+h.getAttribute("title")+'"'),g+=")"),g}),s.subParser("makeMarkdown.links",function(h,g){var m="";if(h.hasChildNodes()&&h.hasAttribute("href")){var _=h.childNodes,x=_.length;m="[";for(var T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g);m+="](",m+="<"+h.getAttribute("href")+">",h.hasAttribute("title")&&(m+=' "'+h.getAttribute("title")+'"'),m+=")"}return m}),s.subParser("makeMarkdown.list",function(h,g,m){var _="";if(!h.hasChildNodes())return"";for(var x=h.childNodes,T=x.length,S=h.getAttribute("start")||1,C=0;C<T;++C)if(!(typeof x[C].tagName=="undefined"||x[C].tagName.toLowerCase()!=="li")){var J="";m==="ol"?J=S.toString()+". ":J="- ",_+=J+s.subParser("makeMarkdown.listItem")(x[C],g),++S}return _+=`
<!-- -->
`,_.trim()}),s.subParser("makeMarkdown.listItem",function(h,g){for(var m="",_=h.childNodes,x=_.length,T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g);return/\n$/.test(m)?m=m.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):m+=`
`,m}),s.subParser("makeMarkdown.node",function(h,g,m){m=m||!1;var _="";if(h.nodeType===3)return s.subParser("makeMarkdown.txt")(h,g);if(h.nodeType===8)return"<!--"+h.data+`-->

`;if(h.nodeType!==1)return"";var x=h.tagName.toLowerCase();switch(x){case"h1":m||(_=s.subParser("makeMarkdown.header")(h,g,1)+`

`);break;case"h2":m||(_=s.subParser("makeMarkdown.header")(h,g,2)+`

`);break;case"h3":m||(_=s.subParser("makeMarkdown.header")(h,g,3)+`

`);break;case"h4":m||(_=s.subParser("makeMarkdown.header")(h,g,4)+`

`);break;case"h5":m||(_=s.subParser("makeMarkdown.header")(h,g,5)+`

`);break;case"h6":m||(_=s.subParser("makeMarkdown.header")(h,g,6)+`

`);break;case"p":m||(_=s.subParser("makeMarkdown.paragraph")(h,g)+`

`);break;case"blockquote":m||(_=s.subParser("makeMarkdown.blockquote")(h,g)+`

`);break;case"hr":m||(_=s.subParser("makeMarkdown.hr")(h,g)+`

`);break;case"ol":m||(_=s.subParser("makeMarkdown.list")(h,g,"ol")+`

`);break;case"ul":m||(_=s.subParser("makeMarkdown.list")(h,g,"ul")+`

`);break;case"precode":m||(_=s.subParser("makeMarkdown.codeBlock")(h,g)+`

`);break;case"pre":m||(_=s.subParser("makeMarkdown.pre")(h,g)+`

`);break;case"table":m||(_=s.subParser("makeMarkdown.table")(h,g)+`

`);break;case"code":_=s.subParser("makeMarkdown.codeSpan")(h,g);break;case"em":case"i":_=s.subParser("makeMarkdown.emphasis")(h,g);break;case"strong":case"b":_=s.subParser("makeMarkdown.strong")(h,g);break;case"del":_=s.subParser("makeMarkdown.strikethrough")(h,g);break;case"a":_=s.subParser("makeMarkdown.links")(h,g);break;case"img":_=s.subParser("makeMarkdown.image")(h,g);break;default:_=h.outerHTML+`

`}return _}),s.subParser("makeMarkdown.paragraph",function(h,g){var m="";if(h.hasChildNodes())for(var _=h.childNodes,x=_.length,T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g);return m=m.trim(),m}),s.subParser("makeMarkdown.pre",function(h,g){var m=h.getAttribute("prenum");return"<pre>"+g.preList[m]+"</pre>"}),s.subParser("makeMarkdown.strikethrough",function(h,g){var m="";if(h.hasChildNodes()){m+="~~";for(var _=h.childNodes,x=_.length,T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g);m+="~~"}return m}),s.subParser("makeMarkdown.strong",function(h,g){var m="";if(h.hasChildNodes()){m+="**";for(var _=h.childNodes,x=_.length,T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g);m+="**"}return m}),s.subParser("makeMarkdown.table",function(h,g){var m="",_=[[],[]],x=h.querySelectorAll("thead>tr>th"),T=h.querySelectorAll("tbody>tr"),S,C;for(S=0;S<x.length;++S){var J=s.subParser("makeMarkdown.tableCell")(x[S],g),B="---";if(x[S].hasAttribute("style")){var V=x[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(V){case"text-align:left;":B=":---";break;case"text-align:right;":B="---:";break;case"text-align:center;":B=":---:";break}}_[0][S]=J.trim(),_[1][S]=B}for(S=0;S<T.length;++S){var W=_.push([])-1,M=T[S].getElementsByTagName("td");for(C=0;C<x.length;++C){var U=" ";typeof M[C]!="undefined"&&(U=s.subParser("makeMarkdown.tableCell")(M[C],g)),_[W].push(U)}}var te=3;for(S=0;S<_.length;++S)for(C=0;C<_[S].length;++C){var de=_[S][C].length;de>te&&(te=de)}for(S=0;S<_.length;++S){for(C=0;C<_[S].length;++C)S===1?_[S][C].slice(-1)===":"?_[S][C]=s.helper.padEnd(_[S][C].slice(-1),te-1,"-")+":":_[S][C]=s.helper.padEnd(_[S][C],te,"-"):_[S][C]=s.helper.padEnd(_[S][C],te);m+="| "+_[S].join(" | ")+` |
`}return m.trim()}),s.subParser("makeMarkdown.tableCell",function(h,g){var m="";if(!h.hasChildNodes())return"";for(var _=h.childNodes,x=_.length,T=0;T<x;++T)m+=s.subParser("makeMarkdown.node")(_[T],g,!0);return m.trim()}),s.subParser("makeMarkdown.txt",function(h){var g=h.nodeValue;return g=g.replace(/ +/g," "),g=g.replace(/¨NBSP;/g," "),g=s.helper.unescapeHTMLEntities(g),g=g.replace(/([*_~|`])/g,"\\$1"),g=g.replace(/^(\s*)>/g,"\\$1>"),g=g.replace(/^#/gm,"\\#"),g=g.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),g=g.replace(/^( {0,3}\d+)\./gm,"$1\\."),g=g.replace(/^( {0,3})([+-])/gm,"$1\\$2"),g=g.replace(/]([\s]*)\(/g,"\\]$1\\("),g=g.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),g});var Z=this;e.exports?e.exports=s:Z.showdown=s}).call(iG)})(TE);const nG={key:0,class:"card-body d-flex justify-content-center"},oG=Ve("div",{class:"spinner-border",role:"status"},[Ve("span",{class:"visually-hidden"},"Loading...")],-1),aG=[oG],lG={key:1,class:"card-header"},uG={class:"mb-0"},cG={key:0},dG={class:"list-unstyled small mb-0"},pG={key:0},hG=Ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-telephone me-2",viewBox:"0 0 16 16"},[Ve("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})],-1),fG=["href"],yG={key:1},mG=Ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer me-2",viewBox:"0 0 16 16"},[Ve("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),Ve("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),gG=["href"],vG={key:2},bG=Ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-envelope me-2",viewBox:"0 0 16 16"},[Ve("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"})],-1),wG=["href","textContent"],_G=Ve("br",null,null,-1),SG={key:3},$G=Ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-globe2 me-2",viewBox:"0 0 16 16"},[Ve("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.472.257 2.282.287V1.077zM4.249 3.539c.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05c.362.184.763.349 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5h2.49zm1.4-2.741a12.344 12.344 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332zM8.5 5.09V7.5h2.99a12.342 12.342 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.612 13.612 0 0 1 7.5 10.91V8.5H4.51zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741H8.5zm-3.282 3.696c.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a6.696 6.696 0 0 1-.598-.933 8.853 8.853 0 0 1-.481-1.079 8.38 8.38 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.522zm-1.383-2.964A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.963 6.963 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667zm6.728 2.964a7.009 7.009 0 0 0 2.275-1.521 8.376 8.376 0 0 0-1.197-.49 8.853 8.853 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zM8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872A12.63 12.63 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.963 6.963 0 0 0 14.982 8.5h-2.49a13.36 13.36 0 0 1-.437 3.008zM14.982 7.5a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008h2.49zM11.27 2.461c.177.334.339.694.482 1.078a8.368 8.368 0 0 0 1.196-.49 7.01 7.01 0 0 0-2.275-1.52c.218.283.418.597.597.932zm-.488 1.343a7.765 7.765 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"})],-1),xG=["href"],MG=["innerHTML"],IG={key:2,class:"card-body text-center"},EG=Cf({setup(e){const t=new TE.exports.Converter;return(r,s)=>{var i;return je(Zn).loading||je(Pl).loading?(ut(),pt("div",nG,aG)):je(nr)!==void 0?(ut(),pt("div",lG,[Ve("h4",uG,zs(je(nr).name),1),je(nr).address?(ut(),pt("div",cG,zs(je(nr).address),1)):Ns("",!0),Ve("ul",dG,[je(nr).phone?(ut(),pt("li",pG,[hG,Ve("a",{href:`tel:${je(nr).phone}`},zs(je(m8)(je(nr).phone)),9,fG)])):Ns("",!0),je(nr).fax?(ut(),pt("li",yG,[mG,Ve("a",{href:`fax:${je(nr).fax}`},zs(je(m8)(je(nr).fax)),9,gG)])):Ns("",!0),je(nr).email?(ut(),pt("li",vG,[bG,Ve("a",{href:`mailto:${je(nr).email}`,textContent:zs(je(nr).email)},null,8,wG),_G])):Ns("",!0),je(nr).website?(ut(),pt("li",SG,[$G,Ve("a",{href:je(nr).website,target:"_blank"},"Website",8,xG)])):Ns("",!0)]),(i=je(nr).message)!=null&&i.trim()?(ut(),pt("div",{key:1,class:"alert alert-warning my-2",innerHTML:je(t).makeHtml(je(nr).message)},null,8,MG)):Ns("",!0)])):(ut(),pt("div",IG,"No results"))}}}),jE=V8(!1),OG=async e=>{if(jE.value=!0,ds.status=null,!e.length)throw"No Search Results";const[t]=e;ds.status=`Results for ${t.name}`,await Promise.allSettled([BB(t==null?void 0:t.extent),zB(t==null?void 0:t.extent)])},kG={class:"container-fluid py-3"},TG={key:0,class:"card rounded-0 mt-3"},jG=Cf({setup(e){return GB(),(t,r)=>(ut(),pt("main",kG,[ys(je(IE),{"hc-sources":"","hide-sources":"",large:"",onResults:je(OG)},null,8,["onResults"]),je(jE)?(ut(),pt("div",TG,[ys(EG),ys(sG)])):Ns("",!0)]))}});var CG={exports:{}};(function(e){(function(t){if(typeof window=="undefined")return;var r=!0,s=10,i="",n=0,a="",u=null,d="",p=!1,f={resize:1,click:1},y=128,v=!0,b=1,$="bodyOffset",k=$,E=!0,P="",Q={},Z=32,h=null,g=!1,m=!1,_="[iFrameSizer]",x=_.length,T="",S={max:1,min:1,bodyScroll:1,documentElementScroll:1},C="child",J=window.parent,B="*",V=0,W=!1,M=null,U=16,te=1,de="scroll",Ie=de,ge=window,at=function(){Y("onMessage function not defined")},et=function(){},Vt=function(){},_t={height:function(){return Y("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return Y("Custom width calculation function not defined"),document.body.scrollWidth}},xt={},tt=!1;function Mt(){}try{var vs=Object.create({},{passive:{get:function(){tt=!0}}});window.addEventListener("test",Mt,vs),window.removeEventListener("test",Mt,vs)}catch{}function Ht(L,R,ne,be){L.addEventListener(R,ne,tt?be||{}:!1)}function Ks(L,R,ne){L.removeEventListener(R,ne,!1)}function es(L){return L.charAt(0).toUpperCase()+L.slice(1)}function j(L){var R,ne,be,He=null,At=0,ft=function(){At=Date.now(),He=null,be=L.apply(R,ne),He||(R=ne=null)};return function(){var Ft=Date.now();At||(At=Ft);var dt=U-(Ft-At);return R=this,ne=arguments,dt<=0||dt>U?(He&&(clearTimeout(He),He=null),At=Ft,be=L.apply(R,ne),He||(R=ne=null)):He||(He=setTimeout(ft,dt)),be}}function A(L){return _+"["+T+"] "+L}function F(L){g&&typeof window.console=="object"&&console.log(A(L))}function Y(L){typeof window.console=="object"&&console.warn(A(L))}function ee(){le(),F("Initialising iFrame ("+window.location.href+")"),oe(),Se(),se("background",i),se("padding",d),La(),lt(),Ke(),ve(),sr(),Na(),rt(),Q=Mi(),Ei("init","Init message from host page"),et()}function le(){function L(ne){return ne==="true"}var R=P.substr(x).split(":");T=R[0],n=t!==R[1]?Number(R[1]):n,p=t!==R[2]?L(R[2]):p,g=t!==R[3]?L(R[3]):g,Z=t!==R[4]?Number(R[4]):Z,r=t!==R[6]?L(R[6]):r,a=R[7],k=t!==R[8]?R[8]:k,i=R[9],d=R[10],V=t!==R[11]?Number(R[11]):V,Q.enable=t!==R[12]?L(R[12]):!1,C=t!==R[13]?R[13]:C,Ie=t!==R[14]?R[14]:Ie,m=t!==R[15]?Boolean(R[15]):m}function pe(L){var R=L.split("Callback");if(R.length===2){var ne="on"+R[0].charAt(0).toUpperCase()+R[0].slice(1);this[ne]=this[L],delete this[L],Y("Deprecated: '"+L+"' has been renamed '"+ne+"'. The old method will be removed in the next major version.")}}function oe(){function L(){var ne=window.iFrameResizer;F("Reading data from page: "+JSON.stringify(ne)),Object.keys(ne).forEach(pe,ne),at="onMessage"in ne?ne.onMessage:at,et="onReady"in ne?ne.onReady:et,B="targetOrigin"in ne?ne.targetOrigin:B,k="heightCalculationMethod"in ne?ne.heightCalculationMethod:k,Ie="widthCalculationMethod"in ne?ne.widthCalculationMethod:Ie}function R(ne,be){return typeof ne=="function"&&(F("Setup custom "+be+"CalcMethod"),_t[be]=ne,ne="custom"),ne}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(L(),k=R(k,"height"),Ie=R(Ie,"width")),F("TargetOrigin for parent set to: "+B)}function ue(L,R){return R.indexOf("-")!==-1&&(Y("Negative CSS value ignored for "+L),R=""),R}function se(L,R){t!==R&&R!==""&&R!=="null"&&(document.body.style[L]=R,F("Body "+L+' set to "'+R+'"'))}function Se(){t===a&&(a=n+"px"),se("margin",ue("margin",a))}function ve(){document.documentElement.style.height="",document.body.style.height="",F('HTML & body height set to "auto"')}function he(L){var R={add:function(ne){function be(){Ei(L.eventName,L.eventType)}xt[ne]=be,Ht(window,ne,be,{passive:!0})},remove:function(ne){var be=xt[ne];delete xt[ne],Ks(window,ne,be)}};L.eventNames&&Array.prototype.map?(L.eventName=L.eventNames[0],L.eventNames.map(R[L.method])):R[L.method](L.eventName),F(es(L.method)+" event listener: "+L.eventType)}function Ee(L){he({method:L,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),he({method:L,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),he({method:L,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),he({method:L,eventType:"Input",eventName:"input"}),he({method:L,eventType:"Mouse Up",eventName:"mouseup"}),he({method:L,eventType:"Mouse Down",eventName:"mousedown"}),he({method:L,eventType:"Orientation Change",eventName:"orientationchange"}),he({method:L,eventType:"Print",eventName:["afterprint","beforeprint"]}),he({method:L,eventType:"Ready State Change",eventName:"readystatechange"}),he({method:L,eventType:"Touch Start",eventName:"touchstart"}),he({method:L,eventType:"Touch End",eventName:"touchend"}),he({method:L,eventType:"Touch Cancel",eventName:"touchcancel"}),he({method:L,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),he({method:L,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),he({method:L,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),C==="child"&&he({method:L,eventType:"IFrame Resized",eventName:"resize"})}function Ce(L,R,ne,be){return R!==L&&(L in ne||(Y(L+" is not a valid option for "+be+"CalculationMethod."),L=R),F(be+' calculation method set to "'+L+'"')),L}function lt(){k=Ce(k,$,bs,"height")}function Ke(){Ie=Ce(Ie,de,Ii,"width")}function rt(){r===!0?(Ee("add"),Cy()):F("Auto Resize disabled")}function gr(){u!==null&&u.disconnect()}function Qs(){Ee("remove"),gr(),clearInterval(h)}function La(){var L=document.createElement("div");L.style.clear="both",L.style.display="block",L.style.height="0",document.body.appendChild(L)}function Mi(){function L(){return{x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}}function R(dt){var me=dt.getBoundingClientRect(),yt=L();return{x:parseInt(me.left,10)+parseInt(yt.x,10),y:parseInt(me.top,10)+parseInt(yt.y,10)}}function ne(dt){function me(Vr){var Zs=R(Vr);F("Moving to in page link (#"+yt+") at x: "+Zs.x+" y: "+Zs.y),qe(Zs.y,Zs.x,"scrollToOffset")}var yt=dt.split("#")[1]||dt,Be=decodeURIComponent(yt),Or=document.getElementById(Be)||document.getElementsByName(Be)[0];t!==Or?me(Or):(F("In page link (#"+yt+") not found in iFrame, so sending to parent"),qe(0,0,"inPageLink","#"+yt))}function be(){var dt=window.location.hash,me=window.location.href;dt!==""&&dt!=="#"&&ne(me)}function He(){function dt(me){function yt(Be){Be.preventDefault(),ne(this.getAttribute("href"))}me.getAttribute("href")!=="#"&&Ht(me,"click",yt)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),dt)}function At(){Ht(window,"hashchange",be)}function ft(){setTimeout(be,y)}function Ft(){Array.prototype.forEach&&document.querySelectorAll?(F("Setting up location.hash handlers"),He(),At(),ft()):Y("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return Q.enable?Ft():F("In page linking not enabled"),{findTarget:ne}}function Na(){if(m!==!0)return;function L(ne){qe(0,0,ne.type,ne.screenY+":"+ne.screenX)}function R(ne,be){F("Add event listener: "+be),Ht(window.document,ne,L)}R("mouseenter","Mouse Enter"),R("mouseleave","Mouse Leave")}function sr(){F("Enable public methods"),ge.parentIFrame={autoResize:function(R){return R===!0&&r===!1?(r=!0,rt()):R===!1&&r===!0&&(r=!1,Qs()),qe(0,0,"autoResize",JSON.stringify(r)),r},close:function(){qe(0,0,"close")},getId:function(){return T},getPageInfo:function(R){typeof R=="function"?(Vt=R,qe(0,0,"pageInfo")):(Vt=function(){},qe(0,0,"pageInfoStop"))},moveToAnchor:function(R){Q.findTarget(R)},reset:function(){N("parentIFrame.reset")},scrollTo:function(R,ne){qe(ne,R,"scrollTo")},scrollToOffset:function(R,ne){qe(ne,R,"scrollToOffset")},sendMessage:function(R,ne){qe(0,0,"message",JSON.stringify(R),ne)},setHeightCalculationMethod:function(R){k=R,lt()},setWidthCalculationMethod:function(R){Ie=R,Ke()},setTargetOrigin:function(R){F("Set targetOrigin: "+R),B=R},size:function(R,ne){var be=""+(R||"")+(ne?","+ne:"");Ei("size","parentIFrame.size("+be+")",R,ne)}}}function vr(){Z!==0&&(F("setInterval: "+Z+"ms"),h=setInterval(function(){Ei("interval","setInterval: "+Z)},Math.abs(Z)))}function Da(){function L(Be){function Or(Vr){Vr.complete===!1&&(F("Attach listeners to "+Vr.src),Vr.addEventListener("load",He,!1),Vr.addEventListener("error",At,!1),dt.push(Vr))}Be.type==="attributes"&&Be.attributeName==="src"?Or(Be.target):Be.type==="childList"&&Array.prototype.forEach.call(Be.target.querySelectorAll("img"),Or)}function R(Be){dt.splice(dt.indexOf(Be),1)}function ne(Be){F("Remove listeners from "+Be.src),Be.removeEventListener("load",He,!1),Be.removeEventListener("error",At,!1),R(Be)}function be(Be,Or,Vr){ne(Be.target),Ei(Or,Vr+": "+Be.target.src)}function He(Be){be(Be,"imageLoad","Image loaded")}function At(Be){be(Be,"imageLoadFailed","Image load failed")}function ft(Be){Ei("mutationObserver","mutationObserver: "+Be[0].target+" "+Be[0].type),Be.forEach(L)}function Ft(){var Be=document.querySelector("body"),Or={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return yt=new me(ft),F("Create body MutationObserver"),yt.observe(Be,Or),yt}var dt=[],me=window.MutationObserver||window.WebKitMutationObserver,yt=Ft();return{disconnect:function(){"disconnect"in yt&&(F("Disconnect body MutationObserver"),yt.disconnect(),dt.forEach(ne))}}}function Cy(){var L=0>Z;window.MutationObserver||window.WebKitMutationObserver?L?vr():u=Da():(F("MutationObserver not supported in this browser!"),vr())}function yu(L,R){var ne=0;return R=R||document.body,ne=document.defaultView.getComputedStyle(R,null),ne=ne!==null?ne[L]:0,parseInt(ne,s)}function Ay(L){L>U/2&&(U=2*L,F("Event throttle increased to "+U+"ms"))}function mu(L,R){for(var ne=R.length,be=0,He=0,At=es(L),ft=Date.now(),Ft=0;Ft<ne;Ft++)be=R[Ft].getBoundingClientRect()[L]+yu("margin"+At,R[Ft]),be>He&&(He=be);return ft=Date.now()-ft,F("Parsed "+ne+" HTML elements"),F("Element position calculated in "+ft+"ms"),Ay(ft),He}function za(L){return[L.bodyOffset(),L.bodyScroll(),L.documentElementOffset(),L.documentElementScroll()]}function Gd(L,R){function ne(){return Y("No tagged elements ("+R+") found on page"),document.querySelectorAll("body *")}var be=document.querySelectorAll("["+R+"]");return be.length===0&&ne(),mu(L,be)}function Hd(){return document.querySelectorAll("body *")}var bs={bodyOffset:function(){return document.body.offsetHeight+yu("marginTop")+yu("marginBottom")},offset:function(){return bs.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return _t.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,za(bs))},min:function(){return Math.min.apply(null,za(bs))},grow:function(){return bs.max()},lowestElement:function(){return Math.max(bs.bodyOffset()||bs.documentElementOffset(),mu("bottom",Hd()))},taggedElement:function(){return Gd("bottom","data-iframe-height")}},Ii={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return _t.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Ii.bodyScroll(),Ii.documentElementScroll())},max:function(){return Math.max.apply(null,za(Ii))},min:function(){return Math.min.apply(null,za(Ii))},rightMostElement:function(){return mu("right",Hd())},taggedElement:function(){return Gd("right","data-iframe-width")}};function Jd(L,R,ne,be){function He(){b=yt,te=Be,qe(b,te,L)}function At(){function Or(Vr,Zs){var Py=Math.abs(Vr-Zs)<=V;return!Py}return yt=t!==ne?ne:bs[k](),Be=t!==be?be:Ii[Ie](),Or(b,yt)||p&&Or(te,Be)}function ft(){return!(L in{init:1,interval:1,size:1})}function Ft(){return k in S||p&&Ie in S}function dt(){F("No change in size detected")}function me(){ft()&&Ft()?N(R):L in{interval:1}||dt()}var yt,Be;At()||L==="init"?(Wd(),He()):me()}var Ry=j(Jd);function Ei(L,R,ne,be){function He(){L in{reset:1,resetPage:1,init:1}||F("Trigger event: "+R)}function At(){return W&&L in f}At()?F("Trigger event cancelled: "+L):(He(),L==="init"?Jd(L,R,ne,be):Ry(L,R,ne,be))}function Wd(){W||(W=!0,F("Trigger event lock on")),clearTimeout(M),M=setTimeout(function(){W=!1,F("Trigger event lock off"),F("--")},y)}function Kd(L){b=bs[k](),te=Ii[Ie](),qe(b,te,L)}function N(L){var R=k;k=$,F("Reset trigger event: "+L),Wd(),Kd("reset"),k=R}function qe(L,R,ne,be,He){function At(){t===He?He=B:F("Message targetOrigin: "+He)}function ft(){var Ft=L+":"+R,dt=T+":"+Ft+":"+ne+(t!==be?":"+be:"");F("Sending message to host page ("+dt+")"),J.postMessage(_+dt,He)}At(),ft()}function Va(L){var R={init:function(){P=L.data,J=L.source,ee(),v=!1,setTimeout(function(){E=!1},y)},reset:function(){E?F("Page reset ignored by init"):(F("Page size reset by host page"),Kd("resetPage"))},resize:function(){Ei("resizeParent","Parent window requested size check")},moveToAnchor:function(){Q.findTarget(He())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var yt=He();F("PageInfoFromParent called from parent: "+yt),Vt(JSON.parse(yt)),F(" --")},message:function(){var yt=He();F("onMessage called from parent: "+yt),at(JSON.parse(yt)),F(" --")}};function ne(){return _===(""+L.data).substr(0,x)}function be(){return L.data.split("]")[1].split(":")[0]}function He(){return L.data.substr(L.data.indexOf(":")+1)}function At(){return!e.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype}function ft(){return L.data.split(":")[2]in{true:1,false:1}}function Ft(){var me=be();me in R?R[me]():!At()&&!ft()&&Y("Unexpected message ("+L.data+")")}function dt(){v===!1?Ft():ft()?R.init():F('Ignored message of type "'+be()+'". Received before initialization.')}ne()&&dt()}function zr(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}Ht(window,"message",Va),Ht(window,"readystatechange",zr),zr()})()})(CG);mT(jG).mount("#app");export{K1 as $,_1 as A,b1 as B,o as C,Zl as D,c as E,If as F,I as G,au as H,kd as I,kt as J,Zb as K,K$ as L,jt as M,hP as N,Qw as O,Me as P,Ow as Q,gc as R,Sd as S,X as T,da as U,Dr as V,Q$ as W,nn as X,io as Y,ad as Z,$t as _,Gs as a,Si as a$,V7 as a0,Id as a1,ql as a2,Xe as a3,gs as a4,Fd as a5,wd as a6,fs as a7,s0 as a8,Wf as a9,Ec as aA,no as aB,Qx as aC,Ru as aD,d4 as aE,U4 as aF,H4 as aG,Sw as aH,jT as aI,Ql as aJ,V6 as aK,P4 as aL,U6 as aM,Y6 as aN,S$ as aO,Ew as aP,S6 as aQ,Hl as aR,DT as aS,Ws as aT,jj as aU,Qc as aV,Tt as aW,wt as aX,DL as aY,ur as aZ,zt as a_,gt as aa,M5 as ab,dn as ac,Hs as ad,bi as ae,Ir as af,Pf as ag,bf as ah,ye as ai,Tw as aj,Nd as ak,cu as al,cz as am,zw as an,mx as ao,ce as ap,an as aq,yy as ar,pE as as,hu as at,rr as au,$e as av,Te as aw,pu as ax,ew as ay,Mc as az,Px as b,ma as b$,Ox as b0,Yl as b1,p1 as b2,wE as b3,qq as b4,Cq as b5,Pq as b6,Rq as b7,Nq as b8,Lq as b9,Ca as bA,mL as bB,R0 as bC,jl as bD,hf as bE,gL as bF,Ud as bG,o4 as bH,Q7 as bI,fI as bJ,oo as bK,Er as bL,Q5 as bM,Z5 as bN,Mj as bO,Zx as bP,ga as bQ,sa as bR,kx as bS,cI as bT,Zr as bU,jd as bV,Td as bW,i6 as bX,td as bY,HC as bZ,pF as b_,Uq as ba,Vq as bb,Jq as bc,Hq as bd,vE as be,Qq as bf,Kq as bg,ct as bh,fu as bi,qA as bj,VF as bk,DR as bl,Y1 as bm,rw as bn,NR as bo,on as bp,yw as bq,kF as br,TF as bs,jF as bt,PT as bu,O6 as bv,yL as bw,QF as bx,_5 as by,E6 as bz,Zf as c,zM as c$,ff as c0,yf as c1,Kf as c2,Qf as c3,jR as c4,ka as c5,Ad as c6,TR as c7,m4 as c8,hn as c9,Fx as cA,vA as cB,h1 as cC,tA as cD,Xm as cE,jx as cF,Rx as cG,eI as cH,tI as cI,rI as cJ,FT as cK,Qb as cL,Kb as cM,ps as cN,OM as cO,cf as cP,zT as cQ,UT as cR,F1 as cS,A1 as cT,uf as cU,D1 as cV,jM as cW,CR as cX,LM as cY,R1 as cZ,IR as c_,Aw as ca,XM as cb,l7 as cc,kl as cd,_6 as ce,ty as cf,Ic as cg,e1 as ch,H6 as ci,Jb as cj,bd as ck,Ej as cl,Pa as cm,Mw as cn,YF as co,Bh as cp,u5 as cq,Zg as cr,XR as cs,ET as ct,v1 as cu,SA as cv,kA as cw,d6 as cx,ZA as cy,g1 as cz,Yr as d,I6 as d$,Ze as d0,Wn as d1,f4 as d2,hF as d3,GC as d4,u6 as d5,cd as d6,Hr as d7,Ta as d8,g4 as d9,J$ as dA,aV as dB,ta as dC,jv as dD,Wb as dE,G6 as dF,dz as dG,$a as dH,Av as dI,rn as dJ,t4 as dK,M1 as dL,YA as dM,XA as dN,n9 as dO,AR as dP,e4 as dQ,dF as dR,Ml as dS,Uf as dT,qf as dU,t1 as dV,b$ as dW,W$ as dX,Tv as dY,Ym as dZ,Cw as d_,y4 as da,h4 as db,p4 as dc,AM as dd,Rw as de,$4 as df,FM as dg,S4 as dh,vM as di,RM as dj,eA as dk,DM as dl,VM as dm,GM as dn,KM as dp,QM as dq,z1 as dr,V1 as ds,WM as dt,ZM as du,YM as dv,NM as dw,ya as dx,Fc as dy,Vw as dz,OT as e,cv as e$,AT as e0,RT as e1,M6 as e2,qh as e3,PA as e4,v$ as e5,yl as e6,Ds as e7,T4 as e8,xi as e9,j4 as eA,nz as eB,O4 as eC,Z4 as eD,Q4 as eE,K4 as eF,r4 as eG,k4 as eH,Yi as eI,De as eJ,GU as eK,hI as eL,Cd as eM,Gf as eN,ea as eO,mr as eP,mI as eQ,pI as eR,xy as eS,Oa as eT,ww as eU,k6 as eV,Hf as eW,D4 as eX,Nw as eY,Wc as eZ,tx as e_,cL as ea,$j as eb,K6 as ec,ER as ed,qT as ee,PM as ef,Ge as eg,cy as eh,e6 as ei,$$ as ej,w5 as ek,iy as el,Kx as em,Lf as en,tP as eo,cs as ep,yb as eq,r1 as er,X6 as es,Lr as et,L7 as eu,fP as ev,yI as ew,mc as ex,Gw as ey,Iy as ez,H$ as f,I5 as f$,iz as f0,oy as f1,A4 as f2,q1 as f3,oz as f4,L4 as f5,dI as f6,Nr as f7,vI as f8,a4 as f9,We as fA,Y5 as fB,hw as fC,UF as fD,vw as fE,dd as fF,Xj as fG,pw as fH,WP as fI,py as fJ,uz as fK,EM as fL,pd as fM,l4 as fN,s1 as fO,kv as fP,ru as fQ,Bl as fR,Fr as fS,x5 as fT,Ld as fU,Md as fV,oP as fW,u7 as fX,ZT as fY,$A as fZ,a1 as f_,my as fa,u4 as fb,c4 as fc,ny as fd,ao as fe,F4 as ff,Xr as fg,ou as fh,Aa as fi,ho as fj,B4 as fk,C4 as fl,fg as fm,S1 as fn,uI as fo,Dw as fp,db as fq,Nc as fr,R4 as fs,My as ft,it as fu,Ia as fv,gw as fw,cx as fx,Od as fy,lu as fz,tw as g,I$ as g$,fo as g0,hg as g1,_d as g2,hM as g3,to as g4,Ty as g5,kT as g6,T6 as g7,zc as g8,cb as g9,sy as gA,IM as gB,v4 as gC,TM as gD,i7 as gE,d7 as gF,y7 as gG,ix as gH,b4 as gI,wM as gJ,M$ as gK,x$ as gL,po as gM,z7 as gN,Kc as gO,ey as gP,q7 as gQ,qd as gR,N1 as gS,RR as gT,e7 as gU,a7 as gV,P1 as gW,CM as gX,k5 as gY,bM as gZ,L1 as g_,od as ga,dy as gb,V4 as gc,z4 as gd,xa as ge,uw as gf,TN as gg,ja as gh,R7 as gi,N4 as gj,jN as gk,Mx as gl,w as gm,yF as gn,Ij as go,sI as gp,iI as gq,nI as gr,eu as gs,OR as gt,$y as gu,RA as gv,Sa as gw,nM as gx,Ul as gy,Bw as gz,ze as h,LT as h0,TT as h1,n7 as h2,o7 as h3,kR as h4,x4 as h5,RG as h6,K as i,ht as j,xj as k,D as l,Xl as m,na as n,R$ as o,uo as p,fe as q,q as r,Sj as s,we as t,H as u,Ma as v,w1 as w,Tl as x,fy as y,rf as z};
